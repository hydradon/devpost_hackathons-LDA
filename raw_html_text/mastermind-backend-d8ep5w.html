<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li class="text-center">
                        <a data-lightbox="389430" data-title="The front page of Mastermind frontend" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/389/430/datas/original.png">
                            <img alt="Axiom Zen - Mastermind Challenge #1 and #2 &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/389/430/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                The front page of Mastermind frontend
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="389435" data-title="The API usage screen: http://mastermind-macacoprego.herokuapp.com/api/games/" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/389/435/datas/original.png">
                            <img alt="Axiom Zen - Mastermind Challenge #1 and #2 &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/389/435/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                The API usage screen: http://mastermind-macacoprego.herokuapp.com/api/games/
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h1>
                    Usage
                </h1>
                <p>
                    The bot is currently
                    <strong>
                        very
                    </strong>
                    simple, you can
                    <em>
                        create games
                    </em>
                    ,
                    <em>
                        make a
guess
                    </em>
                    and
                    <em>
                        ask for a hint
                    </em>
                    .
                </p>
                <h2>
                    Create games
                </h2>
                <p>
                    Send a message to the bot (for the sake of the example, let's call it
                    <em>
                        macaco
                    </em>
                    ):
                </p>
                <pre class="language-nolang"><code>@macaco create ... [list of players]
</code></pre>
                <p>
                    For example:
                </p>
                <pre class="language-nolang"><code>jvdm [6:42 PM] 
@macaco: create with @felipenfranco

macacoBOT [6:42 PM] 
@jvdm: sure, give me a second to create a game for you...

[6:42] 
@jvdm: the game #1 has been created, there are 2 players (@jvdm, @felipenfranco), you all may send guesses by sending messages like 'guess #29 &lt;your guess&gt;'.    
</code></pre>
                <h2>
                    Making a guess
                </h2>
                <p>
                    Send a message to the bot like this:
                </p>
                <pre class="language-nolang"><code>@macaco guess #&lt;game-id&gt; &lt;guess string&gt;
</code></pre>
                <p>
                    And the bot will reply (to the same channel):
                </p>
                <pre class="language-nolang"><code>jvdm [6:42 PM] 
@macaco: guess #29 abcdefgh

macacoBOT [6:42 PM] 
@jvdm: 0 exacts, 6 nears (total guess: 1)
</code></pre>
                <p>
                    Guesses are all lower-case characters from
                    <code>
                        a
                    </code>
                    to
                    <code>
                        g
                    </code>
                    (8
possibilities, 8**8 combinations).
                </p>
                <p>
                    A reply with
                    <code>
                        8 exacts
                    </code>
                    marks you as a winner.  The other players
can keep playing (the bot will accept their guesses) until they submit
the correct answer.  If you have already guessed the correct answer or
if you send a invalid guess (for example, bad characters in the guess
and so on) the bot only replies with:
                </p>
                <pre class="language-nolang"><code>macacoBOT [6:42 PM] 
@jvdm: bad guess
</code></pre>
                <p>
                    Yes, that's a
                    <code>
                        FIXME
                    </code>
                    .
                </p>
                <h2>
                    Asking for a hint
                </h2>
                <p>
                    To ask for a hint just say something to the bot with
                    <em>
                        hint
                    </em>
                    followed
by a game id in the form
                    <code>
                        #&lt;id&gt;
                    </code>
                    , e.g.:
                </p>
                <pre class="language-nolang"><code>@macaco please, give a hint for the game #29?
</code></pre>
                <p>
                    Or:
                </p>
                <pre class="language-nolang"><code>@macaco with a hint i certainly can finish the game #29
</code></pre>
                <p>
                    The bot replies:
                </p>
                <pre class="language-nolang"><code>jvdm [6:51 PM] 
@macaco: with a hint I can finish #29

macacoBOT [6:51 PM] 
@jvdm: 'd' at position 0
</code></pre>
                <h2>
                    Introduction
                </h2>
                <p>
                    This is a django backend multiplayer implementation of the
                    <a href="https://en.wikipedia.org/wiki/Mastermind_(board_game)" rel="nofollow">
                        Mastermind
                    </a>
                    game in the form of a RESTfull API, including a slack bot to play the
gam, running at
                    <a href="http://mastermind-macacoprego.herokuapp.com/" rel="nofollow">
                        http://mastermind-macacoprego.herokuapp.com/
                    </a>
                    .
                </p>
                <p>
                    This original game was for two players: One player becomes the
                    <em>
                        codemaker
                    </em>
                    , the other the
                    <em>
                        codebreaker
                    </em>
                    . The codemaker chooses a
pattern of
                    <em>
                        four
                    </em>
                    code pegscodebreaker. The codebreaker tries to guess
the pattern, in both order and color, within twelve (or ten, or eight)
turns.
                </p>
                <p>
                    This is a very simple implementation,
with minimal interfaces, no authentication and was created during the
participation of
                    <a href="https://macacoprego.tech" rel="nofollow">
                        macacoprego.tech
                    </a>
                    on the
2016's
                    <a href="https://www.vanhack.com/hackathon/" rel="nofollow">
                        vanhackathon
                    </a>
                    .
                </p>
                <p>
                    This implementation mimics the
                    <em>
                        codemaker
                    </em>
                    role on the backend.  Then
the HTML UI can be used be
                    <em>
                        codebreakers
                    </em>
                    and also the slack bot
proxies the backend as a
                    <em>
                        codemaker
                    </em>
                    using the same APIs.
                </p>
                <p>
                    We also support multiple concurrent
                    <em>
                        codebreakers
                    </em>
                    for each game.
This is a very simple implementation, with minimal interfaces.
                </p>
                <h2>
                    Inspiration
                </h2>
                <p>
                    This was built based on the Axiom-Zen challenge #1, #2 and #3.
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    It provides a multiplayer API to play mastermind, including multiple
games concurrently offered in as a RESTfull API.  This RESTfull API is
used to provide a web interface and a slack bot for users to play the
mastermind game.
                </p>
                <h2>
                    How we built it
                </h2>
                <p>
                    Everything uses
                    <a href="http://www.python.org/" rel="nofollow">
                        python3
                    </a>
                    .  The backend uses
Django and Django REST Framework. The bot is using
                    <code>
                        aslack
&lt;https://github.com/macacoprego/aslack&gt;
                    </code>
                    _ asynchronous interface to
slack (on top of asyncio).
                </p>
                <h3>
                    Installation
                </h3>
                <p>
                    Typically you would run the backend and  it inside a pyvenv::
                </p>
                <p>
                    $ git clone
                    <a href="https://github.com/macacoprego/mastermind-bot" rel="nofollow">
                        https://github.com/macacoprego/mastermind-bot
                    </a>
                    $ mastermind-bot
  $ mkdir venv
  $ pyvenv venv/mastermind-bot
  $ source venv/mastermind-bot/bin/activate
                </p>
                <p>
                    It is distributed with
                    <code>
                        setuptools
                    </code>
                    , you only need to install it
using::
                </p>
                <p>
                    $ python setup.py install .
                </p>
                <p>
                    And then::
                </p>
                <p>
                    $ mastermind-bot
                </p>
                <p>
                    It will ask you for the api token, you can also user
                    <code>
                        --token
                    </code>
                    or set
                    <code>
                        MACACOPREGO_MASTERMIND_BOT_TOKEN
                    </code>
                    .
                </p>
                <h2>
                    Challenges we ran into
                </h2>
                <p>
                    Initially we thought that APIs to join a game between two different
users were supposed to keep the HTTP request waiting for all
participants to join.  This led to a lot of discussions on how to
synchronize multiple django requests, using
                    <code>
                        postgresql
                    </code>
                    or any other
inter-process locking mechanism.
                </p>
                <p>
                    After we discovered (by asking Axiom-zen people about it) that this
was not a requirement everything became easier.
                </p>
                <h2>
                    Accomplishments that we're proud of
                </h2>
                <p>
                    The API is very maintainable and scalable, we also think that we made
it usable very quickly.
                </p>
                <h2>
                    What we learned
                </h2>
                <ul>
                    <li>
                        How to provide custom endpoints for rest framework's ViewSets.
                    </li>
                </ul>
                <h2>
                    What's next for mastermind-backend
                </h2>
                <ul>
                    <li>
                        <p>
                            Include a field during game creation to enable users to select the
maximum number of guessing rounds.
                        </p>
                    </li>
                    <li>
                        <p>
                            Delete the game after if nobody plays during some timeout.
                        </p>
                    </li>
                </ul>
                <h2>
                    API Documentation
                </h2>
                <p>
                    Three APIs are provides, they all receive JSON inputs, so fields below
refers to properties of a JSON object.
                </p>
                <h3>
                    GET
                    <code>
                        /api/games/
                    </code>
                </h3>
                <pre class="language-nolang"><code>List all games.

**Parameters**:

``None``

**Returns**:

List of objects for each game::

{ "id": &lt;game id&gt;
, "created_at": &lt;timestamp of game creation&gt;
, "players_count": &lt;total number of players allowed to join&gt;
, "players": &lt;list of current players (which will be always be empty on creation)&gt;
, "colors": ["e","f","d","g","c","h","a","b"]
, "code_length": 8
, "round": &lt;game rounds or turns played until now (which will be 0)&gt;
, "solved" : &lt;if the game was solved or not&gt;
}

**Description**:

All games are returned, solved and unsolved.
</code></pre>
                <h3>
                    POST
                    <code>
                        /api/games/
                    </code>
                </h3>
                <pre class="language-nolang"><code>Create a new game.

**Parameters**:

:players_count: Number of players this game supports.

**Returns**:

{ "id": &lt;game id&gt;
, "created_at": &lt;timestamp of game creation&gt;
, "players_count": &lt;total number of players allowed to join&gt;
, "players": &lt;list of current players (which will be always be empty on creation)&gt;
, "colors": ["e","f","d","g","c","h","a","b"]
, "code_length": 8
, "round": &lt;game rounds or turns played until now (which will be 0)&gt;
, "solved" : &lt;if the game was solved or not&gt;
}

**Description**:

Create a new game.  ``players_count`` defines the maximum amount
of people allowed to join, after that no other player can join.
Currently there is no limit on the amount of guesses a player can
get until he solves the challenge.
</code></pre>
                <h3>
                    GET
                    <code>
                        /api/games/&lt;game_id&gt;/
                    </code>
                </h3>
                <pre class="language-nolang"><code>Retrieve information of a specific game.

See GET ``/api/games/`` for the object returned.
</code></pre>
                <h3>
                    POST
                    <code>
                        /api/games/&lt;game_id&gt;/join/
                    </code>
                </h3>
                <pre class="language-nolang"><code>Join a game.

**Parameters**:

:name: Name of the player joining the game
</code></pre>
                <h3>
                    POST
                    <code>
                        /api/games/&lt;game_id&gt;/guess/
                    </code>
                </h3>
                <pre class="language-nolang"><code>Send a guess.

**Parameters**:

:name: Name of the player
:code: Player guess, ex: 'abcdefgh'

**Returns**:
{
'exact': &lt;number of exact colors
'near': &lt;number of colors missed&gt;
}
</code></pre>
                <p>
                    r
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/ajax">
                                ajax
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/bootstrap">
                                bootstrap
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/django">
                                django
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/git">
                                git
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/github">
                                github
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/heroku">
                                heroku
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/html">
                                html
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/javascript">
                                javascript
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/jquery">
                                jquery
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            orm
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/postgresql">
                                postgresql
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/python">
                                python
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="http://mastermind-macacoprego.herokuapp.com/" rel="nofollow" target="_blank" title="http://mastermind-macacoprego.herokuapp.com/">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                mastermind-macacoprego.herokuapp.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

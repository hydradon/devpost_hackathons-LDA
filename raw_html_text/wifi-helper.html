<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/Nx94IVgyP6k?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="637915" data-title="Display Presentation of Credentials - normal answers disappears after a few seconds, audio meta data stays permanent!" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/637/915/datas/original.png">
                            <img alt="WiFi Helper &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/637/915/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Display Presentation of Credentials - normal answers disappears after a few seconds, audio meta data stays permanent!
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="638152" data-title="Connecting Alexa User to external input options 1: starting without companion app" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/638/152/datas/original.png">
                            <img alt="WiFi Helper &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/638/152/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Connecting Alexa User to external input options 1: starting without companion app
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="638153" data-title="Connecting Alexa User to external input options 2: using companion app" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/638/153/datas/original.png">
                            <img alt="WiFi Helper &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/638/153/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Connecting Alexa User to external input options 2: using companion app
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="638228" data-title="Simplified voice-only flow of entering the credentials" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/638/228/datas/original.png">
                            <img alt="WiFi Helper &ndash; screenshot 4" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/638/228/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Simplified voice-only flow of entering the credentials
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    I wrote an iOS App to share the WiFi Credentials via QR Code back in the Days of iOS 10 when it was not build-in. It does not only scan those QR Codes, it creates them and managed multiple credentials. After incorporating different technologies inside the Apple ecosystem for sharing (NFC, AirPlay, iMessage, AppleWatch), it was natural for me to build a companion skill to share the WiFi settings via Alexa.
                </p>
                <p>
                    Especially the Echo Show is predestined to show the QR Code to guests. The device is always hat the location of the WiFi, while I might be away with my iPhone, when my wife wants to share your wifi with guests.
                </p>
                <p>
                    But a problem e.g. on parties is, that the shown QR Code disappears after a short time - this updates brings infinite displaying the Credentials.
                </p>
                <h2>
                    What it does
                </h2>
                <h3>
                    First of all, the Skill stores the WiFi credentials.
                </h3>
                <p>
                    There a three options to accomplish this:
                </p>
                <h4>
                    I) Voice Only
                </h4>
                <p>
                    By invoking the e.g. "set credentials" the skill asks for the length of the WiFi Name. Then it ask for each character separately. After the last character for the WiFi Name ii asks for the length of the WiFi Passwort and then again asks for each character separately. A character answer could be:
                </p>
                <ol>
                    <li>
                        <strong>
                            XS
                        </strong>
                        : only character (this might be error-prone think about m vs. n etc.) and will be interpreted as a capital character
                    </li>
                    <li>
                        <strong>
                            S
                        </strong>
                        : the number
                    </li>
                    <li>
                        <strong>
                            M
                        </strong>
                        : a word and the beginning character will be used as a capital character
                    </li>
                    <li>
                        <strong>
                            L
                        </strong>
                        : "small" followed by a character (same as 1, but the character will be used small)
                    </li>
                    <li>
                        <strong>
                            L
                        </strong>
                        : "large" followed by a character (same as 1)
                    </li>
                    <li>
                        <strong>
                            XL
                        </strong>
                        : "small" followed by a word (same as 3, but the character will be used small)
                    </li>
                    <li>
                        <strong>
                            XL
                        </strong>
                        : "large" followed by a word (same as 3)
                    </li>
                    <li>
                        <strong>
                            XXL
                        </strong>
                        : "digit" followed by a number (same as 2)
                    </li>
                    <li>
                        <strong>
                            XXXL
                        </strong>
                        : "special character" followed by the name of the special character, which should be used.
                    </li>
                </ol>
                <h4>
                    II) Webpage Support
                </h4>
                <p>
                    If you ask for "connection code" three options bring you to a website:
                </p>
                <ol>
                    <li>
                        <strong>
                            voice only
                        </strong>
                        : Alexa tells you the link "alexa.wifi.properties" and a user specific 6 digit code, which is valid for 15 minutes. The URL leads to a webpage, where the user enters the 6 digits and if correct, a page is presented, with two fields (name and password).
                    </li>
                    <li>
                        <strong>
                            card
                        </strong>
                        : The URL ("alexa.wifi.properties") and 6 digits are noted on a card in the Alexa App. The card also presents a qr code, wich is a link. This link directs the user directly (skipping the page for the digit code) to the page to enter the credentials .
                    </li>
                    <li>
                        <strong>
                            display
                        </strong>
                        : On an Echo Show the QR Code, URL ("alexa.wifi.properties") and the 6 digits are also presented on the screen.
                    </li>
                </ol>
                <h4>
                    III) iOS App
                </h4>
                <p>
                    As described in "Inspiration" I have a companion App. This app manages WiFi Credentials. If you ask the skill for the "iPhone App" it will give you the URL "
                    <a href="http://wifi.properties" rel="nofollow">
                        http://wifi.properties
                    </a>
                    " where you can find the link to the App in the Apple App Store. On the card and an Echo Show or. Spot Display it also presents a QR Code wich will directly open the App in the App Store App.
                    <br>
                    <br>
                    If you have the App installed, you can send any stored credentials directly to the skill. Therefore the app needs to know the Alexa UserID for invoking my Webservice - like the website (see II above). So the app extends the functionality of the "connection code" intent and offers different ways of integrating it:
                </p>
                <ol>
                    <li>
                        You can enter the 6 digit code in a special form inside the app, the app receives the Alexa UserID from a web service and stores it locally.
                    </li>
                    <li>
                        You can scan the QR Code inside a special form inside the app and the app extracts the Alexa UserID directly.
                        <br>
                        <br>
                        <strong>
                            Both forms are special, because the user gets a special hint how to invoke the skill via a speech bubble image.
                        </strong>
                        <br>
                        <br>
                    </li>
                    <li>
                        The Link coded in the QR Code is registered as Universal link, if it is scanned by the iOS Camera App or the URL is entered in the Safari App, my App gets invoked and directly extract the Alexa UserID.
                    </li>
                </ol>
                <h3>
                    After the Skill backend has stored the WiFi Credentials for a User, it can present those
                </h3>
                <p>
                    The user can ask for the credential set or for a specific attribute:
                </p>
                <ol>
                    <li>
                        SSID and Password ("Alexa ask Wifi Helper for the credentials")
                    </li>
                    <li>
                        SSID ("Alexa ask WiFi Helper for the WiFi Name")
                    </li>
                    <li>
                        Password ("Alexa ask WiFi Helper for the password")
                        <br>
                        <br>
                        The skill spells every character in detail (like small a large b special character Dollar Digit one ...). Additionally they are also shown on a Card in the Alexa App. In the credential case, the card also includes a QR Code with the WiFi Credentials, so that it can be scanned directly.
                        <br>
                        <br>
                        On an Echo Show and an Echo Spot the Display is used, to present the written representation of the Card and in the credential case also the QR Code.
                        <br>
                        <br>
                        On an Echo Show or an Echo Spot the skill ask to present the QR Code infinite. If yes, an audio directive starts a silent audio stream and presents the QR Code as cover image, and the credentials as meta data text. The stream restarts after 2 1/2 minutes by adding those data to the play list. The skill uses a unique toke each time, so that it will reload the credentials if they are changed in-between. The user can directly invoke this infinite presentation by asking alexa to "... start WiFi Helper and show credentials permanently".
                        <br>
                        <br>
                        <strong>
                            The best user experience of this skill is using an Echo Show, connecting the skill to the iOS App for easy credential input and showing the credentials to guest on the Echo Show, which then uses their Smart phone (even without my App) to scan the wifi credentials QR Code and automatically get access to the WiFi.
                        </strong>
                    </li>
                </ol>
                <h2>
                    How I built it
                </h2>
                <p>
                    The skill Backend runs on a php server. The script uses the Alexa UserID (hashed) to create an entry in a MySQL database to store the WiFi's SSID and Password. There are different kind of scripts running on the server processing those data:
                </p>
                <ul>
                    <li>
                        Skill (plain JSON parsing and creating via PHP - just minimal code, no framework, yet)
                    </li>
                    <li>
                        QR Code Generating (using the PHP QR Code lib) used by Skill for displaying WiFi Credentials on Display / Card or the (deep)link to the webpage.
                    </li>
                    <li>
                        Website (just some HTML,CSS and PHP code) for browser use (also supporting universal links to deep-link into the iOS app if installed).
                    </li>
                    <li>
                        WebServices (just some PHP code) to communicate with the App
                    </li>
                </ul>
                <p>
                    The iOS App is written in Swift an only uses default Frameworks of apple. For the Skill this app is extended by an upper top-left skill button in the navigation bar. This invokes an menu with the options:
                </p>
                <ul>
                    <li>
                        Enabling the skill: If Alexa app is installed, a deep link is called. Otherwise a link to the amazon skill store is invoked).
                    </li>
                    <li>
                        Connecting via QR: Start scanner for Connection Code. On the camera image, there is a speech bubble overlay, which shows the phrase how to get the connection code from an echo show.
                    </li>
                    <li>
                        Connection via PIN: Speech bubble, which shows the phrase how to get the PIN from an echo and a form to enter it
                    </li>
                    <li>
                        Delete connection (if there is an active one).
                    </li>
                </ul>
                <p>
                    If an Alexa UserID is linked by QR Code or PIN, the credential detail view presents a switch. If the switch gets activated, the credentials are transferred to the WebService. On the Overview View, the credential wich is stored on the skill is marked by a grey Alexa Skill icon.
                </p>
                <h2>
                    Challenges I ran into
                </h2>
                <p>
                    The Display of the Spot created some challenges:
                </p>
                <ol>
                    <li>
                        The Display is round, so the normal QR Code would lose the corners and so the scanner could not recognize it. Solution: Added an additional boarder to avoid losing the three orientation squares.
                    </li>
                    <li>
                        The shown text is presented over the QR Code on the Spot, so some informations are lost and the scanner sometimes cannot read the data. Solution: While generating the QR Code I use the highest quality which added redundancy so that the lose of some information can be restored. Additionally I shortend the shown text to the minimum, so less information is lost.
                        <br>
                        <br>
                        Both solutions reduces the comeliness on an Echo Show. But it is not possible to distinguish both devices, neither by the Intent request nor by the HTTP Request of the image itself.
                        <br>
                        <br>
                        Adapting the audio player interface to the infinity image presentation hack. This means, only using it, when display is present and some additional intents to handle stoping etc. correctly.
                    </li>
                </ol>
                <h2>
                    Accomplishments that I'm proud of
                </h2>
                <ul>
                    <li>
                        Multiple ways for the user to enter the credentials, so that he can chose the one wich suits best for her/him.
                    </li>
                    <li>
                        VoiceOnly option for dictation of the SSID and Passwords, which usually mix small and capital letters as well as special characters and digits.
                    </li>
                    <li>
                        The idea to quickly adapt the new audio player meta to make infinite presentation of the QR Code by presenting it as a cover image of a silent audio file.
                    </li>
                </ul>
                <h2>
                    What I learned
                </h2>
                <ul>
                    <li>
                        How to build an easy dialog with short interactions while offering options to handle more specific options (like the any character / word for small characters). There fore you need to handle the context, otherwise you can not distinguish a single digit as an intent to specify the length of the SSID or Password or a Digit within those (not handling this well, lead to a bad review in the beginning of the skill).
                    </li>
                </ul>
                <h2>
                    What's next for WiFi Helper
                </h2>
                <ul>
                    <li>
                        Using Notifications to inform about a change of the WiFi Credentials outside a conversation session (e.g. by the App).
                    </li>
                </ul>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/alexa">
                                alexa
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/apache">
                                apache
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/css">
                                css
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/html">
                                html
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/mysql">
                                mysql
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/php">
                                php
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/swift">
                                swift
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/xcode">
                                xcode
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://www.amazon.com/dp/B073XV1WNL/?ref-suffix=ss_copy" rel="nofollow" target="_blank" title="https://www.amazon.com/dp/B073XV1WNL/?ref-suffix=ss_copy">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                www.amazon.com
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="https://itunes.apple.com/us/app/wifi-helper/id1166076430?mt=8" rel="nofollow" target="_blank" title="https://itunes.apple.com/us/app/wifi-helper/id1166076430?mt=8">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                itunes.apple.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

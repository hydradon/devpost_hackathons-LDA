<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/HDJnJXE7jcI?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Wut?
                </h2>
                <p>
                    <a href="http://devpost.com/niuage" rel="nofollow">
                        @niuage
                    </a>
                    created an awesome
                    <a href="http://devpost.com/software/devpost-notification-center" rel="nofollow">
                        notification feed
                    </a>
                    for likes, comments, and follows, but I don't like logging in to see it. So I thought to my self, wouldn't it be cool to make a little menubar app to show me my notifications? Sounds like a great
                    <a href="http://levelup2.devpost.com" rel="nofollow">
                        Electron / LevelUp2
                    </a>
                    project.
                </p>
                <p>
                    After a little prodding, Robin showed me that there was
                    <a href="http://devpost.com/notifications.json?limit=30" rel="nofollow">
                        json feed for notifications
                    </a>
                    &mdash;which is web accessible, provided you're authenticated. That meant I just had to automate a Devpost login (
                    <a href="http://devpost.com/software/cpupdate" rel="nofollow">
                        which I've done before
                    </a>
                    ), grab the json, process it into some pretty HTML, and display it in an Electron app. Easy peasy, right? Wrong.
                </p>
                <h2>
                    How
                </h2>
                <h3>
                    The app
                </h3>
                <p>
                    First, I cloned Max Ogden's
                    <a href="https://github.com/maxogden/menubar" rel="nofollow">
                        menubar
                    </a>
                    app. This is an electron 'tray' app. Whenever you click on the icon in your menubar, it pops up a little Electron browser window. So if you give it an HTML file, it'll display that file every time you open the app. Great for dashboards or&mdash;
                    <em>
                        gasp
                    </em>
                    &mdash;feeds!
                </p>
                <p>
                    <img alt="http://i.imgur.com/xCvttk0.png" data-canonical-url="http://i.imgur.com/xCvttk0.png" src="https://res.cloudinary.com/devpost/image/fetch/s--E_Crr-mV--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/http://i.imgur.com/xCvttk0.png">
                </p>
                <h3>
                    The data
                </h3>
                <p>
                    Next, I dug out my old
                    <a href="https://github.com/nealrs/cpupdate/blob/master/CPupdate.js" rel="nofollow">
                        CPUpdate code
                    </a>
                    . it was already written in node and used Zombie.js to login &amp; scrape Devpost. 
Once I had updated node, npm, and everything else, I was able to login, pull my feed JSON, stringify it, parse it, template out the feed HTML, convert it to a base64 data URI and
                    <em>
                        finally
                    </em>
                    populate the window. (Whew)
                </p>
                <p>
                    <img alt="http://i.imgur.com/GjJhcjW.gif" data-canonical-url="http://i.imgur.com/GjJhcjW.gif" src="https://res.cloudinary.com/devpost/image/fetch/s--jZBh8VhO--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/http://i.imgur.com/GjJhcjW.gif">
                </p>
                <h2>
                    Use it
                </h2>
                <ol>
                    <li>
                        <p>
                            Clone the repo
                        </p>
                        <pre class="language-nolang"><code>git clone https://github.com/nealrs/DevpostFeed.git
</code></pre>
                    </li>
                    <li>
                        <p>
                            Install all the modules
                        </p>
                        <pre class="language-nolang"><code>npm install --save-dev
</code></pre>
                    </li>
                    <li>
                        <p>
                            Edit
                            <code>
                                config_SAMPLE.json
                            </code>
                        </p>
                        <ul>
                            <li>
                                Rename to
                                <code>
                                    config.json
                                </code>
                            </li>
                            <li>
                                Add your Name, login, and password (sorry folks who signed up with twitter, github, or facebook!)
                            </li>
                            <li>
                                Save
                            </li>
                        </ul>
                    </li>
                    <li>
                        <p>
                            Start the app in development mode
                        </p>
                        <pre class="language-nolang"><code>npm start
</code></pre>
                    </li>
                    <li>
                        <p>
                            Wait for the window to popup!
                        </p>
                    </li>
                    <li>
                        <p>
                            Enjoy.
                        </p>
                    </li>
                </ol>
                <h2>
                    Blergs &amp; frustrations
                </h2>
                <ol>
                    <li>
                        <p>
                            I didn't realize that I was using an old version of node and the newest version of Zombie requires io.js or Node 4. I lost a few hours figuring that one out. The latest version of Zombie has all these functions and syntax changes that kept throwing errors with my old version.
                            <em>
                                Argh!
                            </em>
                        </p>
                    </li>
                    <li>
                        <p>
                            I'm pretty crap at JavaScript, double so for node.
                            <code>
                                npm install
                            </code>
                            ,
                            <code>
                                npm build
                            </code>
                            , and
                            <code>
                                npm start
                            </code>
                            are all pretty new to me, so it took me a long time to get comfortable with the flow. Also, gulp&mdash;what's that all about?
                        </p>
                    </li>
                    <li>
                        <p>
                            At some point it dawned on me that while I was receiving JSON from Robin's feed, I wasn't stringigying it or parsing it before trying to iterate over it.
                            <em>
                                Facepalm
                            </em>
                            to the max.
                        </p>
                    </li>
                    <li>
                        <p>
                            The Menubar repo is freaking
                            <em>
                                awesome
                            </em>
                            . It lets you get a menubar app up and running in approximately 5 minutes. By default, it's not setup for dynamically generated HTML, but if you convert your HTML to a base64 encoded data URI, you can make it work. It took some experimentation, but a couple friendly folks @ GitHub pointed me in the right direction.
                        </p>
                    </li>
                    <li>
                        <p>
                            Perhaps obviously, @niuage's feed is designed to work on Devpost and Devpost alone. So, a lot of avatar URLs, are listed as
                            <code>
                                //foo.bar/avatar.png
                            </code>
                            and omit the
                            <code>
                                http:
                            </code>
                            . A little substring searching &amp; appending fixed that.
                        </p>
                    </li>
                    <li>
                        <p>
                            I didn't get a chance to incorporate desktop notifications / reloads / a waiting screen / etc. That's all todo (if ever).
                        </p>
                    </li>
                    <li>
                        <p>
                            My node environment at work is totally fubar'd, so I had to do all this at home on my aging MBA.
                        </p>
                    </li>
                </ol>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag">
                            devpost
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            electron
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/html">
                                html
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/javascript">
                                javascript
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/json">
                                json
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/node-js">
                                node.js
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/npm">
                                npm
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            tears
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            zombie
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/nealrs/DevpostFeed" rel="nofollow" target="_blank" title="https://github.com/nealrs/DevpostFeed">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div>
                <h1>
                    Yet Another Tic Tac Toe Project
                </h1>
                <p>
                    This is yet another implementation of Tic Tac Toe. This is a solution to a challenge presented by BroadbandTV and I have made it exclusively to the VanHackathon.
                </p>
                <p>
                    Here are the features of this project:
                </p>
                <ul>
                    <li>
                        Fully functional RESTful API
                    </li>
                    <li>
                        User login (with auto signup)
                    </li>
                    <li>
                        Play mutiples games simultaneously
                    </li>
                    <li>
                        Giveup on a game
                    </li>
                    <li>
                        User's game history
                    </li>
                </ul>
                <p>
                    The following items weren't included in this version of the project:
                </p>
                <ul>
                    <li>
                        Possibility to play Ultimate Tic Tac Toe
                    </li>
                    <li>
                        Play online with another human being
                    </li>
                </ul>
                <h1>
                    Technical information
                </h1>
                <p>
                    This project was developed using PHP7 + MySQL + Symfony3.
                </p>
                <h1>
                    Installation
                </h1>
                <p>
                    Execute the following steps to run this project:
Make sure your MySQL service is running with root user with no password.
                </p>
                <pre class="language-nolang"><code>git clone https://github.com/regisdiogo/tic-tac-toe.git
composer install
php bin/console doctrine:database:create
php bin/console doctrine:schema:update --force
php bin/console server:run
</code></pre>
                <h1>
                    Game instructions
                </h1>
                <h2>
                    First let's login
                </h2>
                <h3>
                    Request
                </h3>
                <pre class="language-nolang"><code>POST /api/user/ HTTP/1.1
Host: localhost:8000
Content-Type: application/json
{"email":"regisdiogof@gmail.com","password":"mysecretpass"}
</code></pre>
                <blockquote>
                    <p>
                        Internally we will look up the email as a strong key for our user. If none is found then we create a new user. If we actually found a user we validate the password.
                    </p>
                </blockquote>
                <h3>
                    Response
                </h3>
                <pre class="language-nolang"><code>{"userHash":"574128282aaaa"}
</code></pre>
                <blockquote>
                    <p>
                        It will return the user's UUID hash. This value should be informed in every method to validate user's credentials.
                    </p>
                </blockquote>
                <h2>
                    Now we can start a game
                </h2>
                <h3>
                    Request
                </h3>
                <pre class="language-nolang"><code>POST /api/games/start/1/1 HTTP/1.1
Host: localhost:8000
Content-Type: application/json
Authorization: 574128282aaaa
</code></pre>
                <blockquote>
                    <p>
                        The parameters 1/1 passed after 'start' parameter are currently default. In my inicial planning I was going to control Type (Regular or Ultimate Tic Tac Toe) and Mode (Versus COM, Versus Human Being or Versus Random Human Being). But now it's only accepting Type Regular and Mode Versus COM.
                    </p>
                    <p>
                        The Authorization parameter passed on the header idenfify the user starting the game.
                    </p>
                    <p>
                        This method will return a gameHash that has to be used to play the game.
                    </p>
                </blockquote>
                <h3>
                    Response
                </h3>
                <pre class="language-nolang"><code>{"gameHash":"574216386bc64"}
</code></pre>
                <h2>
                    Playing the Game
                </h2>
                <h3>
                    Request
                </h3>
                <pre class="language-nolang"><code>PUT /api/games/574216386bc64 HTTP/1.1
Host: localhost:8000
Authorization: 574128282aaaa
Content-Type: application/json
{"column":2,"row":2}
</code></pre>
                <blockquote>
                    <p>
                        The game hash is used in the URL to identify the game that is being played.
                    </p>
                    <p>
                        The Authorization parameter passed on the header idenfify the user playing the game.
                    </p>
                    <p>
                        On the body of the request we inform which column and row we would like to check. Default value for user is X. Must be a number between 1 and 3.
                    </p>
                </blockquote>
                <h3>
                    Response
                </h3>
                <pre class="language-nolang"><code>{"gameplay":[["O","_","_"],["_","X","_"],["_","_","_"]]}
</code></pre>
                <blockquote>
                    <p>
                        In the response we see a gameplay chart of the actual board of Tic Tac Toe. That board already includes COM moves (default value O).
                    </p>
                    <p>
                        When the game finishes a message is presented on Response.
                    </p>
                </blockquote>
                <h2>
                    Giving Up
                </h2>
                <h3>
                    Request
                </h3>
                <pre class="language-nolang"><code>PUT /api/games/574216386bc64/giveup HTTP/1.1
Host: localhost:8000
Authorization: 574128282aaaa
Content-Type: application/json
</code></pre>
                <blockquote>
                    <p>
                        Adding the 'giveup' parameter to the end of a game URL will flag this game as abandoned. Every move is now denied.
                    </p>
                </blockquote>
                <h3>
                    Response
                </h3>
                <pre class="language-nolang"><code>{"message":"Game finished without winners. :("}
</code></pre>
                <h2>
                    Retrieving user's game history
                </h2>
                <h3>
                    Request
                </h3>
                <pre class="language-nolang"><code>GET /api/games/userhistory HTTP/1.1
Host: localhost:8000
Authorization: 574128282aaaa
</code></pre>
                <h3>
                    Response
                </h3>
                <pre class="language-nolang"><code>{"gameList":[{"gameHash":"57413b587e4ae","createdAt":"2016-05-22T01:53:44-0300","type":"Regular","mode":"Versus COM","finished":"true","abandoned":"false","gameplay":[["O","_","_"],["X","X","X"],["O","_","_"]],"winner":"PLAYER"},{"gameHash":"5741bc50567a9","createdAt":"2016-05-22T11:04:00-0300","type":"Regular","mode":"Versus COM","finished":"false","abandoned":"false","gameplay":[["_","_","_"],["_","_","_"],["_","_","_"]]},{"gameHash":"5741bc67ee51d","createdAt":"2016-05-22T11:04:23-0300","type":"Regular","mode":"Versus COM","finished":"true","abandoned":"true","gameplay":[["O","X","_"],["_","_","_"],["_","_","_"]]}]}
</code></pre>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/mysql">
                                mysql
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            php7
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/symfony">
                                symfony
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/regisdiogo/tic-tac-toe" rel="nofollow" target="_blank" title="https://github.com/regisdiogo/tic-tac-toe">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

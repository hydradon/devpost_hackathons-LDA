<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/Xi1RvLiNzqo?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="905436" data-title="Cattle Counter home screen" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/905/436/datas/original.png">
                            <img alt="Cattle Counter Android app &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/905/436/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Cattle Counter home screen
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    We are trying to help the farmer make sure all of his or her cattle were accounted for at the end of the day.  Margins are very low for cattle farmers. Using our drone app they would know if a cow had wandered off or got lost in bad weather. Over the past few years we'd done a number of mobile apps for DJI drones so we thought that if we added machine learning to the mobile app we could hopefully things easier for the farmer.
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    Drone flies in an automated fashion over a field of cows at a height of 50ft. Using TensorFlow the app counts the cows in real time showing how many are visible in the video feed at any time.  At the end of the automated flight it uploads the tile images to a backend server which combines or stitches the images and gives the pilot a total cow count.
                </p>
                <h2>
                    How I built it
                </h2>
                <p>
                    5000 images of cows were created from a number of drone pilot flights in the US and Europe. The image labeling was done by a third party service.  The original version of the app used Tensorflow 1.0 to train the model.  The updated version uses Tensorflow 2.0.  App uses the DJI drone SDK to control the flight and display the images. The image recognition is done within the Android app using Tensorflow Lite.  OpenCV is used on a backend server to merge the tiled images and Tensorflow 2.0 is again used to return a total count.
                </p>
                <h2>
                    Challenges I ran into
                </h2>
                <p>
                    Accuracy is the number one criteria for this app.  In earlier iterations of this app, we were failing to correctly identify all the cows in the video feed.  We recreated the images so that they were taken directly above the cows and not at an angle as well as making sure the flights were taken at a constant height of 50ft.  The labeling in earlier versions was not done by professional labelers so that also affected the accuracy.  We also used Google Cloud Platform to do the training second time around as the training was taking too long on local machines.  If the cows move a lot we will double count them in the final total count.
                </p>
                <h2>
                    Accomplishments that I'm proud of
                </h2>
                <p>
                    TensorFlow 2.0, better labeling and restricting the count to always be straight down meant that the accuracy of our cattle counting jumped.  You can see the final result of the app working in the video demo link.
                </p>
                <h2>
                    What I learned
                </h2>
                <p>
                    Poorly labeled images will make for an inaccurate object detection model.   It's ok to restrict the conditions so that the drone flew in the same conditions each time, i.e. camera pointing straight down at a height of 50ft.  Flying any lower than 50ft also means that the cows will move a lot more, which will result in a poor total count.
                </p>
                <h2>
                    What's next for Cattle Counter Android app
                </h2>
                <p>
                    The app will next be available on Parrot Anafi drones. We're looking to add more species such as deer, elk and caribou.  Finally we'd also are planning to complete a thermal image version of the app.
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/android">
                                android
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/dji">
                                dji
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/opencv">
                                opencv
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            tensorflow
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            tensorflowlite
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://play.google.com/store/apps/details?id=com.riis.cattlecounter&amp;hl=en_US" rel="nofollow" target="_blank" title="https://play.google.com/store/apps/details?id=com.riis.cattlecounter&amp;hl=en_US">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                play.google.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

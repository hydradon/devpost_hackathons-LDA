<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li class="text-center">
                        <a data-lightbox="347114" data-title="Are you walking correctly?" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/347/114/datas/original.png">
                            <img alt="Gait &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/347/114/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Are you walking correctly?
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="346125" data-title="Logging screen.  Collect ALL the data! " href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/346/125/datas/original.png">
                            <img alt="Gait &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/346/125/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Logging screen.  Collect ALL the data!
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="347122" data-title="Raw captured signal" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/347/122/datas/original.png">
                            <img alt="Gait &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/347/122/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Raw captured signal
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="347120" data-title="Feature selection accuracy for linear SVM" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/347/120/datas/original.png">
                            <img alt="Gait &ndash; screenshot 4" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/347/120/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Feature selection accuracy for linear SVM
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h1>
                    Gait @ TreeHacks 2016
                </h1>
                <p>
                    <a href="https://gitter.im/thepropterhoc/TreeHacks_2016?utm_source=badge&amp;utm_medium=badge&amp;utm_campaign=pr-badge&amp;utm_content=badge" rel="nofollow">
                        <img alt="Join the chat at https://gitter.im/thepropterhoc/TreeHacks_2016" data-canonical-url="https://badges.gitter.im/thepropterhoc/TreeHacks_2016.svg" src="https://res.cloudinary.com/devpost/image/fetch/s---tPKLdtQ--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://badges.gitter.im/thepropterhoc/TreeHacks_2016.svg">
                    </a>
                </p>
                <p>
                    Diagnosing walking disorders with accelerometers and machine learning
                </p>
                <p>
                    <strong>
                        Based on the original work of Dr. Matt Smuck
                    </strong>
                </p>
                <p>
                    <img alt="Walking correctly" data-canonical-url="https://d30y9cdsu7xlg0.cloudfront.net/png/79275-200.png" src="https://res.cloudinary.com/devpost/image/fetch/s--AMA-1LrE--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://d30y9cdsu7xlg0.cloudfront.net/png/79275-200.png">
                </p>
                <p>
                    Author :
                    <em>
                        Shelby Vanhooser
                    </em>
                    <br>
                    Mentor :
                    <em>
                        Dr. Matt Smuck
                    </em>
                </p>
                <hr>
                <h3>
                    Goals
                </h3>
                <p>
                    <strong>
                        <em>
                            Can we diagnose patient walking disorders?
                        </em>
                    </strong>
                </p>
                <ul>
                    <li>
                        Log data of walking behavior for a known distance through a smartphone
                    </li>
                    <li>
                        Using nothing but an accelerometer on the smartphone, characterize walking behaviors as
                        <em>
                            good
                        </em>
                        or
                        <em>
                            bad
                        </em>
                        (classification)
                    </li>
                    <li>
                        Collect enough meaningful data to distinguish between these two classes, and draw inferences about them
                    </li>
                </ul>
                <hr>
                <h3>
                    Technologies
                </h3>
                <ul>
                    <li>
                        Wireless headphone triggering of sampling
                    </li>
                    <li>
                        Signal processing of collected data
                    </li>
                    <li>
                        Internal database for storing collection
                    </li>
                    <li>
                        Support Vector Machine (machine learning classification)
                    </li>
                </ul>
                <p>
                    -&gt; Over the course of the weekend, I was able to test the logging abilities of the app by taking my own phone outside, placing it in my pocket after selecting the desired sampling frequency and distance I would be walking (verified by Google Maps), and triggering its logging using my wireless headphones.  This way, I made sure I was not influencing any data collected by having abnormal movements be recorded as I placed it in my pocket.
                </p>
                <p>
                    <strong>
                        <em>
                            <em>
                                Main screen of app I designed
                            </em>
                        </em>
                    </strong>
                    <img alt="Landing screen" data-canonical-url="https://raw.githubusercontent.com/thepropterhoc/TreeHacks_2016/master/Screenshots/Screenshot_2.png" src="https://res.cloudinary.com/devpost/image/fetch/s--4ezstViw--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://raw.githubusercontent.com/thepropterhoc/TreeHacks_2016/master/Screenshots/Screenshot_2.png">
                </p>
                <p>
                    <strong>
                        <em>
                            <em>
                                The logging in action
                            </em>
                        </em>
                    </strong>
                    <img alt="The logging app in action" data-canonical-url="https://raw.githubusercontent.com/thepropterhoc/TreeHacks_2016/master/Screenshots/Screenshot_1.png" src="https://res.cloudinary.com/devpost/image/fetch/s--7mFXPIaH--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://raw.githubusercontent.com/thepropterhoc/TreeHacks_2016/master/Screenshots/Screenshot_1.png">
                </p>
                <p>
                    -&gt; This way, we can go into the field, collect data from walking, and log if this behavior is 'good' or 'bad' so we can tell the difference on new data!
                </p>
                <hr>
                <h3>
                    Data
                </h3>
                <p>
                    First, let us observe the time-domain samples recorded from the accelerometer:
                </p>
                <p>
                    <img alt="Raw signal recorded" data-canonical-url="https://raw.githubusercontent.com/thepropterhoc/TreeHacks_2016/master/Collected_Data/Time_Domain.png" src="https://res.cloudinary.com/devpost/image/fetch/s--ZaqkV7c3--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://raw.githubusercontent.com/thepropterhoc/TreeHacks_2016/master/Collected_Data/Time_Domain.png">
                </p>
                <p>
                    It is immediately possible to see where my steps were! Very nice. Let's look at what the spectrums are like after we take the FFT...
                </p>
                <p>
                    <em>
                        Frequency Spectrums of good walking behavior
                    </em>
                    <img alt="Good walking behavior frequency spectrum" data-canonical-url="https://raw.githubusercontent.com/thepropterhoc/TreeHacks_2016/master/Collected_Data/images/good_animated.gif" src="https://res.cloudinary.com/devpost/image/fetch/s--lFT6M8St--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://raw.githubusercontent.com/thepropterhoc/TreeHacks_2016/master/Collected_Data/images/good_animated.gif">
                </p>
                <p>
                    <em>
                        Frequency spectrums of bad walking behavior
                    </em>
                    <img alt="Bad walking behavior frequency spectrum" data-canonical-url="https://raw.githubusercontent.com/thepropterhoc/TreeHacks_2016/master/Collected_Data/images/bad_animated.gif" src="https://res.cloudinary.com/devpost/image/fetch/s--AoHPlM2Z--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://raw.githubusercontent.com/thepropterhoc/TreeHacks_2016/master/Collected_Data/images/bad_animated.gif">
                </p>
                <p>
                    19 'correct' walking samples and 5 'incorrect' samples were collected around the grounds of Stanford across reasonably flat ground with no obstacle interference.
                </p>
                <p>
                    <strong>
                        <em>
                            Let's now take these spectrums and use them as features for a machine learning classification problem
                        </em>
                    </strong>
                </p>
                <p>
                    -&gt; Additionally, I ran numerous simulations to see what kernel in SVM would give the best output prediction accuracy:
                </p>
                <p>
                    <strong>
                        How many features do we need to get good prediction ability?
                    </strong>
                </p>
                <p>
                    <em>
                        Linear kernel
                    </em>
                    <img alt="ROC-like characterization" data-canonical-url="https://raw.githubusercontent.com/thepropterhoc/TreeHacks_2016/master/Collected_Data/Linear_SVM_2000_Sample_FFT.png" src="https://res.cloudinary.com/devpost/image/fetch/s--Tvr99ikE--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://raw.githubusercontent.com/thepropterhoc/TreeHacks_2016/master/Collected_Data/Linear_SVM_2000_Sample_FFT.png">
                </p>
                <p>
                    <strong>
                        Look at that characterization for so few features!
                    </strong>
                </p>
                <p>
                    Moving right along...
                </p>
                <p>
                    <em>
                        Quadratic kernel
                    </em>
                    <img alt="ROC-like characterization" data-canonical-url="https://raw.githubusercontent.com/thepropterhoc/TreeHacks_2016/master/Collected_Data/Quadratic_SVM_2000_Sample_FFT.png" src="https://res.cloudinary.com/devpost/image/fetch/s--xLZo26_M--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://raw.githubusercontent.com/thepropterhoc/TreeHacks_2016/master/Collected_Data/Quadratic_SVM_2000_Sample_FFT.png">
                </p>
                <p>
                    Not as good as linear.  What about cubic?
                </p>
                <p>
                    <em>
                        Cubic kernel
                    </em>
                    <img alt="ROC-like characterization" data-canonical-url="https://raw.githubusercontent.com/thepropterhoc/TreeHacks_2016/master/Collected_Data/Cubic_SVM_2000_Sample_FFT.png" src="https://res.cloudinary.com/devpost/image/fetch/s--QpCfBtea--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://raw.githubusercontent.com/thepropterhoc/TreeHacks_2016/master/Collected_Data/Cubic_SVM_2000_Sample_FFT.png">
                </p>
                <p>
                    Conclusion: We can get 100% cross-validated accuracy with...
                    <strong>
                        <em>
                            A linear kernel
                        </em>
                    </strong>
                </p>
                <p>
                    Good to know.  We can therefore predict on incoming patient data if their gait is problematic!
                </p>
                <hr>
                <h3>
                    Results
                </h3>
                <ul>
                    <li>
                        From analysis of the data, its structure seems to be well-defined at several key points in the spectrum.  That is, after feature selection was run on the collected samples, 11 frequencies were identified as dominating its behavior:
                    </li>
                </ul>
                <p>
                    <strong>
                        [0, 18, 53, 67, 1000, 1018, 1053, 2037, 2051, 2052, 2069]
                    </strong>
                </p>
                <p>
                    <strong>
                        <em>
                            Note
                        </em>
                    </strong>
                    : it is curious that index 0 has been selected here, implying that the overall angle of an accelerometer on the body while walking has influence over the observed 'correctness' of gait
                </p>
                <ul>
                    <li>
                        From these initial results it is clear we
                        <em>
                            can
                        </em>
                        characterize 'correctness' of walking behavior using a smartphone application!
                    </li>
                    <li>
                        In the future, it would seem very reasonable to have a patient download an application such as this, and, using a set of known walking types from measurements taken in the field, be able to diagnose and report to an unknown patient if they have a disorder in gait.
                    </li>
                </ul>
                <hr>
                <h3>
                    Acknowledgments
                </h3>
                <ul>
                    <li>
                        <p>
                            <strong>
                                Special thanks to Dr. Matt Smuck for his original work and aid in pushing this project in the correct direction
                            </strong>
                        </p>
                    </li>
                    <li>
                        <p>
                            <strong>
                                Special thanks to
                                <a href="https://realm.io" rel="nofollow">
                                    Realm
                                </a>
                                for their amazing database software
                            </strong>
                        </p>
                    </li>
                    <li>
                        <p>
                            <strong>
                                Special thanks to
                                <a href="https://cocoapods.org/?q=volume%20button" rel="nofollow">
                                    JP Simard
                                </a>
                                for his amazing code to detect volume changes for triggering this application
                            </strong>
                        </p>
                    </li>
                    <li>
                        <p>
                            <strong>
                                Special thanks to everyone who developed
                                <a href="https://www.csie.ntu.edu.tw/%7Ecjlin/libsvm/" rel="nofollow">
                                    Libsvm
                                </a>
                                and for writing it in C so I could compile it in iOS
                            </strong>
                        </p>
                    </li>
                </ul>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/numpy">
                                numpy
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/objective-c">
                                objective-c
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            objective-c++
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/python">
                                python
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            sklearn
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/thepropterhoc/TreeHacks_2016" rel="nofollow" target="_blank" title="https://github.com/thepropterhoc/TreeHacks_2016">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

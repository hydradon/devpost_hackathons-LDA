<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/OZoqF_kJ8-0?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="563266" data-title="Welcome page" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/563/266/datas/original.png">
                            <img alt="iClicker Plays Pokemon &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/563/266/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Welcome page
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="563267" data-title="Settings" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/563/267/datas/original.png">
                            <img alt="iClicker Plays Pokemon &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/563/267/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Settings
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="563268" data-title="In-game experience" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/563/268/datas/original.png">
                            <img alt="iClicker Plays Pokemon &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/563/268/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                In-game experience
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <p>
                    <em>
                        Note: For the Documentation Prize, please check out our complete
                        <a href="https://github.com/jwoglom/hackum17/wiki" rel="nofollow">
                            wiki guide
                        </a>
                        !
                    </em>
                </p>
                <h2>
                    Inspiration
                </h2>
                <p>
                    Our inspiration for this hardware hack was the popular online phenomenon
                    <a href="https://en.wikipedia.org/wiki/Twitch_Plays_Pok%C3%A9mon" rel="nofollow">
                        Twitch Plays Pokemon
                    </a>
                    , a 2014 social experiment which allowed millions of people of online to crowd-source the effort to beat well-known Pokemon games, one button input at a time. The idea came when we considered how this could work if we tried to do the same in the physical context of a lecture hall, just using the iClicker devices that are used by many classes on our campus.
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    Our goal for this project was to create a fully modular and open-sourced API for using iClicker devices outside of their proprietary polling software, and to then develop a working application that used the iClicker data to play emulations of GameBoy games in real time. The iClicker hardware supports up to 1500 iClicker devices, and can receive up to 200 inputs per second. We created a working demo that allows gameplay of six games, with support for as many ROMs as desired.
                </p>
                <h2>
                    How we built it
                </h2>
                <p>
                    The open-sourced iClicker Plays Pokemon project was built on top of Python, JavaScript, WebSockets, and Django. Our demo was created in addition using a modified JavaScript GameBoy emulator and the Materialize CSS library.
                </p>
                <h2>
                    Challenges we ran into
                </h2>
                <p>
                    We had planned to be capture button-presses off the D-pad buttons on the iClicker remotes, just like we capture the A-E buttons. However, we discovered that in the special hardware mode that allows the D-pad to function, the D-pad buttons only control configuration on the local devices about what information to send, and we cannot capture when they are directly pressed. We were able to use these buttons to support inputs of any alphanumeric character (such as "F", for which a physical key doesn't exist) in order to support more than 5 possible inputs to the game, but it was disappointing that the physical D-pad couldn't be used intuitively like on a gamepad.
                </p>
                <p>
                    The JavaScript Game Boy emulator that we used to render the games was annoyingly difficult to adapt into our project, due to both the poor coding style of the developer -- such as using XHTML self-closing tags in non-compliant ways, and polluting the global namespace -- and the tie-in between the emulator itself and the developer's intended GUI around it, which we had to manually remove.
                </p>
                <h2>
                    Accomplishments that we're proud of
                </h2>
                <p>
                    Using a dormant GPL'd Python project designed for an older version of Python, which used pyusb to support some basic features of the iClicker remotes by scraping the USB communication of the base station, we were able to decode nearly all of the functionality used by the iClicker desktop application to communicate with the remotes. The alphanumeric mode, which allows for the D-pad buttons to send any string of alphanumeric characters to the base, not only allows for more than 5 inputs from an individual iClicker, but also cuts down on the latency between button presses from around 750ms to 250ms. This results in a better experience with no input lag to the emulator. This was all done with no protocol documentation, through reverse-engineering the USB communication with the base station.
                </p>
                <p>
                    Additionally, we were able to incorporate this USB sniffing into a Django project, that serves a full web application with websockets communication, and incorporate sending websocket commands into the callbacks for USB reads which allow the client web browser to be informed of the hardware button presses from the device.
                </p>
                <h2>
                    What we learned
                </h2>
                <p>
                    With less experience with combining multiple different libraries and resources together, I (Chris) learned a lot about the difficulty (and simplicity) of combining APIs together in JavaScript project. With iClickers the information being received via USB connection isn't algorithmically or high-complexity, but I learned how the JSON objects could be used quickly to handle streams of data with varying size and type. I also learned how to use wikis on GitHub for creating documentation and how to set up web servers using redis and Django. Lastly I learned that integrating USB and other external devices (like the iClicker Base Station) can be difficult between target platforms and will generally require different libraries, since libusb didn't work on Mac, but it could be adapted using cython-hidapi instead.
                </p>
                <h2>
                    What's next for iClicker Plays Pokemon
                </h2>
                <p>
                    Since our API has been modularized so just the Python/WebSocket module can be used separately, our tool can hypothetically be used for any JavaScript / web-based solution for polling students or creating games for users, even those that aren't necessarily real-time like GameBoy games. We have created
                    <a href="https://github.com/jwoglom/hackum17/wiki" rel="nofollow">
                        complete documentation
                    </a>
                    on the GitHub repository for our code that explains information about hardware, installation, troubleshooting, and using the API.
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/django">
                                django
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            django-channels
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/git">
                                git
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            iclicker
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/javascript">
                                javascript
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            libusb
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/python">
                                python
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/redis">
                                redis
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/websockets">
                                websockets
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/jwoglom/hackum17" rel="nofollow" target="_blank" title="https://github.com/jwoglom/hackum17">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

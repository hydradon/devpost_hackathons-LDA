<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/Lbq3n9ncFpo?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="366644" data-title="water flow sensor" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/366/644/datas/original.jpg">
                            <img alt="Smart Shower &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/366/644/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                water flow sensor
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="366645" data-title="adding a temperature sensor" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/366/645/datas/original.jpg">
                            <img alt="Smart Shower &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/366/645/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                adding a temperature sensor
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="366646" data-title="Grafana water usage dashboard" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/366/646/datas/original.PNG">
                            <img alt="Smart Shower &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/366/646/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Grafana water usage dashboard
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="366648" data-title="HipChat mobile app" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/366/648/datas/original.png">
                            <img alt="Smart Shower &ndash; screenshot 4" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/366/648/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                HipChat mobile app
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="366647" data-title="HipChat Web alerts" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/366/647/datas/original.PNG">
                            <img alt="Smart Shower &ndash; screenshot 5" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/366/647/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                HipChat Web alerts
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="366643" data-title="Solution data flow" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/366/643/datas/original.png">
                            <img alt="Smart Shower &ndash; screenshot 6" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/366/643/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Solution data flow
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="371373" data-title="Smart water sensor data flow" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/371/373/datas/original.jpg">
                            <img alt="Smart Shower &ndash; screenshot 7" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/371/373/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Smart water sensor data flow
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="371374" data-title="Artik10 data flow" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/371/374/datas/original.jpg">
                            <img alt="Smart Shower &ndash; screenshot 8" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/371/374/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Artik10 data flow
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="367077" data-title="smart shower" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/367/077/datas/original.JPG">
                            <img alt="Smart Shower &ndash; screenshot 9" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/367/077/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                smart shower
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="367078" data-title="smart sensor" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/367/078/datas/original.JPG">
                            <img alt="Smart Shower &ndash; screenshot 10" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/367/078/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                smart sensor
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="371961" data-title="Daily water use" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/371/961/datas/original.PNG">
                            <img alt="Smart Shower &ndash; screenshot 11" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/371/961/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Daily water use
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    According to science
                    <a href="http://www.pnas.org/content/111/14/5129.full.pdf" rel="nofollow">
                        paper
                    </a>
                    ![&ldquo;Perceptions of water use&rdquo;, Shahzeen Z. Attari] Americans significantly underestimate their water use. A 10-minute shower with an EPA WaterSense labeled high efficiency showerhead consumes 22 gallons, while a 20 minute shower with an older, high flow showerhead could be as much as 100 gallons. As 39 millions of people in California take showers every day there is a huge opportunity to save water by providing proactive visibility on its use. . Tests demonstrated that we can easily reduce water use by more then 30% once we get visibility on water use in the shower. An additional benefit of saving water is that it saves energy to heat water. So it is a win-win situation for people and the environment as it's profitable for both of them. This information can therefore be used in countless other applications.
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    The smart sensor monitors water consumption and its temperature. After every minute it plays a sound, and after 5, 10, 15, 20 minutes it plays an alert sound. The immediate sound feedback gives instant awareness of time passed directly in the shower. It identifies different conditions as well as the amount of water usage from the measurements and generates alerts with different levels of severity based on water consumption, pressure. It can visualize water consumption trends in web dashboard. Alerts can be accessed from the
                    <a href="https://hipchat.com/" rel="nofollow">
                        HipChat
                    </a>
                    cloud service, which can communicate to the HipChat mobile app or HipChat Web. The service supports group communications as well, which can be useful for collaboration on water consumption.
                </p>
                <h2>
                    How I built it
                </h2>
                <p>
                    The implementation of this idea consists of three major components. The first component is the smart shower sensor built from the shelf inexpensive components (WiFI MCU
                    <a href="https://en.wikipedia.org/wiki/ESP8266" rel="nofollow">
                        ESP-12
                    </a>
                    , water flow sensor YF-S201, temperature sensor ds18b20). The second key component is the
                    <a href="https://www.artik.io/hardware/artik-10" rel="nofollow">
                        Artik10
                    </a>
                    , which is the brain of the solution. It is securely hosting a MQTT broker, a telemetry database, a powerful IoT analytics platform, a data loader, a stream processing engine and a wireless network interface to the smart sensor. The third component is a cloud notification service, which distributes alerts and displays them on a mobile app or on the Web.
Once water flow is detected, the smart sensor starts sending measurements as MQTT publications every 5 seconds over WiFi to Artik10. The MQTT
                    <a href="http://mosquitto.org/" rel="nofollow">
                        Mosquitto
                    </a>
                    broker receives publications and distributes to subscribers.
                    <a href="https://influxdata.com/time-series-platform/telegraf/" rel="nofollow">
                        Telegraf
                    </a>
                    data loader subscribes to the MQTT publications and loads them as measurement points into
                    <a href="https://influxdata.com/time-series-platform/influxdb/" rel="nofollow">
                        InfluxDB
                    </a>
                    telemetry database. This database becomes the data source for
                    <a href="http://grafana.org/" rel="nofollow">
                        Grafana
                    </a>
                    IoT web-based analytics. It can visualize water consumption trends and other information in an easy to use and customizable graphical dashboard. The stream processing engine
                    <a href="https://influxdata.com/time-series-platform/kapacitor/" rel="nofollow">
                        Kapacitor
                    </a>
                    is the brain that identifies different conditions as well as the amount of water usage from the stream of measurements and generates alerts with different levels of severity based on water consumption, pressure, as well sensor health characteristics. Once condition is detected, Kapacitor publishes alerts to the HipChat cloud service, which can communicate to the HipChat mobile app or HipChat Web. The service supports group communications as well, which can be useful for collaboration on water consumption.
                </p>
                <h2>
                    Challenges I ran into
                </h2>
                <p>
                    Different maturity issues related to products (SW/HW), building Linux SW for ARM Linux, learning Lua, upgrading Artik10 to Fedora 22, power management
                </p>
                <h2>
                    Accomplishments that I'm proud of
                </h2>
                <p>
                    Contributing to improving environment
Reducing my personal water consumption by 30%
                </p>
                <h2>
                    What I learned
                </h2>
                <p>
                    Electronics, HW troubleshooting, HW design, Lua, InfluxDB, Grafana, MQTT, Artik10, ESP12
                </p>
                <h2>
                    What's next for Smart Shower
                </h2>
                <p>
                    Improve power management, move from WiFi to BLE, add new alerts, graphs, add presence sensor, user recognition, make it work without batteries, add social aspect
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag">
                            artik10
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            ds18b20
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            esp-12
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            fedora
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            grafana
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/hipchat">
                                hipchat
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            influxdb
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            kapacitor
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/lua">
                                lua
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            mosquitto
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            mqtt
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            nodemcu
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            telegraf
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            yf-s201
                        </span>
                    </li>
                </ul>
            </div>
        </div>
    </body>
</html>

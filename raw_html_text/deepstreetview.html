<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/vtYGQhhHYa8?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="441848" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/848/datas/original.jpg">
                            <img alt="DEEP STREETVIEW &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/848/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="441838" data-title="Starry Night (fail)" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/838/datas/original.png">
                            <img alt="DEEP STREETVIEW &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/838/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Starry Night (fail)
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="441849" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/849/datas/original.jpg">
                            <img alt="DEEP STREETVIEW &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/849/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="441835" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/835/datas/original.png">
                            <img alt="DEEP STREETVIEW &ndash; screenshot 4" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/835/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="441856" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/856/datas/original.jpg">
                            <img alt="DEEP STREETVIEW &ndash; screenshot 5" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/856/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="441841" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/841/datas/original.png">
                            <img alt="DEEP STREETVIEW &ndash; screenshot 6" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/841/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="441857" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/857/datas/original.jpg">
                            <img alt="DEEP STREETVIEW &ndash; screenshot 7" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/857/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="441836" data-title="The Wave" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/836/datas/original.png">
                            <img alt="DEEP STREETVIEW &ndash; screenshot 8" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/836/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                The Wave
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="441850" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/850/datas/original.jpg">
                            <img alt="DEEP STREETVIEW &ndash; screenshot 9" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/850/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="441834" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/834/datas/original.png">
                            <img alt="DEEP STREETVIEW &ndash; screenshot 10" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/834/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="441852" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/852/datas/original.jpg">
                            <img alt="DEEP STREETVIEW &ndash; screenshot 11" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/852/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="441842" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/842/datas/original.png">
                            <img alt="DEEP STREETVIEW &ndash; screenshot 12" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/842/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="441853" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/853/datas/original.jpg">
                            <img alt="DEEP STREETVIEW &ndash; screenshot 13" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/853/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="441837" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/837/datas/original.png">
                            <img alt="DEEP STREETVIEW &ndash; screenshot 14" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/837/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="441851" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/851/datas/original.jpg">
                            <img alt="DEEP STREETVIEW &ndash; screenshot 15" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/851/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="441839" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/839/datas/original.png">
                            <img alt="DEEP STREETVIEW &ndash; screenshot 16" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/839/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="441855" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/855/datas/original.jpg">
                            <img alt="DEEP STREETVIEW &ndash; screenshot 17" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/855/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="441840" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/840/datas/original.png">
                            <img alt="DEEP STREETVIEW &ndash; screenshot 18" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/840/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="441779" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/779/datas/original.png">
                            <img alt="DEEP STREETVIEW &ndash; screenshot 19" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/779/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="442213" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/442/213/datas/original.png">
                            <img alt="DEEP STREETVIEW &ndash; screenshot 20" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/442/213/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h1>
                    <a href="http://deepstreetview.com" rel="nofollow">
                        deepstreetview.com
                    </a>
                </h1>
                <h2>
                    What it does
                </h2>
                <p>
                    It turns Google Street View into works of art. Your world will never be the same.
                </p>
                <h2>
                    Inspiration
                </h2>
                <p>
                    The first iteration of the website was a Chrome Extension:
                    <em>
                        VR Harambe Sighting
                    </em>
                    in which Harambe would be stochastically overlaid on the sidewalks of Google Street View using a suite of CV algorithms. Due to the nature of async flow, not all functionalities can be implemented in browser. As a result, I decided to pivot the app towards deep learning.
                </p>
                <h2>
                    The Tech
                </h2>
                <p>
                    The frontend is written in vanilla Javascript. It overrides Google Streetview API calls with custom event handlers that redirect AJAX from Google's server to a custom server where tiles are processed on-the-fly. The backend is a Python Flask microservice proxied with Nginx. The heavy-lifting algorithm is abstracted away using torch and system calls.
                    <a href="https://github.com/jcjohnson/fast-neural-style" rel="nofollow">
                        Fast-neural-style
                    </a>
                    was released one month ago and provides drastic improvement over the speed of image rendering. As opposed to a full-fledged Convolutional Neural Network(CNN), it was implemented with simple tensor arithmetic not dissimilar to those commonly found in everyday Computer Vision. Usually, rendering a huge image such as Google Streetview( 3300x2048 ) would take at least a couple of hours. This new algorithm allows on-the-fly rendering: video and server apps such as this one. Special thanks to 1and1 for sponsoring the server which is 4cpu with 16GB memory.
                </p>
                <h2>
                    Challenges
                </h2>
                <ol>
                    <li>
                        <p>
                            I started deepstreetview around 6pm Saturday and finished at 4am Sunday. It would have more features if I woke up earlier.
                        </p>
                    </li>
                    <li>
                        <p>
                            Google Maps API was a low-level "callback hell". In the age of ES2017, it should be rewritten with the help of async/await and AMD. I want to thank EMCAScript Guru Ron Chen for his guidance with the Google Maps API.
                        </p>
                    </li>
                    <li>
                        <p>
                            The very first successful build uses the same format as Google Streetview. The tile size is 512x512 so the output looks pieced together with visible gridlines between tiles. This is solved by stitching all the parts and cutting the result in half vertically (rationale being the middle part is usually the road). This makes the image much more integral and easy to look at. However, the downside is that it takes the server much longer (10x) to respond because of the nature of the algorithm.
                        </p>
                    </li>
                    <li>
                        <p>
                            The (7x4) tiles are fetched from Google in 512x512 so 28 requests have to be made. It was originally written synchronously but then converted to parallel using a simple threading model. This increased the speed from 2s to 210ms.
                        </p>
                    </li>
                    <li>
                        <p>
                            Computation is expensive so caching is necessary. Although the cache is implemented using /tmp/ and serialized python strings, it works like a charm so not a challenge when n is small.
                        </p>
                    </li>
                    <li>
                        <p>
                            The server does not have a GPU as 1and1 don't offer GPU instances. This drastically slows process down. With a GPU, responding should be within seconds.
                        </p>
                    </li>
                    <li>
                        <p>
                            GPU instances are unreliable and expensive. Definitely not worth it for a sensational project such as this one. I think the future of this is to cache enough processed street view images and throw them in a vault.
                        </p>
                    </li>
                </ol>
                <h2>
                    Accomplishments
                </h2>
                <ol>
                    <li>
                        <p>
                            Buying a Namecheap domain.
                        </p>
                    </li>
                    <li>
                        <p>
                            The idea for the hack and the execution were pretty on point
                        </p>
                    </li>
                    <li>
                        <p>
                            The ML library Torch is easy to deploy. It took about 8 lines of code and works flawlessly.
                        </p>
                    </li>
                    <li>
                        <p>
                            This being a generally successful hack with lots of hacky code written is good
                        </p>
                    </li>
                </ol>
                <h2>
                    Lessons learned
                </h2>
                <ol>
                    <li>
                        <p>
                            It's canonical to respect the API
                        </p>
                    </li>
                    <li>
                        <p>
                            Patience is the archenemy of programming
                        </p>
                    </li>
                    <li>
                        <p>
                            Neural nets are hard to devise but bring good vibes when deployed
                        </p>
                    </li>
                    <li>
                        <p>
                            Keeping up with The Hacker News will get you clever ideas
                        </p>
                    </li>
                </ol>
                <h2>
                    What's next for DeepStreetView
                </h2>
                <p>
                    I have an Ethereum mining rig in my dorm so I'll just use that to cache enough processed street view tiles and throw everything on AWS and forget about this project. And the python flask microservice is simply not robust enough to handle any load so that has to be rewritten.
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/javascript">
                                javascript
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/json">
                                json
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/machine-learning">
                                machine-learning
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            pil
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/python">
                                python
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            torch
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            vanilla
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="http://deepstreetview.com" rel="nofollow" target="_blank" title="http://deepstreetview.com">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                deepstreetview.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

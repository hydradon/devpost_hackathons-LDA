<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li class="text-center">
                        <a data-lightbox="734520" data-title="The preview UI" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/734/520/datas/original.png">
                            <img alt="weasel &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/734/520/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                The preview UI
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    <img alt="" data-canonical-url="https://i.giphy.com/media/jnTYCAjDsFxwcMAJdK/giphy.webp" src="https://res.cloudinary.com/devpost/image/fetch/s--T9t4iRWg--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://i.giphy.com/media/jnTYCAjDsFxwcMAJdK/giphy.webp">
                </p>
                <p>
                    I'm not stable, but my DAI is. The aforementioned reason is a fantastic argument for being able to instantly swap your ETH into DAI and send it to a contact. Within Status.im, currently it's only possible to send your contacts assets that you already hold, but with the same number of transactions you could send them anything which has an ETH pair on Kyber.
                </p>
                <p>
                    Sending an asset pegged to fiat within a chat context is a use-case that is tried, tested and proved.
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    With weasel, you can send DAI by simply executing a single chat command within a Status chat. You don't need to have DAI already (just some ETH) and you don't need to execute more than one transaction. Simply type the number of DAI that you want to send and badda bing badda boom.
                </p>
                <h2>
                    How I built it
                </h2>
                <p>
                    My hackathon submission is comprised of two pieces:
                </p>
                <ul>
                    <li>
                        Tiny proxy contract in front of Kyber Network's proxy (proxy.sol)
                    </li>
                    <li>
                        Status extension (extension.txt)
                    </li>
                </ul>
                <p>
                    The function of each is described below.
                </p>
                <h2>
                    &nbsp;proxy.sol
                </h2>
                <p>
                    Kyber network's own contracts currently allow you to purchase a token with ETH by directly sending ETH to the proxy contract. The proxy does not however allow us to forward the resulting token to an address that we do not control. For this reason, I have created a small contract which forwards the ETH and calls the correct function (
                    <code>
                        tradeWithHint
                    </code>
                    ) in the Kyber Proxy, with a single additional argument - the address of the token receiver.
                </p>
                <p>
                    The result is exactly the same as calling the Kyber Proxy directly, except the token is immedietely delivered to the recipient.
                </p>
                <p>
                    <img alt="" data-canonical-url="https://media.giphy.com/media/3boU1mIcXHc40/giphy.gif" src="https://res.cloudinary.com/devpost/image/fetch/s--9wkG4iQC--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://media.giphy.com/media/3boU1mIcXHc40/giphy.gif">
                </p>
                <p>
                    (Search proxy gif and you get this bad ass chica)
                </p>
                <h2>
                    extension.txt
                </h2>
                <p>
                    The extension allows you to execute the command
                    <code>
                        /send-dai
                    </code>
                    with a single argument: the amount of DAI that you wish to send to your contact. Upon execution, this command then fetches the price of DAI (in ETH) from the Kyber Proxy, performs some arithmetic (surprisingly difficult in Status) to craft and send the transaction.
                </p>
                <p>
                    The extension could be a lot better, but there are some reasonably large limitations in the extensions API.
                </p>
                <p>
                    <img alt="" data-canonical-url="http://images4.fanpop.com/image/photos/14800000/skull-gifs-skulls-14883450-209-190.gif" src="https://res.cloudinary.com/devpost/image/fetch/s--Vl4pNET0--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/http://images4.fanpop.com/image/photos/14800000/skull-gifs-skulls-14883450-209-190.gif">
                </p>
                <h2>
                    Challenges I ran into
                </h2>
                <p>
                    Status extensions, my nemesis. It's not possible to make queries within Status extensions from event blocks, which is a large limitation. It meant that my extension is not quite as functional as I would like it to be.
                </p>
                <p>
                    The status-react repo also had a small bug which I fixed, so I had to use a custom build of Status to work on my solution.
                </p>
                <p>
                    Extensions are also a PITA to iterate on. Almost masochistic.
                </p>
                <h2>
                    Accomplishments that I'm proud of
                </h2>
                <p>
                    I built an extension (!!!!!!) and it's less than 10% hardcoded (!!).
                </p>
                <h2>
                    What I learned
                </h2>
                <p>
                    Kyber is sweet AF and very easy to interface with, it basically has all the functions you would want as a dev. I will be using it again for sure.
                </p>
                <h2>
                    What's next for weasel
                </h2>
                <p>
                    I plan to pester the Status team until they make it possible to realise the full vision of this extension.
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/clojure">
                                clojure
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/kyber">
                                kyber
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            maker
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/solidity">
                                solidity
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            status.im
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://status-im.github.io/pluto/try.html?hash=QmSqunRGczdVfPsraaFyqzoQGJWojesMi6HZrDmLWyef6C" rel="nofollow" target="_blank" title="https://status-im.github.io/pluto/try.html?hash=QmSqunRGczdVfPsraaFyqzoQGJWojesMi6HZrDmLWyef6C">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                status-im.github.io
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/morelazers/ethsingapore" rel="nofollow" target="_blank" title="https://github.com/morelazers/ethsingapore">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

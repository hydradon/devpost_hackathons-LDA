<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li class="text-center">
                        <a data-lightbox="884992" data-title="Slider" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/884/992/datas/original.png">
                            <img alt="CarbonGuilt &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/884/992/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Slider
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="884993" data-title="Landing" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/884/993/datas/original.png">
                            <img alt="CarbonGuilt &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/884/993/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Landing
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="884990" data-title="Congratulations popup" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/884/990/datas/original.png">
                            <img alt="CarbonGuilt &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/884/990/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Congratulations popup
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="884991" data-title="Main screen" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/884/991/datas/original.png">
                            <img alt="CarbonGuilt &ndash; screenshot 4" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/884/991/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Main screen
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    The environmental impact of Ethereum hasn't gone unnoticed. A single Ethereum transaction consumes the same amount of electricity that a U.S. household does in a whole day (
                    <a href="https://digiconomist.net/ethereum-energy-consumption" rel="nofollow">
                        https://digiconomist.net/ethereum-energy-consumption
                    </a>
                    ). Many Ethereum users, given the chance, would gladly pay a premium to be able to offset said footprint. We, as a team, set out to enable these enviromentally conscious users to fulfill their green destiny.
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    CarbonGuilt is a dApp built on top of Ethereum that (with the help of a Metamask plugin) tracks the amount of gas you spend in your transactions. It then estimates (based on that gas, and using calculations with data from various sources and Chainlink to aggregate it) your carbon footprint on the chain and gives you the option of transferring ETH to one out of a curated list of projects/organizations dedicated to offset carbon emissions. Users who offset their carbon emissions in this way are rewarded by CarbonGuilt with GuiltFree (GIFT) tokens, an ERC20 token which represents 1 tonne of CO2. This amazing token grants you bragging rights and peace of mind at the same time!
                </p>
                <h2>
                    How we built it
                </h2>
                <p>
                    We built an API using node.js that scrapes an assortment of energy consumption and carbon emission data from different sources, and then used the Chainlink framework to access it on-chain in a decentralized and reliable manner.
                </p>
                <p>
                    Our smart contracts (and dApp) use this data to calculate the user's carbon footprint based on the amount of gas accumulated by the Metamask plugin. The user can then decide to pay ETH to a project of his choice (from a curated list managed by a registry smart contract) in order to offset this footprint.
                </p>
                <p>
                    Once a payment is done, the user receives an amount of GIFT tokens representing the amount of CO2 they have offset (depending on the chosen project), and the plugin is signaled to reduce the accumulated gas guilt by the appropriate amount.
                </p>
                <h3>
                    UI
                </h3>
                <p>
                    The UI was built using react and typescript. Interaction with the smart contracts was done via javascript (web3 and ethers.js). The Metamask plugin was built using their snap feature. The dApp uses ENS to list the beneficiary projects in a user-friendly manner and then converts their ENS addresses to Ethereum addresses.
                </p>
                <h3>
                    Smart Contracts
                </h3>
                <p>
                    Smart contracts were written in Solidity, and the oracles used Chainlink to fetch and aggregate data from the offchain node API.
                </p>
                <h3>
                    Energy consumption API
                </h3>
                <p>
                    Written in node.js, using cheerio to scrape, needle for requests and express for the endpoints.
                </p>
                <h2>
                    Challenges we ran into
                </h2>
                <ul>
                    <li>
                        Integrating with the experimental Metamask version was very complicated. At first we intended the plugin to handle most of the heavy lifting, but making it communicate with smart contracts proved difficult and cumbersome. We decided to move the brunt of the work to a dApp and have the plugin only be concerned with accumulating spent gas. Every web3.js version we tried had a different set of compatibility issues (either with the plugin or with Metamask itself).
                    </li>
                    <li>
                        The Chainlink integration was tricky as well, but we managed to overcome the hurdles in the end.
                    </li>
                    <li>
                        Estimating a decent approximation of carbon emissions per gas unit was no easy task either, especially since the relevant data is not readily availble (at least not dynamically). For example, we had to write a service that pings a node to calculate the average gas spent by transactions in the last 500k blocks. We relied heavily on the data provided by
                        <a href="https://digiconomist.net/ethereum-energy-consumption" rel="nofollow">
                            https://digiconomist.net/ethereum-energy-consumption
                        </a>
                        and the methodology proposed by
                        <a href="https://github.com/ethereum/EIPs/pull/2050/commits/952b7ede2c722086dc9378ef79d8f2573d0da7f2" rel="nofollow">
                            https://github.com/ethereum/EIPs/pull/2050/commits/952b7ede2c722086dc9378ef79d8f2573d0da7f2
                        </a>
                        , with a few additions of our own.
                    </li>
                </ul>
                <h2>
                    Accomplishments that we're proud of
                </h2>
                <ul>
                    <li>
                        Setting an ambitious goal and managing to achieve it in a short period
                    </li>
                    <li>
                        Leveraging various new technologies successfully
                    </li>
                    <li>
                        Coming up with an exciting idea for a project that we could all get behind, with the added benefit of it being something that contributes to society in some manner
                    </li>
                </ul>
                <h2>
                    What we learned
                </h2>
                <ul>
                    <li>
                        Ethereum is a wonderland of unstable libraries (just kidding, we already knew that)
                    </li>
                    <li>
                        There is an iguana species that uses its blue tongue to fool predators into thinking it's venomous
                    </li>
                    <li>
                        Madagascan cockroaches are surprisingly not as gross as people would think
                    </li>
                    <li>
                        Having an animal therapy room at a hackathon is a great idea
                    </li>
                    <li>
                        Wei to ETH calculations are TOUGH when you're sleep deprived
                    </li>
                    <li>
                        Each of us spent some time working outside of our respective comfort zones, so each of us gained working knowledge of areas beyond our expertise
                    </li>
                </ul>
                <h2>
                    What's next for CarbonGuilt
                </h2>
                <ul>
                    <li>
                        We could extend our reliance on Chainlink to allow beneficiary projects to provide us with API urls (instead of fixed rates) to calculate their carbon credit prices based on efficiency
                    </li>
                    <li>
                        We could extend our array of data sources (again leveraging the capabilities of Chainlink) to get more reliable carbon footprint calculations
                    </li>
                    <li>
                        We could improve the UI
                    </li>
                    <li>
                        We could add more capabilities to the plugin, like historic data on carbon credit prices/gas emission coefficients at the time of each offsetting transaction
                    </li>
                    <li>
                        We could explore ways to provide more utility to the GIFT token, making it tradeable
                    </li>
                    <li>
                        We could define a standard for beneficiary projects to connect to our protocol
                    </li>
                    <li>
                        We could add support for stable coins
                    </li>
                    <li>
                        We could use other tools and APIs so that when a user first installs the plugin, their total accumulated spent gas from genesis is calculated (instead of just starting to count from the point where they installed the plugin)
                    </li>
                </ul>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag">
                            chainlink
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            ens
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            ethers.js
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/express-js">
                                express.js
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            metamask
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/node-js">
                                node.js
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/react">
                                react
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/solidity">
                                solidity
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/typescript">
                                typescript
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            web3
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/EthWaterloo-Hackathon" rel="nofollow" target="_blank" title="https://github.com/EthWaterloo-Hackathon">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

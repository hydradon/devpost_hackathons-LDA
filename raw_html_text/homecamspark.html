<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li class="text-center">
                        <a data-lightbox="337906" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/337/906/datas/original.png">
                            <img alt="HomeCamSpark &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/337/906/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    I have a old laptop lying around with a webcam, which I have turned into a home surveillance camera.
I can watch my apartment through my last project
                    <a href="https://yoursunny.com/p/homecam/" rel="nofollow">
                        HomeCam
                    </a>
                    , but I can't spend all day staring at the screen.
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    HomeCamSpark is a home surveillance camera integrated with
                    <a href="https://www.ciscospark.com" rel="nofollow">
                        Cisco Spark
                    </a>
                    .
It sends a photo to a Spark room whenever motion is detected, so that the homeowner can receive a notification on their mobile device instantly.
The homeowner can also send text to the Spark room which will be spoken on the computer, in order to scare off potential threats.
                </p>
                <h2>
                    How I built it
                </h2>
                <ol>
                    <li>
                        <a href="http://linux.die.net/man/1/motion" rel="nofollow">
                            motion(1)
                        </a>
                        detects motion and invokes my script
                    </li>
                    <li>
                        PHP script sends picture to Cisco Spark API
                    </li>
                    <li>
                        <a href="https://ngrok.com" rel="nofollow">
                            ngrok
                        </a>
                        allows Cisco Spark API to reach the computer
                    </li>
                    <li>
                        PHP script receives messages from the homeowner through a webhook, and invokes
                        <a href="http://linux.die.net/man/1/festival" rel="nofollow">
                            festival(1)
                        </a>
                        for text-to-speech
                    </li>
                </ol>
                <h2>
                    Challenges I ran into
                </h2>
                <p>
                    My access token works correctly when I invoke Cisco Spark API from
                    <code>
                        curl
                    </code>
                    , but it doesn't work from a PHP script.
I spent much time debugging this, and it turns out to be an extra newline in one of the configuration files, which causes part of the HTTP header to be spilled into the request body, but Cisco Spark API is returning a confusing error code so I didn't suspect that part earlier.
                </p>
                <h2>
                    Accomplishments that I'm proud of
                </h2>
                <p>
                    The whole thing is built in 3 hours~
                </p>
                <h2>
                    What I learned
                </h2>
                <p>
                    It's possible to build cool things in just a few hours.
                </p>
                <h2>
                    What's next for HomeCamSpark
                </h2>
                <p>
                    Now I have 3 home surveillance cameras that have different protocols and codebase.
Maybe I need to integrate them somehow?
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/bash">
                                bash
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            cisco-spark
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            festival(1)
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            motion(1)
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            ngrok
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/php">
                                php
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/yoursunny/HomeCamSpark" rel="nofollow" target="_blank" title="https://github.com/yoursunny/HomeCamSpark">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    This summer, my air conditioning coil froze and caused my air conditioner to stop working creating an expensive repair bill that could have been prevented if I knew the coil had frozen in time.
                </p>
                <h2>
                    What it does
                </h2>
                <h2>
                    How I built it
                </h2>
                <p>
                    I built the coil checker using raspberry pi, a simple thermometer sensor and the nexmo SMS API.
                </p>
                <h2>
                    Challenges I ran into
                </h2>
                <p>
                    I had the option to use a cron job to fire off the node.js code, but I chose to put a sleep within the code to make it easier for someone to use quickly. I actually prefer the cron job, and I will use cron in my home implementation instead of the sleep function.
                </p>
                <h2>
                    Accomplishments that I'm proud of
                </h2>
                <p>
                    Sent messages easily using SMS to alert me if my airconditioner coil freezes in just a few lines of code.
                </p>
                <h2>
                    What I learned
                </h2>
                <p>
                    Its very easy to create SMS alarms in node.js and raspberry pi
                </p>
                <h2>
                    What's next for Coil Checker
                </h2>
                <p>
                    I want to use the humidity to ensure water vapor isn't forming inside the ducts.
                </p>
                <h2>
                    Code
                </h2>
                <p>
                    var https = require('https');
var sensor = require('node-dht-sensor');
var sleep = require('sleep');
                </p>
                <p>
                    while(){
sleep.sleep(1800);
sensor.read(22, 4, function(err, temperature, humidity) {
if (!err) {
if (temperature.toFixed(1)&lt;=0){
callSMSAlert();
}
});
                </p>
                <p>
                    }
                </p>
                <p>
                    function callSMSAlert(){
var data = JSON.stringify({
 api_key: 'YOUR KEY',
 api_secret: 'YOUR SECRET',
 to: 'TARGET PHONE NUMBER',
 from: '441632960961',
 text: 'Your air conditioner coil is freezing'
});
                </p>
                <p>
                    var options = {
 host: 'rest.nexmo.com',
 path: '/sms/json',
 port: 443,
 method: 'POST',
 headers: {
 'Content-Type': 'application/json',
 'Content-Length': Buffer.byteLength(data)
 }
};
                </p>
                <p>
                    var req = https.request(options);
                </p>
                <p>
                    req.write(data);
req.end();
                </p>
                <p>
                    var responseData = '';
req.on('response', function(res){
 res.on('data', function(chunk){
 responseData += chunk;
 });
                </p>
                <p>
                    res.on('end', function(){
   console.log(JSON.parse(responseData));
 });
});
}
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/javascript">
                                javascript
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            node-dht-sensor
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/node-js">
                                node.js
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            sleep
                        </span>
                    </li>
                </ul>
            </div>
        </div>
    </body>
</html>

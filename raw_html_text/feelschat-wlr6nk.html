<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/Z0MOpprik9k?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="771597" data-title="Positive Sentiment!" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/771/597/datas/original.PNG">
                            <img alt="FeelsChat &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/771/597/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Positive Sentiment!
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="771598" data-title="Negative Sentiment" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/771/598/datas/original.PNG">
                            <img alt="FeelsChat &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/771/598/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Negative Sentiment
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="771618" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/771/618/datas/original.png">
                            <img alt="FeelsChat &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/771/618/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    I have been wanting to get my feet wet with extensions for a while and this was a really fun experience. I thought it would be fun to try to build an at-a-glance twitch chat analysis tool for streamers and viewers alike to see the general mood of a chat.
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    In essence the application is a chat monitor that performs analysis using some javascript and the AWS Comprehend NLP engine. The once the streamer has the extension open, it will begin to read chat, submitting 2 minutes for processing. Once results are received, the extension will show:
                </p>
                <p>
                    <strong>
                        Sentiment Analysis
                    </strong>
                    Using Comprehend, the overall sentiment of the last 2 minutes of chat. The UI shows an emoji consistent with the chat sentiment and some text on the sentiment return. As a note, emojis are excluded from analysis as they may skew the results. Under the simple at a glance sentiment there is a small line graph showing the sentiment of the session in relation of positive sentiment score, the higher the point, the more positive the chat was, this can be expanded in future iterations.
                </p>
                <p>
                    <strong>
                        Profanity Percentage
                    </strong>
                    This card will show the simple percentage of lines that contained profanity. Again, emotes are excluded from this list to avoid skew. Unlike sentiment analysis this is a running percentage for the session. The anaysis is a regex filter that looks for common 'bad words' and makes the occurrence per line. The measurement is the percentage of chat messages containing at least one bad word.
                </p>
                <p>
                    <strong>
                        Repeated Lines
                    </strong>
                    This simple comparison is also a running percentage of the number of repeated lines in a segment. Emotes excluded again this is a very simple text comparison. In future iterations I would hope to be able to take advantage of a better (and cheaper :)) text analysis tool to better compare text lines for similarity.
                </p>
                <p>
                    <strong>
                        Emote Spam
                    </strong>
                    This simple calculation shows the percentage of chat lines that were emote only and contained more than one emote. No hard calculations here as I am able to grab the emote tags to determine if emotes are present and how many and this becomes my counter.
                </p>
                <h2>
                    How I built it
                </h2>
                <p>
                    The front end of the extension is built using react. There are 2 main views for the application, the broadcaster's live dashboard and the panel portion of the channel page. On the dashboard the view will execute the polling of the broadcaster's chat and will submit collected chat lines every 2 minutes. The analysis of the chat is centralized to a lambda endpoint that is hit with a POST request. This endpoint will first verify the JWT of the caller and then break off into the 3 major analysis threads. The sentiment analysis is an API call to Amazon Comprehend with an array of chat lines with emotes redacted. Additionally, there are 2 node functions that will complete the analysis for profanity and repeated lines. Once all 3 have completed, the lambda will broadcast a pub/sub message to all connected clients. Once the clients receive the messages, they will update the UI to reflect the information. Another note is that the dashboard will persist the information for the session, meaning if a client comes into the stream late, they will still receive the most recent information, thus keeping all clients in sync. The analysis data points are also kept in DynamoDB for future analysis and trending tools for streamers.
                </p>
                <h2>
                    Challenges I ran into
                </h2>
                <p>
                    Getting up and running with the developer rig was somewhat challenging as this was my first foray into the tool. After some getting used to, it turned out to be a great resource. I had worked with Lambda and AWS quite a bit in the past but working with the comprehend API was another learning experience with this project. The biggest challenges I ran into were performance at scale. I wanted to make sure my pack size and response sizes were small so this could scale up. I made some major architectural adjustments to account for performance as well as some potential issues with pub/sub limitations.
                </p>
                <h2>
                    Accomplishments that I'm proud of
                </h2>
                <p>
                    In all honesty just having an extension that is functional and does remotely what I set out to do is something I am very proud of. This was a 'nights and weekends' project for me and I loved working on it and learning about extension development.
                </p>
                <h2>
                    What I learned
                </h2>
                <p>
                    I learned a ton about twitch extensions in general as well as some of the inner workings of amazon machine learning APIs. I learned about the twitch API and how twitch's JWT validation works. There was also a good amount of performance tuning and webpack config fun that was a good experience.
                </p>
                <h2>
                    What's next for FeelsChat
                </h2>
                <p>
                    In the short term I would like to expand some of the available information including potential new measures of chat. As mentioned earlier, I would like to expand the text matching capability as well as to add some information around key words and phrases. Finally, trending over time is something I am very keen to expand. To be able to show streamers the change in sentiment (and other factors) in response to game changes, raids, hosts, etc.
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/amazon-web-services">
                                amazon-web-services
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            coffee
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            magic
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/node-js">
                                node.js
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/react">
                                react
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
        </div>
    </body>
</html>

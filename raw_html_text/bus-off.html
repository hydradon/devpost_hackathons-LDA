<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li class="text-center">
                        <a data-lightbox="450860" data-title="bus off" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/450/860/datas/original.jpg">
                            <img alt="Bus Off &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/450/860/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                bus off
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="452353" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/452/353/datas/original.jpg">
                            <img alt="Bus Off &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/452/353/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="452354" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/452/354/datas/original.png">
                            <img alt="Bus Off &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/452/354/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="452355" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/452/355/datas/original.png">
                            <img alt="Bus Off &ndash; screenshot 4" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/452/355/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="452356" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/452/356/datas/original.png">
                            <img alt="Bus Off &ndash; screenshot 5" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/452/356/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="452357" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/452/357/datas/original.png">
                            <img alt="Bus Off &ndash; screenshot 6" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/452/357/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    We've all seen the viral AD campaigns of Coca Cola, flash mobs around the world and cool tech used to sell products. We wanted to make the bus stop wait less boring and tedious, lets get people dancing with Bus Off!
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    Bus Off pairs you up with a random bus stop somewhere in the world and generates a random sequence of songs. You must then hit markers appearing on the screen in order to score points against your opponent. The player who gets the most points wins!
                </p>
                <h2>
                    How I built it
                </h2>
                <p>
                    We use computer vision to construct a skeleton of the player from a webcam feed, using this skeleton we can calculate the relative distances from the person to the point and calculate whether a person has hit a point. Node JS and socket sessions share game state between clients.
                </p>
                <h3>
                    Microservices
                </h3>
                <h4>
                    Audio-Merge
                </h4>
                <p>
                    Using Python, Request and Flask to implement a genre and BPM based API for Deezer. Allowing us to generate full mix tracks from Deezer's 30 second previews using Pydub.
                </p>
                <h4>
                    Skel-Gen
                </h4>
                <p>
                    Using Python, OpenCV and Socket.IO we remove the background of a video stream based on optical flow. This data can then be abstracted into a skeleton and sent back to the frontend. Finally, the frontend can detect if the body intersects the current markers and give the user a point. State is stored on the server meaning many clients are supported (more bus stops woo!!)
                </p>
                <h4>
                    User-Match
                </h4>
                <p>
                    Using NodeJS, Express and Socket.IO we match users at bus stops around the world. The first person to hit 10 perfect moves wins the game and, I'm afraid, the other loses.
                </p>
                <h2>
                    Challenges I ran into
                </h2>
                <p>
                    Streaming HD video over Websockets is hard, especially with ~2.5Mbps upload. We instead segmented the video into important regions, reducing the data requirements by ~ 50x. We also send back a skeleton model that is significant smaller than a video feed, allowing a smooth gameplay experience.
                </p>
                <h2>
                    Accomplishments that I'm proud of
                </h2>
                <p>
                    Game state is shared between clients seamlessly, we've achieved relatively accurate skeletal tracking with only a single web cam, we've accounted for both portrait and landscape screens and webcams and we've generated BPM matched mix tapes using the free tier Deezer API.
                </p>
                <h2>
                    What I learned
                </h2>
                <p>
                    Websockets, EJS, Computer Vision, Python and a million other things!
                </p>
                <h2>
                    What's next for Bus Off
                </h2>
                <p>
                    Let's get integrated in billboards and bus stops around the world, why not integrate this with Twitter? Send an embarrassing video of you and your new best friend dancing. The advertising potential is huge and we'd love to work with a marketing agency to make this happen.
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag">
                            computer-vision
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/deezer">
                                deezer
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/ejs">
                                ejs
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/javascript">
                                javascript
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/node-js">
                                node.js
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/python">
                                python
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/sass">
                                sass
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
        </div>
    </body>
</html>

<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/AdsCB-ppNW4?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="919433" data-title="Barry in action" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/919/433/datas/original.jpeg">
                            <img alt="Barry the Dalek &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/919/433/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Barry in action
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="919436" data-title="Barry in action" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/919/436/datas/original.jpeg">
                            <img alt="Barry the Dalek &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/919/436/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Barry in action
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="919437" data-title="Barry in action" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/919/437/datas/original.jpeg">
                            <img alt="Barry the Dalek &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/919/437/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Barry in action
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    What it does
                </h2>
                <p>
                    You can text Barry commands to make him do things:
                </p>
                <ul>
                    <li>
                        Go Forward
                        <code>
                            gf
                        </code>
                    </li>
                    <li>
                        Go Backward
                        <code>
                            gb
                        </code>
                    </li>
                    <li>
                        Turn Left
                        <code>
                            tl
                        </code>
                    </li>
                    <li>
                        Turn Right
                        <code>
                            tr
                        </code>
                    </li>
                    <li>
                        Say "something"
                        <code>
                            s something
                        </code>
                    </li>
                    <li>
                        Speak the Time
                        <code>
                            t
                        </code>
                    </li>
                    <li>
                        Use Tv SFX "exterminate"
                        <code>
                            e
                        </code>
                    </li>
                    <li>
                        Use Tv SFX Dalek Gun noise
                        <code>
                            g
                        </code>
                    </li>
                </ul>
                <p>
                    Commands may be prefixed with an integer and will be repeated that many times
                </p>
                <p>
                    Some badly distorted amp inside will produce a janky audio signal that sounds vaguely like what it would sound like if a Dalek were to say "Hello, world!".
                </p>
                <h2>
                    How we built it
                </h2>
                <p>
                    We bought an old Dalek toy, took the bottom off, pulled most of the wires and PCBs out. Then, tried for a few weeks to solder everything back together (still is very temperamental - if the head is turned all the way to the left, the ears don't light up. Also, if you squeeze on it it seems to work better).
                </p>
                <p>
                    Then, we created a spider-web of wires with an amplifier module and a motor driver to let us interface with the speaker built into Barry's base and the motors. Of course, as nothing ever goes as planned, the motor driver had faulty connections and the Pi refused to output any audio signal.
                </p>
                <p>
                    We wrote a Python program to listen for text messages via Twilio, parse them using a regex, and relay the commands on to a robot driver program.
                </p>
                <h2>
                    Challenges we ran into
                </h2>
                <ul>
                    <li>
                        The LEDs in the ear wouldn't connect properly to their sockets, despite trying everything: resoldering multiple times, hot-gluing them in place, dremmeling out the head to re-do Barry's brain, etc for weeks. Still doesn't work very well and we have to adjust it loads.
                    </li>
                    <li>
                        Because electronics never works as well as simulators say it should, our amplifier -&gt; rectifier -&gt; LED &amp; capacitor circuit to turn the ears on in response to Barry's voice didn't work either. They would either constantly be on or constantly be off. It worked perfectly for about 15 seconds and then I breathed out and it broke again. We eventually decided to control the ears directly via GPIO.
                    </li>
                    <li>
                        The wires broke off of the motors a few hours into the hackathon, but since we couldn't solder we had to wrap the wires around the pins, resulting in an even worse connection than before. Also, the motor driver would only work if we squeezed the headers towards each other, so I wrapped Sellotape around them to give it a constant squeeze.
                    </li>
                    <li>
                        We brought two Raspberry Pis with us, but didn't have the foresight to actually check that they have Wi-Fi built in - they do not. So, we borrowed a Pi 4 from the MLH hardware thingy which ended up not working (after determining this through an hour of experimentation and several dongles and adapters). So, we used one of our ones but plugged in a Wi-Fi dongle which worked fine.
                    </li>
                    <li>
                        When our motors stopped working, for some reason we opened up the gearbox. This caused springs to fly everywhere and the gears to come loose, which set us back quite a bit too.
                    </li>
                    <li>
                        The raspberry pi wouldn't output an AUX signal for some reason. (EDIT: We didn't turn the volume up
                        <em>
                            sigh
                        </em>
                        )
                    </li>
                </ul>
                <h2>
                    Accomplishments that we're proud of
                </h2>
                <ul>
                    <li>
                        It works, despite the numerous issues we faced
                    </li>
                    <li>
                        It still looks like a dalek
                    </li>
                </ul>
                <h2>
                    What we learned
                </h2>
                <ul>
                    <li>
                        How to use the Twilio API
                    </li>
                </ul>
                <h2>
                    What's next for Barry the Dalek
                </h2>
                <p>
                    Instead of using a GPIO pin to control the ear light, create a circuit where the audio signal closes a MOSFET when there is sound, and have a capacitor in parallel with the LED to make it fade in/out
                </p>
                <p>
                    Separate the command/GPIO program from the Twilio integration and connect the two using UNIX domain sockets or similar so multiple interfaces can be used (eg a direct shell program for use over ssh)
                </p>
                <p>
                    Finally, we'll release him safely back into the wild once we're done with him.
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag">
                            bunch-of-random-components
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            dalek
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            gpio
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/python">
                                python
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/raspberry-pi">
                                raspberry-pi
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/twilio">
                                twilio
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
        </div>
    </body>
</html>

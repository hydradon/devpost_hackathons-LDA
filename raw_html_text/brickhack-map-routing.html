<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li class="text-center">
                        <a data-lightbox="593015" data-title="Example routing in San Diego" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/593/015/datas/original.png">
                            <img alt="Map Routing &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/593/015/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Example routing in San Diego
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h1>
                    Brickhack 4 (2018) Project: Open Street Map Routing
                </h1>
                <p>
                    Welcome to my Open Street Map routing program developed in under 24 hours at Brickhack 4 (2018) at RIT.
                </p>
                <p>
                    In short, it asks for 4 street names that form 2 intersections then parses Open Street Map data (.osm), generates a graph of nodes, and finally finds the shortest path between your two intersection nodes.
                </p>
                <p>
                    I made the graph generation from the .osm files a separate program because it takes so long due to the large file sizes. I also included the code to run it directly from the .osm files if you comment out the 2 lines and uncomment 3 lines in driver.py that I identify with comments.
                </p>
                <p>
                    Note if you choose to do that: It runs significantly faster working from my node files than straight OSM data. So ideally you use make_graph.py once to make the graph file and then each successive run is significantly faster than generating the graph.
                </p>
                <p>
                    Observed straight from .osm file vs. my graph file on San Diego (~300MB file) is:
                </p>
                <table class="responsive">
                    <thead>
                        <tr>
                            <th>
                                From map.osm File
                            </th>
                            <th>
                                From graph.txt
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                ~30 seconds
                            </td>
                            <td>
                                ~3 seconds
                            </td>
                        </tr>
                    </tbody>
                </table>
                <h2>
                    How to Operate the program
                </h2>
                <ol>
                    <li>
                        <p>
                            Download the code or clone the repository.
                        </p>
                    </li>
                    <li>
                        <p>
                            Download .osm data from
                            <a href="https://mapzen.com/data/metro-extracts/" rel="nofollow">
                                https://mapzen.com/data/metro-extracts/
                            </a>
                            or
                            <a href="https://www.openstreetmap.org/" rel="nofollow">
                                https://www.openstreetmap.org/
                            </a>
                            and move the .osm file into the maps/ folder.
                        </p>
                    </li>
                    <li>
                        <p>
                            Navigate to the program's root directory and run make_graph.py and when prompted, type the name of your map file without the .osm and hit enter.
                        </p>
                    </li>
                    <li>
                        <p>
                            Check your graphs/ folder and make sure you have a file with filename.txt, where filename is the name you typed after running make_graph.py.
                        </p>
                    </li>
                    <li>
                        <p>
                            Navigate to the program's root directory and run driver.py.
                        </p>
                        <ol>
                            <li>
                                Enter the same filename you used above.
                            </li>
                            <li>
                                Enter the
                                <em>
                                    first street
                                </em>
                                of the
                                <em>
                                    first intersection
                                </em>
                                you chose from inside your map area and hit enter.
                            </li>
                            <li>
                                Enter the
                                <em>
                                    second street
                                </em>
                                of the
                                <em>
                                    first intersection
                                </em>
                                you chose from inside your map area and hit enter.
                            </li>
                            <li>
                                Enter the
                                <em>
                                    first street
                                </em>
                                of the
                                <em>
                                    second intersection
                                </em>
                                you chose from inside your map area and hit enter.
                            </li>
                            <li>
                                Enter the
                                <em>
                                    second street
                                </em>
                                of the
                                <em>
                                    second intersection
                                </em>
                                you chose from inside your map area and hit enter.
                            </li>
                        </ol>
                    </li>
                    <li>
                        <p>
                            If the program errors, retry the steps or redownload a new map file. Note: I got a file once that had a unicode character my program couldn't parse. I would work on that bug if this was a longer project.
                        </p>
                    </li>
                    <li>
                        <p>
                            If the program executes successfully, look inside the output/ folder for a file called filename.txt where filename is the same file from steps 3 and 5.1
                        </p>
                    </li>
                    <li>
                        <p>
                            Copy the entire contents of that file, which consists of comma separated latitude and longitude GPS coordinates.
                        </p>
                    </li>
                    <li>
                        <p>
                            Paste the coordinates into the left-hand side of this site
                            <a href="https://www.darrinward.com/lat-long/to" rel="nofollow">
                                https://www.darrinward.com/lat-long/to
                            </a>
                            view the path my program generated between your intersections overlaid on Google Maps.
                        </p>
                    </li>
                </ol>
                <h2>
                    Improvements I would make if this was a larger project
                </h2>
                <ol>
                    <li>
                        <p>
                            Fnd an xml parsing import, or write my own, that doesn't load the entire xml file into memory. These road maps can be huge xml files. The .osm file for San Diego is ~300MB and takes awhile but runs, San Francisco was ~1.4GB and my computer completely locked up, so utilizing (or writing my own) xml parser that only loads one node at a time would be a huge performance increase.
                        </p>
                    </li>
                    <li>
                        <p>
                            Include highways. The OSM files I looked through have highways formatted differently from normal streets so that the highway format overlaps with some other structures.
                        </p>
                    </li>
                    <li>
                        <p>
                            Utilize an actual method for storing the graph. Something betterthan a simple text file.
                        </p>
                    </li>
                    <li>
                        <p>
                            Implement the path finding in C++ for faster performance on largegraphs.
                        </p>
                    </li>
                </ol>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/python">
                                python
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/armstrongmark14/brickhack-map-routing" rel="nofollow" target="_blank" title="https://github.com/armstrongmark14/brickhack-map-routing">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

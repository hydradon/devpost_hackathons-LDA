<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/ZOic6ufZcuc?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="670132" data-title="System Diagram" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/670/132/datas/original.png">
                            <img alt="Bangkok Road Flooding Bot &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/670/132/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                System Diagram
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="670133" data-title="LINE Bot QR-Code" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/670/133/datas/original.png">
                            <img alt="Bangkok Road Flooding Bot &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/670/133/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                LINE Bot QR-Code
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="670131" data-title="Test send sensor" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/670/131/datas/original.png">
                            <img alt="Bangkok Road Flooding Bot &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/670/131/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Test send sensor
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="670134" data-title="PowerBI Dashboard" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/670/134/datas/original.png">
                            <img alt="Bangkok Road Flooding Bot &ndash; screenshot 4" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/670/134/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                PowerBI Dashboard
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    Road flooding is a very classic problem in Bangkok. The road can turns to canel in 15 minutes from heavy rain.
People always ran to that area and get stucked for many hours with no way out. See
                    <a href="http://www.thaiwater.net/current/2017/BKKflood_oct2017/BKK2017.html" rel="nofollow">
                        in the news
                    </a>
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    This project use IoT sensor to monitor
                    <code>
                        floodLevel
                    </code>
                    along the road. People can access the data using LINE messenger (because it is very popular in Thailand), and subscribe any road. When flooding happen, PUSH notification will be sent to subscribers and ask them to avoid that area (then they may find something to do instead of go into that area and stuck on the road)
                </p>
                <h2>
                    How I built it
                </h2>
                <p>
                    Azure IoT Hub / Azure Functions / CosmosDB / PowerBI / Nodejs
                </p>
                <ol>
                    <li>
                        IoT sensor send data to Azure IoT Hub
                    </li>
                    <li>
                        Azure IoT Hub trigs Azure Functions to
2.1 Store data into CosmosDB
2.2. Send notificaiton to LINE subscribers
                    </li>
                    <li>
                        LINE messenger connects to Azure Functions (which acts as serverless bot) over HTTPS
                    </li>
                    <li>
                        HTTPs trigs Azure Functions to process message from LINE users and reply back
                    </li>
                    <li>
                        PowerBI connects to CosmosDB and then Visualize floodingLevel on map in real time
                    </li>
                </ol>
                <h2>
                    Challenges we ran into
                </h2>
                <ul>
                    <li>
                        BOT should work like smart assistant, for example only the important data will be pushed to users and allow them to continue conversation more efficiently (avoid annoying)
                    </li>
                </ul>
                <h2>
                    Accomplishments that I'm proud of
                </h2>
                <ul>
                    <li>
                        Bangkok already have Traffic problem and it is getting worst when the rain comes.
                    </li>
                    <li>
                        Since, government already have data, but it is not that easy to access nor user friendly (table format)
                    </li>
                    <li>
                        By connect the data to people daily life in the way that they live and adding data visibility and easy to access.
                    </li>
                    <li>
                        Policeman subscribe to receive data as well, then they can plan their team to manage the traffic in that area
                    </li>
                </ul>
                <h2>
                    What I learned
                </h2>
                <ul>
                    <li>
                        Sensors are the source of data, but it is only a small part.
                    </li>
                    <li>
                        Visualize and translate data into information that people understand is important.
                    </li>
                    <li>
                        To make information visible to everyone and connect to their daily life is more important
                    </li>
                </ul>
                <h2>
                    What's next for Bangkok Road Flooding (IoT + Bot)
                </h2>
                <ul>
                    <li>
                        Use Azure Storage queues to handle LINE message - to increase performance
                    </li>
                    <li>
                        Use Azure Machine Learning to find the pattern of floodingLevel and try to predict
                        <em>
                            How long will it take for flood waters to drain from the road?
                        </em>
                    </li>
                    <li>
                        Listen to Social Networks and try to discover the data, treat them as features to enhance Machine Learning
                    </li>
                </ul>
                <h2>
                    Video
                </h2>
                <ul>
                    <li>
                        Demo -
                        <a href="https://youtu.be/ZOic6ufZcuc" rel="nofollow">
                            https://youtu.be/ZOic6ufZcuc
                        </a>
                    </li>
                    <li>
                        Development Walkthrough -
                        <a href="https://youtu.be/R_YJw691TH8" rel="nofollow">
                            https://youtu.be/R_YJw691TH8
                        </a>
                    </li>
                </ul>
                <h2>
                    Links
                </h2>
                <ul>
                    <li>
                        <a href="https://app.powerbi.com/view?r=eyJrIjoiZTM2ZGZhNDYtMDYyYS00MTFmLTlkZGQtZTgzMmQ0YWZiODIyIiwidCI6ImQ0ZmM3MmUyLTRiOGItNDdmMS1hNGQ1LWJkYjhiZGI1YmZlNCIsImMiOjEwfQ%3D%3D" rel="nofollow">
                            IoT floodLevel sensor (PowerBI)
                        </a>
                    </li>
                </ul>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag">
                            azure-functions
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            azure-iot-hub
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            cosmosdb
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            line-messenger
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/node-js">
                                node.js
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            powerbi
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/ninetu/azurehacks-iot-bangkok-roadflooding-bot" rel="nofollow" target="_blank" title="https://github.com/ninetu/azurehacks-iot-bangkok-roadflooding-bot">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="https://app.powerbi.com/view?r=eyJrIjoiZTM2ZGZhNDYtMDYyYS00MTFmLTlkZGQtZTgzMmQ0YWZiODIyIiwidCI6ImQ0ZmM3MmUyLTRiOGItNDdmMS1hNGQ1LWJkYjhiZGI1YmZlNCIsImMiOjEwfQ%3D%3D" rel="nofollow" target="_blank" title="https://app.powerbi.com/view?r=eyJrIjoiZTM2ZGZhNDYtMDYyYS00MTFmLTlkZGQtZTgzMmQ0YWZiODIyIiwidCI6ImQ0ZmM3MmUyLTRiOGItNDdmMS1hNGQ1LWJkYjhiZGI1YmZlNCIsImMiOjEwfQ%3D%3D">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                app.powerbi.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li class="text-center">
                        <a data-lightbox="728913" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/728/913/datas/original.png">
                            <img alt="HeartDiseasePredictor &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/728/913/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="728912" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/728/912/datas/original.png">
                            <img alt="HeartDiseasePredictor &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/728/912/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="728910" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/728/910/datas/original.png">
                            <img alt="HeartDiseasePredictor &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/728/910/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="728911" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/728/911/datas/original.png">
                            <img alt="HeartDiseasePredictor &ndash; screenshot 4" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/728/911/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h1>
                    Heart Disease Predictor
                </h1>
                <h2>
                    Inspiration
                </h2>
                <p>
                    Scroll down and you'll see in the charts that almost 50% people who went to dotors for heart diseases checkup, had a heart disease. This was the biggest point of inspiration for us. We wanted to, and have built a website that can predict the chances of a person having heart disease just by asking a few quick questions from them.
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    This aplication asks various questions from the user and based on the responses, it predicts the chances of that person being exposed to one or more heart related diseases.
                </p>
                <h2>
                    How we built it
                </h2>
                <p>
                    We build it using HTML, CSS and Javascript in the fontend.
We used Python and its various libraries in the backend.
We used KNN Algorithm, a machine learning algorithm, and predicted the chances of having a heart disease.
                </p>
                <h2>
                    Challenges we ran into
                </h2>
                <ol>
                    <li>
                        Connecting Python backend to Web frontend.
                    </li>
                    <li>
                        Making 2 different front ends for two types of users: doctors and non-doctors.
                    </li>
                    <li>
                        Increasing the accuracy of prediction using KNN.
                    </li>
                    <li>
                        Cleaning the data before applying the KNN algorithm.
                    </li>
                </ol>
                <h2>
                    Accomplishments that we're proud of
                </h2>
                <ol>
                    <li>
                        We are proud that we are able to achieve 88.52% accuracy when doctors use this application.
                    </li>
                    <li>
                        80.33% accuracy when non-doctors use this application as the data we collect here is limited.
                    </li>
                </ol>
                <h2>
                    What we learned
                </h2>
                <p>
                    We learned many things, how to connect python with web applications, why KNN is used and how to develop a KNN algorithm.
                </p>
                <h2>
                    What's next for HeartDiseasePredictor
                </h2>
                <p>
                    We would like to work more on increasing the accuracy of prediction. That can be achieved by making this machine learning algortihm more dynamic that can learn with increased usage.
                </p>
                <h2>
                    Doctor's Version
                </h2>
                <pre class="language-python"><code># Data Preprocessing Doctor's version

# Importing the libraries
import numpy as np
import matplotlib.pyplot as plt
import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt
from sklearn.utils import shuffle

# Import the dataset
dataset = pd.read_csv('heart.csv')
#dataset = shuffle(dataset)
#X = dataset.iloc[:, [0,1,2,3,4,5,7,8]].values #matrix of independent variables
X = dataset.iloc[:, :-1].values #matrix of independent variables
Y = dataset.iloc[:, 13].values #matrix of dependent variables

# Taking care of missing data
from sklearn.preprocessing import Imputer
imputer = Imputer(missing_values = 'NaN', strategy = 'most_frequent', axis = 0)
imputer.fit(X)
X = imputer.transform(X)

# Splitting the dataset into training and test set
from sklearn.cross_validation import train_test_split
X_train, X_test, Y_train, Y_test = train_test_split(X, Y, test_size = 0.2, random_state = 0)

# Feature Scaling
from sklearn.preprocessing import StandardScaler
sc_X = StandardScaler()
X_train = sc_X.fit_transform(X_train)
X_test = sc_X.transform(X_test)

# K-Nearest Neighbos (K-NN)
from sklearn.neighbors import KNeighborsClassifier
knn_classifier = KNeighborsClassifier(n_neighbors = 10, metric = 'minkowski', p = 2)
knn_classifier.fit(X_train, Y_train)
print("{} NN Score, i.e., accuracy is: {:.2f}%".format(10, knn_classifier.score(X_test, Y_test)*100))
</code></pre>
                <pre class="language-nolang"><code>10 NN Score, i.e., accuracy is: 88.52%
</code></pre>
                <pre class="language-python"><code>sns.countplot(x='sex', data=dataset, palette="mako_r")
plt.xlabel("Sex (0 = female, 1= male)")
plt.show()
</code></pre>
                <p>
                    <img alt="Male vs Female Heart Disease Ratio" data-canonical-url="output_1_0.png" src="https://res.cloudinary.com/devpost/image/fetch/s--ZwreMIfg--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/output_1_0.png">
                </p>
                <pre class="language-python"><code>pd.crosstab(dataset.age,dataset.target).plot(kind="bar",figsize=(20,6))
plt.title('Heart Disease Frequency for Ages')
plt.xlabel('Age')
plt.ylabel('Frequency')
plt.savefig('heartDiseaseAndAges.png')
plt.show()
</code></pre>
                <p>
                    <img alt="Heart Diseases frequency vs age" data-canonical-url="output_2_0.png" src="https://res.cloudinary.com/devpost/image/fetch/s--eWowhjJs--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/output_2_0.png">
                </p>
                <pre class="language-python"><code># Try to find best k value
scoreList = []
for i in range(1,20):
knn_classifier2 = KNeighborsClassifier(n_neighbors = i)  # n_neighbors means k
knn_classifier2.fit(X_train, Y_train)
scoreList.append(knn_classifier2.score(X_test, Y_test))

plt.plot(range(1,20), scoreList)
plt.xticks(np.arange(1,20,1))
plt.xlabel("K value")
plt.ylabel("Score")
plt.show()
</code></pre>
                <p>
                    <img alt="KNN accuracy plot for different values of K - doctor's version" data-canonical-url="output_3_0.png" src="https://res.cloudinary.com/devpost/image/fetch/s--8xiq8gXA--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/output_3_0.png">
                </p>
                <h2>
                    Normal Version
                </h2>
                <pre class="language-python"><code># Data Preprocessing - Non Doctor's version

# Importing the libraries
import numpy as np
import matplotlib.pyplot as plt
import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt
from sklearn.utils import shuffle

# Import the dataset
dataset = pd.read_csv('heart.csv')
#dataset = shuffle(dataset)
X = dataset.iloc[:, [0,1,2,3,4,5,7,8]].values #matrix of independent variables
#X = dataset.iloc[:, :-1].values #matrix of independent variables
Y = dataset.iloc[:, 13].values #matrix of dependent variables

# Taking care of missing data
from sklearn.preprocessing import Imputer
imputer = Imputer(missing_values = 'NaN', strategy = 'most_frequent', axis = 0)
imputer.fit(X)
X = imputer.transform(X)

# Splitting the dataset into training and test set
from sklearn.cross_validation import train_test_split
X_train, X_test, Y_train, Y_test = train_test_split(X, Y, test_size = 0.2, random_state = 0)

# Feature Scaling
from sklearn.preprocessing import StandardScaler
sc_X = StandardScaler()
X_train = sc_X.fit_transform(X_train)
X_test = sc_X.transform(X_test)

# K-Nearest Neighbos (K-NN)
from sklearn.neighbors import KNeighborsClassifier
knn_classifier = KNeighborsClassifier(n_neighbors = 7, metric = 'minkowski', p = 2)
knn_classifier.fit(X_train, Y_train)
print("{} NN Score, i.e., accuracy is: {:.2f}%".format(7, knn_classifier.score(X_test, Y_test)*100))
</code></pre>
                <pre class="language-nolang"><code>7 NN Score, i.e., accuracy is: 80.33%
</code></pre>
                <pre class="language-python"><code># Try to find best k value
scoreList = []
for i in range(1,20):
knn_classifier2 = KNeighborsClassifier(n_neighbors = i)  # n_neighbors means k
knn_classifier2.fit(X_train, Y_train)
scoreList.append(knn_classifier2.score(X_test, Y_test))

plt.plot(range(1,20), scoreList)
plt.xticks(np.arange(1,20,1))
plt.xlabel("K value")
plt.ylabel("Score")
plt.show()
</code></pre>
                <p>
                    <img alt="![KNN accuracy plot for different values of K - normal version]" data-canonical-url="output_5_0.png" src="https://res.cloudinary.com/devpost/image/fetch/s--gDPWZRIK--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/output_5_0.png">
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/css">
                                css
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/html">
                                html
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/javascript">
                                javascript
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            jupyter-notebook
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/python">
                                python
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/PranavBhatia/HeartDiseasePredictor" rel="nofollow" target="_blank" title="https://github.com/PranavBhatia/HeartDiseasePredictor">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li class="text-center">
                        <a data-lightbox="836550" data-title="lots of data requested for 'Netflix' (since between two months)" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/836/550/datas/original.png">
                            <img alt="StockVoiceQuery &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/836/550/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                lots of data requested for 'Netflix' (since between two months)
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="836549" data-title="Facebook data for two close dates" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/836/549/datas/original.png">
                            <img alt="StockVoiceQuery &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/836/549/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Facebook data for two close dates
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="836551" data-title="more sparse Facebook data" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/836/551/datas/original.png">
                            <img alt="StockVoiceQuery &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/836/551/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                more sparse Facebook data
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    When I got to PennApps and went to chat with the sponsors, I was very interested in a possibility of playing around with an API that lets me query financial data, since I figured it would most likely be a timeseries. I dove into the API and initially wrote out my own queries with python to fetch the data that I was interested in. I then started thinking of fun ways to query that same data, so I thought it would be fun and intuitive to build a hack that lets you _ tell _ a client
                    <strong>
                        what
                    </strong>
                    data for a company you would like returned, and for
                    <strong>
                        which
                    </strong>
                    timeframe, i.e. from August to September.
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    The app requests microphone access, initiates a stream of audio and listens. Then Google's Speech API detects when you start talking and when you end, the stream gets interrupted and the raw data is sent to the cloud for inference, and finally - text returns of what you said. The query follows a pretty simple format: just mention the company or that the query is
                    <strong>
                        for
                    </strong>
                    a "company" and a range of dates. My app reads the data (text transcript) back in, parses it, tries to understand what exactly you'd want returned and makes a query to my Python server.
                </p>
                <p>
                    In the process of parsing the data, I'm performing a mapping from the
                    <em>
                        keyword
                    </em>
                    that was used in the spoken query to a ticker, or more exactly a unique
                    <strong>
                        id
                    </strong>
                    that Marquee uses to identify resources. (Ex: Facebook -&gt; 'FB' -&gt; 1001 and visa versa). I wrote a couple helper lambda functions to fetch the "coverage" of the set (i.e. all the resources/companies and their metadata that I might be interested in for the purposes of hack). The data now comes back from server, and the UI is updated with the 4 key metrics plotted as described in the Marquee dataset. The horizontal axis scales with the number of datapoints / dates, so if you request data from dates that are far apart, there will be plenty of datapoints on the 4 graphs.
                </p>
                <p>
                    The UI also changes as you speak to show you what Google AI thinks you're saying.
                </p>
                <p>
                    The queries currently tested:
                </p>
                <p>
                    Saying only the name of company: returns a random slice of a dataset (this is just for fun to see different graphs):
For example: "Facebook", "IBM", "Netflix"
                </p>
                <p>
                    Query spoken in format of:
                </p>
                <p>
                    data
                    <strong>
                        for
                    </strong>
                    <strong>
                        from
                    </strong>
                    <strong>
                        to
                    </strong>
                </p>
                <p>
                    Years are a bit tricky since the dataset limits some dates.
                </p>
                <h2>
                    How I built it
                </h2>
                <p>
                    Node.js server, socket.io for streaming audio data, some html/css/bootstrap on front end, Python Flask server to query the Marquee API efficiently. Finally, Google Cloud Speech to Text API and App Engine Deployment!
                </p>
                <p>
                    The Node server is responsible for serving some static content and also has the scripts that parse the text from Google Speech to determine the dates that the user is asking for and the company name.
                </p>
                <p>
                    I would say that I divided my hack into 3 categories as I was working on it: Marquee queries, audio streaming + text-to-speech, and text parsing / analysis to extract the meaning from a text-to-speech transcript and build up the next request - effectively looping back to category 1, i.e. make the next query to get the data that the user is speaking of.
                </p>
                <h2>
                    Challenges I ran into
                </h2>
                <p>
                    Figuring out how to stream the audio from the laptop microphone and send it to cloud in correct format was a nightmare and thank you to Google Cloud team for helping out where they could. Also updating the graphs on the UI was difficult to make smooth.
                </p>
                <p>
                    Parsing the text is still a work in progress and I hope to improve it so that all spoken queries are answered correctly. My idea for a reasonable addition to the hack would be to deploy a full language model on this, to see if we can extract multiple resources / companies / tickers at the same time and build up complex queries that can return lots of combined data from Marquee.
                </p>
                <h2>
                    Accomplishments that I'm proud of
                </h2>
                <p>
                    Proud of figuring out audio and parsing text to determine what the user is asking for
                </p>
                <h2>
                    What I learned
                </h2>
                <p>
                    How to work with audio data and an awesome new API in Marquee
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/google-cloud">
                                google-cloud
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/google-web-speech-api">
                                google-web-speech-api
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/javascript">
                                javascript
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            marquee
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/node-js">
                                node.js
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/python">
                                python
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/socket-io">
                                socket.io
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
        </div>
    </body>
</html>

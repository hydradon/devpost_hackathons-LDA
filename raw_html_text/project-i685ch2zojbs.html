<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/qGEqKwsDMN0?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="844396" data-title="We list Thai common manus and make summary of the ingredients. Then take photos each of them on the white plate as the background." href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/844/396/datas/original.jpg">
                            <img alt="Thai ingredients detector &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/844/396/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                We list Thai common manus and make summary of the ingredients. Then take photos each of them on the white plate as the background.
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="844585" data-title="Set up table. Taking photos under a light." href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/844/585/datas/original.JPG">
                            <img alt="Thai ingredients detector &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/844/585/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Set up table. Taking photos under a light.
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="844586" data-title="Import the photos to Computer Vision Annotation Tool (CVAT). Segment each ingredients by hands. Give them their labels." href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/844/586/datas/original.png">
                            <img alt="Thai ingredients detector &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/844/586/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Import the photos to Computer Vision Annotation Tool (CVAT). Segment each ingredients by hands. Give them their labels.
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="844393" data-title="Broccoli after segmentation" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/844/393/datas/original.jpg">
                            <img alt="Thai ingredients detector &ndash; screenshot 4" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/844/393/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Broccoli after segmentation
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="844395" data-title="The output from CVAT has 2 types. First is real picture. Second is mask picture. The trainset is the information inside segment area." href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/844/395/datas/original.jpg">
                            <img alt="Thai ingredients detector &ndash; screenshot 5" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/844/395/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                The output from CVAT has 2 types. First is real picture. Second is mask picture. The trainset is the information inside segment area.
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="844481" data-title="Put a model on Django web framework. Upload new picture will give a result as text in the bottom of the page." href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/844/481/datas/original.jpg">
                            <img alt="Thai ingredients detector &ndash; screenshot 6" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/844/481/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Put a model on Django web framework. Upload new picture will give a result as text in the bottom of the page.
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <ul>
                    <li>
                        Calculating calories by hands is difficult and take a lot of time. Delivering simple process to list ingredients will help people who struggle with health problem has a better way to plan their meal. Building the application receive the meal photos and return a list of ingredients. Users can use that list to calculate the calories further.
About our dataset. Thailand is our home, so we present our own ingredients as a dataset. Some local ingredients is not globally well known. We expect application help anyone interest in Thai foods know more about our recipes.
                    </li>
                </ul>
                <h2>
                    What it does
                </h2>
                <ul>
                    <li>
                        User upload the picture of dish to application. The picture will be the input of the model and predict the ingredients in dish. The result is the list of ingredients consist in that dish.
                    </li>
                </ul>
                <h2>
                    How I built it
                </h2>
                <ul>
                    <li>
                        First, we don't have any data. We list the ingredients from common Thai menus, put each of them into dish and take a photos. Computer Vision Annotation Tool (CVAT) is used to segment ingredients from each picture. The output is a mask picture of the ingredients. Each ingredient has different masking color with the same black background. Combine information of real and mask pictures. We send the data of real picture in the area of masking to the model.
                    </li>
                </ul>
                <p>
                    The model we use is Mask R-CNN from the "TORCHVISION OBJECT DETECTION FINETUNING TUTORIAL". We use Pytorch to train model and save it. Then load model to Django web framework. At Django, we build the web application with the "choose file" and "upload" button. The upload picture will plug into the model and give a result of ingredients in that dish.
                </p>
                <h2>
                    Challenges I ran into
                </h2>
                <ul>
                    <li>
                        We try to collect each ingredients pictures similar to the one in real dish as much as possible. Some ingredients can come in many variations. If we do this process well, our model can predict a lot easier because the dataset is cover the distribution of real dish.
                    </li>
                    <li>
                        Time limit cause us to label only feel categories. The result in some ingredients is very good. Some are not.
                    </li>
                    <li>
                        Some ingredients have same color and almost the same shape. The example is cooked rice, squid. The model still make a wrong decision.
                    </li>
                    <li>
                        The integration of model and Django web. There is long loading time predict the result.
                    </li>
                </ul>
                <h2>
                    Accomplishments that I'm proud of
                </h2>
                <ul>
                    <li>
                        In common competition, they always provide the dataset for us but not this one. We start to list the common Thai menus on the internet. Make an ingredients summary list and go to market to buy them. Then taking their photos. This is the first time we create the data by ourselves.
                    </li>
                    <li>
                        We aren't familiar with building website. Integrating website with model for the first time make us proud.
                    </li>
                </ul>
                <h2>
                    What I learned
                </h2>
                <ul>
                    <li>
                        The result will be good or bad depend on collecting raw data process. We have to take the picture of each ingredient as same as the one in real dish. This make our data cover the distribution of the real dish. Then the result will be good. Example is shrimp. Shrimp has many variation in Thai dish such as raw shrimp, cooked shrimp, peeled shrimp. We have to take photos of these shrimp variation and label it as one group. Making the application work in real dish.
                    </li>
                    <li>
                        How to build website and integrate with model. Especially how to make picture in right format to show on Django frontend.
                    </li>
                </ul>
                <h2>
                    What's next for
                </h2>
                <ul>
                    <li>
                        Next step of this project is to calculate calories of dish. User send dish picture to application and it will return list of ingredients and calories based on approximate volume. This will make the process more simpler than calculate it by hands. People who struggle with health problem can know roughly detail of calories in the dish before eating. Then adding function to recommend the proper dish base on user health.
                    </li>
                </ul>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag">
                            cvat
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/django">
                                django
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/python">
                                python
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/pytorch">
                                pytorch
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/TrinVeerasiri/thaiingdetector" rel="nofollow" target="_blank" title="https://github.com/TrinVeerasiri/thaiingdetector">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

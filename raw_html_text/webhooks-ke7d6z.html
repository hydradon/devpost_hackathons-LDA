<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/KHWmqEksJik?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="521326" data-title="Step 1: Login with Cisco Spark" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/521/326/datas/original.png">
                            <img alt="Webhooks &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/521/326/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Step 1: Login with Cisco Spark
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="521327" data-title="Step 1: Setup" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/521/327/datas/original.png">
                            <img alt="Webhooks &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/521/327/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Step 1: Setup
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="521322" data-title="Step 3: Receive Notifications From Your App or System in Cisco Spark" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/521/322/datas/original.png">
                            <img alt="Webhooks &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/521/322/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Step 3: Receive Notifications From Your App or System in Cisco Spark
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    Slack's
                    <a href="https://api.slack.com/incoming-webhooks" rel="nofollow">
                        Incoming Webhooks
                    </a>
                    integration is incredibly helpful for being instantly notified of new activity (signups, sales, errors, etc) through a channel where it can be discussed. This same functionality is relevant to Cisco Spark so I built the Cisco Spark Webhooks Integration.
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    This integration provides Cisco Spark users with a unique URL that they can send a standard HTTP request to, which will trigger a new dynamic message in the Cisco Spark space of their choice.
                </p>
                <h2>
                    How I built it
                </h2>
                <p>
                    I built it by creating a unique URL for each use who installs the integration. The unique URLs are an endpoint that parse the request's JSON payload and sends the message within to the Cisco Spark space that the user chooses during the setup process.
                </p>
                <h2>
                    Challenges I ran into
                </h2>
                <p>
                    There was a problem with the Cisco Spark Passport strategy for Node.js that had to be resolved to allow for OAuth authentication using Node's passport module.
                </p>
                <hr>
                <h1>
                    Cisco Spark Webhooks Integration
                </h1>
                <p>
                    The Cisco Spark Webhook Integration provides instant API-driven alert notifications for your system within Cisco Spark.
                </p>
                <p>
                    When you setup the Cisco Spark Webhooks Integration you will receive instant API-driven alert notifications for activity you define directly within Cisco Spark. Setup is simple and we are here to help you if you need assistance or have questions.
                </p>
                <h2>
                    Try It
                </h2>
                <p>
                    To receive webhook notifications in Cisco Spark you will need to setup your unique URL. It's easy - follow these steps:
                </p>
                <p>
                    Login to the Cisco Spark Webhooks Integration:
                    <a href="https://cisco-spark-webhooks.herokuapp.com" rel="nofollow">
                        https://cisco-spark-webhooks.herokuapp.com
                    </a>
                </p>
                <p>
                    Choose a team where you would like to receive notifications.
                </p>
                <p>
                    Copy your unique URL (Provided after connecting with Cisco Spark and choosing a space).
                </p>
                <p>
                    Make an HTTP POST request to your unique URL with a JSON payload containing the key "text" with the value of your choice (this will be the message sent into Cisco Spark).
                </p>
                <h3>
                    Getting Started
                </h3>
                <p>
                    There are a few steps to get started on working with the Cisco Spark Webhooks Integration:
                </p>
                <h4>
                    Installing Cisco Spark Webhooks Integration
                </h4>
                <p>
                    <a href="https://heroku.com/deploy?template=https://github.com/pcheek/cisco-spark-webhooks/master" rel="nofollow">
                        Deploy to Heroku
                    </a>
                </p>
                <p>
                    Clone this repository:
                </p>
                <p>
                    <code>
                        git clone https://github.com/pcheek/cisco-spark-webhooks.git
                    </code>
                </p>
                <p>
                    Install dependencies:
                </p>
                <pre class="language-nolang"><code>cd cisco-spark-webhooks
npm install
</code></pre>
                <h4>
                    Environment Setup
                </h4>
                <p>
                    You need to define these environment variables:
                </p>
                <pre class="language-nolang"><code>INTERNAL_CISCO_SPARK_INTEGRATION_ID = 'webhook'
MONGOLAB_URI
INTERNAL_CISCO_SPARK_INTEGRATION_TITLE = 'Webhooks'
INTERNAL_CISCO_SPARK_INTEGRATION_DESCRIPTION
INTERNAL_CISCO_SPARK_INTEGRATION_LOGIN_TEXT
DOMAIN
CISCOSPARK_CLIENT_ID
CISCOSPARK_CLIENT_SECRET
</code></pre>
                <h4>
                    Usage
                </h4>
                <p>
                    To receive API alert notifications in Cisco Spark you will need to setup your send requests to your unique URL. It's easy - send your request like this:
                </p>
                <pre class="language-nolang"><code>curl -X POST \
                    -H 'Content-Type: application/json' \
     -d '{"text":"Hello world!"}' \
     https://cisco-spark-webhooks.herokuapp.com/api/inbound/webhook/593777409c1a611100c2ee94
</code></pre>
                <h1>
                    About Webhooks Integration for Cisco Spark
                </h1>
                <p>
                    The Webhooks Integration for Cisco Spark is a project for the
                    <a href="https://ciscospark.devpost.com/" rel="nofollow">
                        Cisco Spark Industry Challenge
                    </a>
                </p>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://cisco-spark-webhooks.herokuapp.com" rel="nofollow" target="_blank" title="https://cisco-spark-webhooks.herokuapp.com">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                cisco-spark-webhooks.herokuapp.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li class="text-center">
                        <a data-lightbox="442228" data-title='Average % of students achieving "proficiency" in math' href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/442/228/datas/original.png">
                            <img alt="MapPub: Interactive Map of American Public School Data &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/442/228/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Average % of students achieving "proficiency" in math
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="442219" data-title="Contextual information on hover, or use dropdown menu to switch year" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/442/219/datas/original.png">
                            <img alt="MapPub: Interactive Map of American Public School Data &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/442/219/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Contextual information on hover, or use dropdown menu to switch year
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="442227" data-title="Zoom-in functionality" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/442/227/datas/original.png">
                            <img alt="MapPub: Interactive Map of American Public School Data &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/442/227/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Zoom-in functionality
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="442048" data-title="Pie chart shows racial distribution of school vs local demographics for each school" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/442/048/datas/original.png">
                            <img alt="MapPub: Interactive Map of American Public School Data &ndash; screenshot 4" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/442/048/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Pie chart shows racial distribution of school vs local demographics for each school
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="442075" data-title="Histograms of % Students Passing Proficient in Math, by State" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/442/075/datas/original.PNG">
                            <img alt="MapPub: Interactive Map of American Public School Data &ndash; screenshot 5" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/442/075/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Histograms of % Students Passing Proficient in Math, by State
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    We wanted to take a deep dive into a dataset on public school test performance to help parents and educators to better understand geographic patterns in how today's youth are performing across the country. We also wanted to see how geospatial APIs could offer some insight about where people hoping to improve the country's education levels could most efficiently.
                </p>
                <p>
                    <a href="http://www2.ed.gov/about/inits/ed/edfacts/data-files/index.html" rel="nofollow">
                        Test Scores Public Dataset
                    </a>
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    We have an interactive map that lets users browse public schools in the United States, and view associated metadata.
                </p>
                <p>
                    We also have compiled a local database of the 88,300+ schools that participated in standardized testing in the United States from 2012-2015, which can assist in educational policy analysis for future interested data enthusiasts.
                </p>
                <h2>
                    How we built it
                </h2>
                <p>
                    We made a Flask app that powers an interactive D3 map based interface for viewing data about schools and their surrounding regions. The app leverages the Pitney-Bowes Geolife API to provide contextual demographic and economic data for each school.
                </p>
                <p>
                    In addition to using the test scores dataset, we scraped the
                    <a href="https://nces.ed.gov" rel="nofollow">
                        National Education Statistics
                    </a>
                    website for metadata about the schools, used the
                    <code>
                        geocoder
                    </code>
                    python library to call the Esri/Arcgis geocoding service to enrich the text addresses with lat/long coordinates, and use pandas to munge and clean the data so that it could be used by the application. Data exploration and quality control was conducted using jupyter and beaker notebooks.
                </p>
                <h2>
                    Challenges we ran into
                </h2>
                <ul>
                    <li>
                        Beaker notebook cloud was good for data preparation, but we were unable to export the data and switched back to jupyter
                    </li>
                    <li>
                        Huge range of data quality issues to address in main dataset, including the placement of strings and range based variables into otherwise numerical columns. For example, the math results dataset has 231 columns, 228 of which are supposed to be numerical, but only 3 of which were numerical without cleaning measures being taken. In other cases, states were completely omitted (Kansas in 2013 and Nevada in 2014), and datasets that were listed on public pages turning out to be nonexistent (test scores from before 2012).
                    </li>
                    <li>
                        There were 89 pages of documentation just to understand one of the datasets for 1 year. It is difficult to do fair state-to-state comparisons due to all the different data quality issues particular states had in individual years.
                    </li>
                    <li>
                        There are some data quality issues that weren't reported in the docs, such as the fact that 1 school could have 9 unique identifier codes by listing their service to different (sometimes overlapping) grade ranges.
                    </li>
                    <li>
                        python lxml and html.parser libraries use different methods to walk the DOM tree, learned to use each for different sorts of pages to deal with invalid HTML.
                    </li>
                    <li>
                        State FIPS codes do not count up from 1-50... the numbers that are skipped (3,7, etc...) are quite haphazard and we wonder if there's a story behind it!
                    </li>
                    <li>
                        Finicky table layouts without any classes or IDs to help walk the dom tree
                    </li>
                </ul>
                <h2>
                    Accomplishments that I'm proud of
                </h2>
                <ul>
                    <li>
                        Learned to use object models to make scrapers more organized and maintainable
                    </li>
                    <li>
                        Learned to use GNU parallel to run scrapers efficiently
                    </li>
                    <li>
                        Gained experienced working with d3.js and working with mapping data, learning to pass output from Python scripts to JS for visuals
                    </li>
                    <li>
                        Largest scrape I've ever run in 12 hours (Almost 190,000 pages crawled and parsed)
                    </li>
                </ul>
                <h2>
                    What I learned
                </h2>
                <ul>
                    <li>
                        Preparing the data takes much longer than you think
                    </li>
                    <li>
                        Keeping geocode mappings up-to-date is difficult and important! However, accuracy is not perfect (one Californian address got mapped to Canada)
                    </li>
                    <li>
                        Putting additional data layers on top of map datasets is very predicated on
                        <ul>
                            <li>
                                Working with spatial datasets is challenging and fun!
                            </li>
                        </ul>
                    </li>
                </ul>
                <h2>
                    What's next for MapPub: Interactive Map of American Public School Data
                </h2>
                <ul>
                    <li>
                        Sharing the tool with teachers and parents to learn what additional fields they'd look to explore
                    </li>
                    <li>
                        Adding tooltips, sparklines, and histograms to the map to provide additional context when using the map
                    </li>
                    <li>
                        Moving API calls to the backend for better performance
                    </li>
                    <li>
                        Add more datasets, such as the
                        <a href="http://datainventory.ed.gov/Search?searchTerm=Common%20Core%20of%20Data&amp;rdSearchType=Exact&amp;seriesID=175" rel="nofollow">
                            Common Core of Data
                        </a>
                    </li>
                </ul>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag">
                            beaker
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/css">
                                css
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/d3-js">
                                d3.js
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/esri">
                                esri
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/flask">
                                flask
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/html">
                                html
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/javascript">
                                javascript
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            pitney-bowes
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/python">
                                python
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            topojson
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://ynst.github.io" rel="nofollow" target="_blank" title="https://ynst.github.io">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                ynst.github.io
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li class="text-center">
                        <a data-lightbox="387842" data-title="graphical_representation" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/387/842/datas/original.jpg">
                            <img alt="A Thinking Ape - Circle of people &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/387/842/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                graphical_representation
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="387847" data-title="final_formula" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/387/847/datas/original.jpg">
                            <img alt="A Thinking Ape - Circle of people &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/387/847/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                final_formula
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="387848" data-title="sketches" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/387/848/datas/original.jpg">
                            <img alt="A Thinking Ape - Circle of people &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/387/848/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                sketches
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="387849" data-title="workflow_0" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/387/849/datas/original.jpg">
                            <img alt="A Thinking Ape - Circle of people &ndash; screenshot 4" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/387/849/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                workflow_0
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="387851" data-title="workflow_1" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/387/851/datas/original.jpg">
                            <img alt="A Thinking Ape - Circle of people &ndash; screenshot 5" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/387/851/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                workflow_1
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="387850" data-title="workflow_2" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/387/850/datas/original.jpg">
                            <img alt="A Thinking Ape - Circle of people &ndash; screenshot 6" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/387/850/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                workflow_2
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="387858" data-title="first_guess" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/387/858/datas/original.jpg">
                            <img alt="A Thinking Ape - Circle of people &ndash; screenshot 7" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/387/858/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                first_guess
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="387857" data-title="second_guess" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/387/857/datas/original.jpg">
                            <img alt="A Thinking Ape - Circle of people &ndash; screenshot 8" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/387/857/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                second_guess
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Brief Description
                </h2>
                <p>
                    This is a problem described by
                    <em>
                        A Thinking Ape
                    </em>
                    during VanHackaton. In this problem, there is a group of people in a circle, and someone goes around the circle removing each second person. The goal is to know which person will be the last one standing.
                </p>
                <p>
                    The problem is best described in
                    <a href="https://docs.google.com/spreadsheets/d/17cgk4HjgIVDPIvsfGzQlPmm5RnAFRIOohSi05w4nUZc/edit#gid=676001093" rel="nofollow">
                        this link
                    </a>
                    .
                </p>
                <h2>
                    Graphical Representation
                </h2>
                <p>
                    <strong>
                        Please see graphical_representation image
                    </strong>
                    <br>
                    <em>
                        Assuming that we enumerate everyone from 1 to N clockwise, and follow the clockwise order when removing persons.
                    </em>
                </p>
                <h2>
                    Solution
                </h2>
                <p>
                    <em>
                        For a more elaborated answer, and how I got to it, please see further sections.
                    </em>
                </p>
                <p>
                    <strong>
                        This problem follows the following pattern:
                    </strong>
                </p>
                <p>
                    Circle of 2 - Winner is the 1st person;
                    <br>
                    Circle of 3 - Winner is the 3rd person;
                    <br>
                    Circle of 4 - Winner is the 1st person;
                    <br>
                    Circle of 5 - Winner is the 3rd person;
                    <br>
                    Circle of 6 - Winner is the 5th person;
                    <br>
                    Circle of 7 - Winner is the 7th person;
                    <br>
                    Circle of 8 - Winner is the 1st person;
                </p>
                <p>
                    As we can see, on each
                    <strong>
                        power of two
                    </strong>
                    , the winner is the 1st person (this will be referenced as a "reboot").
So if we "walk" through the numbers, everytime that we hit a number that is a
                    <strong>
                        power of two
                    </strong>
                    , we will have a reboot, and the winner will be the 1st person.
                </p>
                <p>
                    The winner on the following circles, will be incremented by 2, so in example:
                </p>
                <p>
                    Circle of 16 - Winner 1
                    <br>
                    Circle of 17 - Winner 3
                    <em>
                        (1+2)
                    </em>
                    <br>
                    CIrcle of 18 - Winner 5
                    <em>
                        (1+2+2)
                    </em>
                    and so on.
                </p>
                <p>
                    From this, I noticed that the winner can be represented by the formula (please see
                    <strong>
                        final_formula
                    </strong>
                    image for easier representation):
                    <br>
                    <strong>
                        1 + ( N - 2^(
                        <em>
                            a
                        </em>
                        ) ) x 2
                    </strong>
                    <br>
                    Where
                    <em>
                        a
                    </em>
                    is:
                    <strong>
                        floor(log2 N)
                    </strong>
                </p>
                <p>
                    Something that is good to know is that, if you have a table with the powers of two numbers, the formula is way easier since you can switch
                    <em>
                        2^(a)
                    </em>
                    with the power of two that predates
                    <strong>
                        N
                    </strong>
                    (
                    <em>
                        represented by ANT on the formula
                    </em>
                    ), and resolve it with basic operations!!!
                </p>
                <h2>
                    How I built it
                </h2>
                <p>
                    I started this problem while outside of my home, and all I had was my cellphone, so I drew some sketches using it, which can be seen as images (
                    <strong>
                        sketches
                    </strong>
                    image).
                    <br>
                    When I got home, I used another tool, far more advanced: Pen and paper (
                    <strong>
                        workflow_0, workflow_1, workflow_2
                    </strong>
                    ).
                </p>
                <p>
                    <strong>
                        In order to know which person will be the last one standing, in a group of 'N' persons, this is how to proceed:
                    </strong>
                </p>
                <ul>
                    <li>
                        In a circle of 2 persons, the last one standing (refered as winner from now on) will be the 1st person, since the 2nd was removed on the first 'iteration'.
                    </li>
                    <li>
                        In a circle of 3 persons, the winner is the 3rd person, since we removed the 2nd person on the first iteration, and the 1st person on the second iteration. Something interesting that happens on this case is that, once we remove the 2nd person, this problem falls back to the problem with 2 persons in the circle. Therefore, in this "new" setup, the 1st person (that is actually the 3rd) should be the winner, according to the previous analysis, and that is exactly what happens.
                    </li>
                    <li>
                        In a circle of 4 persons, the winner is again the 1st person. This is something that happens on all circles with a number of people equal to a power of 2
                        <em>
                            (2, 4, 8, 16, etc...)
                        </em>
                        . This is what I call a reboot in the sequence. From this sequence onwards, I noticed that every winner will be incremented by 2, until we hit another reboot, so in example:
                        <table class="responsive">
                            <tbody>
                                <tr>
                                    <td>
                                        Circle of N people
                                    </td>
                                    <td>
                                        Winner
                                    </td>
                                    <td>
                                        Observation
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        2 (2^1)
                                    </td>
                                    <td>
                                        1
                                    </td>
                                    <td>
                                        =(1+2x0)
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        3
                                    </td>
                                    <td>
                                        3
                                    </td>
                                    <td>
                                        =(1+2x1)
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        4 (2^2)
                                    </td>
                                    <td>
                                        1
                                    </td>
                                    <td>
                                        =(1+2x0)
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        5
                                    </td>
                                    <td>
                                        3
                                    </td>
                                    <td>
                                        =(1+2x1)
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        6
                                    </td>
                                    <td>
                                        5
                                    </td>
                                    <td>
                                        =(1+2x2)
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        7
                                    </td>
                                    <td>
                                        7
                                    </td>
                                    <td>
                                        =(1+2x3)
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        8 (2^3)
                                    </td>
                                    <td>
                                        1
                                    </td>
                                    <td>
                                        =(1+2x0)
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </li>
                </ul>
                <p>
                    After noticing the increments to the answers (the observations column), I thought that there could me something to be extracted from it, as a mathematical formula, since the sum of multiples of two was following a pattern. My first guess was the
                    <strong>
                        first_guess
                    </strong>
                    image (please see image).
                    <br>
                    However, I thought that it was a bit too hard and noticed that I was going from the higher numbers down to smaller ones (16-15-14-...). I then started going the other way, and found out the
                    <strong>
                        second_guess
                    </strong>
                    (
                    <em>
                        ANT
                    </em>
                    in the formula refers to the power of two number that predates N), but for that I had to had the
                    <strong>
                        Powers of two table
                    </strong>
                    , which contains "all" numbers that are a power of two, in order to acquire
                    <em>
                        ANT
                    </em>
                    .
                    <br>
                    After some more analysis, I noticed that
                    <em>
                        ANT
                    </em>
                    (from the second_guess) was actually something described in the first_guess (with a few alterations), and finally came up with the
                    <strong>
                        final_formula
                    </strong>
                    .
                </p>
            </div>
        </div>
    </body>
</html>

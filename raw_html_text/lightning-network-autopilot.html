<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/V3TXmeXcI_s?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="816030" data-title="lightning network autopilot by Rene Pickhardt" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/816/030/datas/original.png">
                            <img alt="Lightning Network Autopilot &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/816/030/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                lightning network autopilot by Rene Pickhardt
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    After learning about the lightning network I saw that lnd has an autopilot which uses preferential attachment (the Barabasi Albert model) to make predictions for channels. I have
                    <a href="https://github.com/lightningnetwork/lnd/issues/677" rel="nofollow">
                        criticised this choice
                    </a>
                    in the past.
After Rusty Russel mentioned that
                    <a href="https://lists.ozlabs.org/pipermail/c-lightning/2018-August/000066.html" rel="nofollow">
                        c-lightning would get a plugin system
                    </a>
                    I was motivated to create an autopilot for c-lightning which turned out to be a general purpose autopilot library which can be used by other implementations as well.
                </p>
                <h2>
                    What it does
                </h2>
                <ul>
                    <li>
                        It looks at the lightning network from the gossip store and ports it to a networkx graph (the lib_autopilot starts from a networkx graph)
                    </li>
                    <li>
                        It computes a candidate set of nodes to which a channel should be opened (Using global topology information)
                    </li>
                    <li>
                        It estimates how much value should be put to each channel
                    </li>
                    <li>
                        The recommendations are done by using 4 different probability distributions as explained in detail in the documentation of lib_autopilot.py
                    </li>
                </ul>
                <h2>
                    How I built it
                </h2>
                <p>
                    With python and standard data science libraries. It should easily work with the python interpreter. I also created a small wrapper for c-lightning which uses the pylightning API wrapper for c-lightning. Christian Decker has created a c-lightning plugin wich makes the library extremely easy to use. Though I demonstrate the library in the video with the plugin I state explicitly that the plugin is not part of my submission.
                </p>
                <h2>
                    Challenges I ran into
                </h2>
                <ul>
                    <li>
                        I could already see that especially the centrality measure does not scale well with the network size
                    </li>
                    <li>
                        Formulating everything as a probability distribution
                    </li>
                    <li>
                        Selecting a distribution for smoothing (I used uniform so far)
                    </li>
                </ul>
                <h2>
                    Accomplishments that I'm proud of
                </h2>
                <ul>
                    <li>
                        I separated the lib_autopilot from any c-lightning specific code so that it is usable with any implementation
                    </li>
                    <li>
                        The autopilot within the plugin is used by some node operators
                    </li>
                    <li>
                        The autopilot also suggests balances for the channels
                    </li>
                    <li>
                        The autopilot smoothes the probability distributions and uses cutoffs to just sample from the biggest part of the probability mass
                    </li>
                    <li>
                        lib_autopilot could be build in 430 well documented lines of code which surprised me in its compactness.
                    </li>
                </ul>
                <h2>
                    What I learned
                </h2>
                <ul>
                    <li>
                        One does not need to know much about the lightning network to create useful add ons or tools.
                    </li>
                    <li>
                        It is fairly easy to build on top of lightning
                    </li>
                    <li>
                        (basically knew this before) Graph computations are heavy and we need to find better solutions with a growing lightning-network
                    </li>
                </ul>
                <h2>
                    What's next for Lightning Network Autopilot
                </h2>
                <ul>
                    <li>
                        The centrality measure should be computed on the fee graph instead of the friendshipgraph
                    </li>
                    <li>
                        Exchange networkx with neo4j
                    </li>
                    <li>
                        Create a  wrapper for lnd / eclair
                    </li>
                </ul>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag">
                            networkx-numpy-python
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/renepickhardt/lightning-network-autopilot" rel="nofollow" target="_blank" title="https://github.com/renepickhardt/lightning-network-autopilot">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

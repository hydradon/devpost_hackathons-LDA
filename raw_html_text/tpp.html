<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li class="text-center">
                        <a data-lightbox="926705" data-title="The controller interface." href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/926/705/datas/original.png">
                            <img alt="tpp &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/926/705/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                The controller interface.
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="926798" data-title="In game." href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/926/798/datas/original.png">
                            <img alt="tpp &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/926/798/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                In game.
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="926811" data-title="More in game." href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/926/811/datas/original.png">
                            <img alt="tpp &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/926/811/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                More in game.
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    I was inspired when I saw Holly playing Legend of Zelda form her phone on a projector, as well as by the famous Twitch Plays Pokemon.
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    My hack comes in two parts:
                    <a href="https://trappedin.space" rel="nofollow">
                        a web app
                    </a>
                    and
                    <a href="https://github.com/Juici/tpp/tree/master/src" rel="nofollow">
                        the backend server
                    </a>
                    .
                </p>
                <p>
                    The web app functions as a controller that can control a game.
                </p>
                <blockquote>
                    <p>
                        Note: The app is not functional on desktop as it requires the browser to support the TouchEvent APIs.
I made the decision to remove support for desktop in order to improve the experience for mobile devices, since they are the target of the controller anyway.
                    </p>
                </blockquote>
                <h2>
                    How I built it
                </h2>
                <p>
                    I built both the frontend and backend in Rust. I made use of
                    <a href="https://developer.mozilla.org/en-US/docs/WebAssembly" rel="nofollow">
                        WebAssembly
                    </a>
                    as a compilation target and using the
                    <a href="https://github.com/yewstack/yew" rel="nofollow">
                        Yew
                    </a>
                    framework (which has a similar component model to React).
                </p>
                <p>
                    By using WebAssembly I was able to make use of the excellent safety and speed of Rust and I was able to avoid the nightmare of writing in JavaScript. This had the benefit of being both easier to write and running faster than the equivalent JavaScript too.
                </p>
                <p>
                    <em>
                        Seriously check out Rust, it's great.
                    </em>
                </p>
                <p>
                    The backend makes use of RetroArch to emulate Pokemon Emerald, however all Game Boy Advance games are supported. Using the low level capabilities of Rust I was able to write an input driver in order to control the game.
                </p>
                <p>
                    I make use of a WebSocket to communicate to communicate between the web app and the backend server. The response time is very quick and makes the controller feel good to use.
                </p>
                <h2>
                    Challenges I ran into
                </h2>
                <p>
                    I encountered issues with duplicated inputs and poor touch support, which I worked to solve; as a result I gained a better understanding of the new web TouchEvent APIs.
                </p>
                <p>
                    I also ran into a challenge with the tungstenite library for managing the WebSockets on the backend; I unfortunately encountered a previously unreported bug, which I will investigate further and submit an issue or pull request for.
                </p>
                <h2>
                    Accomplishments that I'm proud of
                </h2>
                <p>
                    I spent a long time debugging and testing before I discovered the tungstenite library as the cause of the issue. I ended up resolving the issue by switching out the library for a more handwritten approach which accomplished the task required.
                </p>
                <p>
                    I'm proud of achieving the goal of the project I set out to make, as well as overcoming issues that I encountered along the way.
                </p>
                <h2>
                    What I learned
                </h2>
                <p>
                    I learned a lot more about WebAssembly over the course of the hack, as well as obtaining a better understanding of modular component based interface design.
                </p>
                <h2>
                    What's next for tpp
                </h2>
                <p>
                    The project could easily be expanded to work with other games, emulators and even PC games.
                </p>
                <p>
                    Other features that could be added are:
                </p>
                <ul>
                    <li>
                        a voting system to reduce the chaos
                    </li>
                    <li>
                        a video stream into the web app (rather than relying on another display)
                    </li>
                    <li>
                        improved touch support
                    </li>
                </ul>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag">
                            gba
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            retroarch
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            rust
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            webassembly
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            yew
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://trappedin.space" rel="nofollow" target="_blank" title="https://trappedin.space">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                trappedin.space
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/Juici/tpp" rel="nofollow" target="_blank" title="https://github.com/Juici/tpp">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

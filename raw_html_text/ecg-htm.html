<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/VOczYasynUU?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="307092" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/307/092/datas/original.png">
                            <img alt="ECG + HTM &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/307/092/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="308355" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/308/355/datas/original.png">
                            <img alt="ECG + HTM &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/308/355/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h1>
                    ECG + HTM
                </h1>
                <p>
                    ECG Anomaly Detection System using HTM
                </p>
                <h2>
                    Abstruct
                </h2>
                <p>
                    In this projects, We build Electrocardiogram(ECG)
anomaly detection system using HTM(NuPIC).
This system will detect Palpitation, Arrhythmia and Heart Rate anomaly.
                </p>
                <h2>
                    System Structure and Usage
                </h2>
                <p>
                    There are about three parts of the projects.
                </p>
                <ul>
                    <li>
                        Data Collector
                    </li>
                    <li>
                        FFT Converter
                    </li>
                    <li>
                        Anomaly Detector
                    </li>
                </ul>
                <h3>
                    Data Collector
                </h3>
                <p>
                    It's not difficult to make your own ECG device.
If you are not interested in collecting data by yourself,
You can skip this part and use data in
                    <code>
                        data
                    </code>
                    directory.
                </p>
                <p>
                    We use
                </p>
                <ul>
                    <li>
                        <a href="https://www.sparkfun.com/products/11114" rel="nofollow">
                            Arduino Pro mini
                        </a>
                    </li>
                    <li>
                        <a href="https://www.sparkfun.com/products/12650" rel="nofollow">
                            Sparkfun Ad8232
                        </a>
                    </li>
                </ul>
                <p>
                    <img alt="device" data-canonical-url="https://cloud.githubusercontent.com/assets/478824/11051785/5fb18f74-8795-11e5-940c-7164d8b0ca75.jpg" src="https://res.cloudinary.com/devpost/image/fetch/s--rXFlD1d---/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://cloud.githubusercontent.com/assets/478824/11051785/5fb18f74-8795-11e5-940c-7164d8b0ca75.jpg">
                </p>
                <p>
                    Sparkfun's
                    <a href="https://learn.sparkfun.com/tutorials/ad8232-heart-rate-monitor-hookup-guide" rel="nofollow">
                        tutorial
                    </a>
                    is very friendly.
You can also use Sparkfun's
                    <a href="https://github.com/sparkfun/AD8232_Heart_Rate_Monitor" rel="nofollow">
                        Github Repository
                    </a>
                    to get simple visualization of ECG Data. Visualization output is like this
                    <a href="https://www.youtube.com/watch?v=yTcbTTxECTU" rel="nofollow">
                        video
                    </a>
                    .
                </p>
                <p>
                    Next, Collect ECG Data through the script.
                </p>
                <pre class="language-nolang"><code>$ python src/take_data.py &gt; data/foobar.csv
</code></pre>
                <p>
                    Collected Data have this format.
                </p>
                <pre class="language-ecg.csv"><code>2015-10-17 21:05:10.078937,483
2015-10-17 21:05:10.094542,481
2015-10-17 21:05:10.094833,480
2015-10-17 21:05:10.094949,485
2015-10-17 21:05:10.095044,492
2015-10-17 21:05:10.110693,501
</code></pre>
                <p>
                    If you want to visualize collected data, You can use Gnuplot.
                </p>
                <pre class="language-nolang"><code>$ gnuplot
set datafile separator ","
plot "&lt; head -1000 data/foobar.csv" using 2 with line
</code></pre>
                <p>
                    <img alt="2015-11-09 21 48 35" data-canonical-url="https://cloud.githubusercontent.com/assets/478824/11034054/ba0744ec-872b-11e5-8e49-d97acbe44966.png" src="https://res.cloudinary.com/devpost/image/fetch/s--64fszp5M--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://cloud.githubusercontent.com/assets/478824/11034054/ba0744ec-872b-11e5-8e49-d97acbe44966.png">
                </p>
                <h3>
                    FFT Converter
                </h3>
                <p>
                    Before detecting anomalous part of the ECG data, 
We use a signal processing technique, FFT(Fast Fourier Transform).
FFT can be used to extract charactaristics of data sequence.
                    <code>
                        Numpy
                    </code>
                    library contain FFT, and we use that.
                </p>
                <p>
                    See example for using FFT Converter with ECG data collected by
                    <code>
                        take_data.py
                    </code>
                    .
You can also use the preset data of the repository.
FFT converter can use like this.
                </p>
                <pre class="language-nolang"><code>$ python src/fft_converter.py --target healthy_person1
</code></pre>
                <pre class="language-output.csv"><code>2015-10-17 21:05:12.685818,11.808565811567473,...,10.957521665215634
2015-10-17 21:05:12.701433,11.808734646395951,...,7.7589930598122354
...
2015-10-17 21:05:57.033917,11.821344935267192,...,8.5655396209023618
</code></pre>
                <p>
                    You can use
                    <code>
                        --target
                    </code>
                    option to specify the target file's name.
Dont's forget to remove
                    <code>
                        .csv
                    </code>
                    string from file name.
                </p>
                <p>
                    FFT Converted data are can be visualized using Gnuplot.
                </p>
                <p>
                    <img alt="2015-11-07 18 54 14" data-canonical-url="https://cloud.githubusercontent.com/assets/478824/11034302/ea8045ae-872d-11e5-98dd-4ec855fc76ab.png" src="https://res.cloudinary.com/devpost/image/fetch/s--QFouchJw--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://cloud.githubusercontent.com/assets/478824/11034302/ea8045ae-872d-11e5-98dd-4ec855fc76ab.png">
                </p>
                <p>
                    Non uniform parts are corredpond to the anomalous of ECG data.
                </p>
                <h3>
                    Anomaly Detection
                </h3>
                <p>
                    We use anomaly detection using
                    <code>
                        vector_anomaly.py
                    </code>
                    Script.
You shoud use FFT Converted data.
                </p>
                <pre class="language-nolang"><code>$ python src/vector_anomaly.py 
</code></pre>
                <p>
                    This is the visualization of the output.
                </p>
                <p>
                    <img alt="d2378b575a8f02188069ef80a08ae6fd 1" data-canonical-url="https://cloud.githubusercontent.com/assets/478824/11034523/85169d4c-872f-11e5-8ed4-55964ef5c7f0.png" src="https://res.cloudinary.com/devpost/image/fetch/s--3pL4zQjU--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://cloud.githubusercontent.com/assets/478824/11034523/85169d4c-872f-11e5-8ed4-55964ef5c7f0.png">
                </p>
                <h2>
                    Data
                </h2>
                <p>
                    This repository include some helathy and abnormal ECG data.
These data are in
                    <code>
                        data
                    </code>
                    directory.
                </p>
                <h3>
                    Nomral ECG data
                </h3>
                <ul>
                    <li>
                        <code>
                            data/healthy_person1.csv
                        </code>
                    </li>
                    <li>
                        <code>
                            data/healthy_person2.csv
                        </code>
                    </li>
                    <li>
                        <code>
                            data/healthy_person3.csv
                        </code>
                    </li>
                    <li>
                        <code>
                            data/healthy_person4.csv
                        </code>
                    </li>
                </ul>
                <h3>
                    Abnormal ECG data
                </h3>
                <ul>
                    <li>
                        <code>
                            data/disease_person1.csv
                        </code>
                        <ul>
                            <li>
                                This data contain big anomalous part.
                            </li>
                        </ul>
                    </li>
                    <li>
                        <code>
                            data/disease_person2.csv
                        </code>
                        <ul>
                            <li>
                                This data contain small anomalous part.
                            </li>
                        </ul>
                    </li>
                    <li>
                        <code>
                            data/disease_person3.csv
                        </code>
                        <ul>
                            <li>
                                This data is chronically abnormal in QRS wave.
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/arduino">
                                arduino
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            ecg
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            nupic
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/python">
                                python
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/iizukak/ecg-htm" rel="nofollow" target="_blank" title="https://github.com/iizukak/ecg-htm">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

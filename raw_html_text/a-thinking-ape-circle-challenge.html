<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div>
                <p>
                    When we generate a list of who is left for last (L) based on the number of people in the circle (N), we observe a correlation bewteen those values and the binary representation of N:
                </p>
                <table class="responsive">
                    <tbody>
                        <tr>
                            <th>
                                N
                            </th>
                            <th>
                                L
                            </th>
                            <th>
                                N (binary)
                            </th>
                            <th>
                                N' (see below)
                            </th>
                        </tr>
                        <tr>
                            <td>
                                2
                            </td>
                            <td>
                                1
                            </td>
                            <td>
                                10
                            </td>
                            <td>
                                0
                            </td>
                            <td>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                3
                            </td>
                            <td>
                                3
                            </td>
                            <td>
                                11
                            </td>
                            <td>
                                1
                            </td>
                            <td>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                4
                            </td>
                            <td>
                                1
                            </td>
                            <td>
                                100
                            </td>
                            <td>
                                00
                            </td>
                            <td>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                5
                            </td>
                            <td>
                                3
                            </td>
                            <td>
                                101
                            </td>
                            <td>
                                01
                            </td>
                            <td>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                6
                            </td>
                            <td>
                                5
                            </td>
                            <td>
                                110
                            </td>
                            <td>
                                10
                            </td>
                            <td>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                7
                            </td>
                            <td>
                                7
                            </td>
                            <td>
                                111
                            </td>
                            <td>
                                11
                            </td>
                            <td>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                8
                            </td>
                            <td>
                                1
                            </td>
                            <td>
                                1000
                            </td>
                            <td>
                                000
                            </td>
                            <td>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                9
                            </td>
                            <td>
                                3
                            </td>
                            <td>
                                1001
                            </td>
                            <td>
                                001
                            </td>
                            <td>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                10
                            </td>
                            <td>
                                5
                            </td>
                            <td>
                                1010
                            </td>
                            <td>
                                010
                            </td>
                            <td>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                11
                            </td>
                            <td>
                                7
                            </td>
                            <td>
                                1011
                            </td>
                            <td>
                                011
                            </td>
                            <td>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                12
                            </td>
                            <td>
                                9
                            </td>
                            <td>
                                1100
                            </td>
                            <td>
                                100
                            </td>
                            <td>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                13
                            </td>
                            <td>
                                11
                            </td>
                            <td>
                                1101
                            </td>
                            <td>
                                101
                            </td>
                            <td>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                14
                            </td>
                            <td>
                                13
                            </td>
                            <td>
                                1110
                            </td>
                            <td>
                                110
                            </td>
                            <td>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                15
                            </td>
                            <td>
                                15
                            </td>
                            <td>
                                1111
                            </td>
                            <td>
                                111
                            </td>
                            <td>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                16
                            </td>
                            <td>
                                1
                            </td>
                            <td>
                                10000
                            </td>
                            <td>
                                0000
                            </td>
                            <td>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                &hellip;
                            </td>
                        </tr>
                    </tbody>
                </table>
                <p>
                    L has a sequence that starts in 1 and increases linearly by steps of 2 (3, 5, 7...) and restarts whenever N reaches a power of 2 (2, 4, 8, 16...).
                </p>
                <p>
                    We can see that, if we remove the most significant bit of N, the resulting number (let it be N') also grows linearly, restarting in 0 whenever N reaches a power of 2, and we can calculate L = N' &times; 2 + 1.
                </p>
                <p>
                    The value of the most significant bit of N can be calculated by POW2(INT(LOG2(N))).
                </p>
                <p>
                    So we have
                    <strong>
                        L = (N - POW2(INT(LOG2(N)))) &times; 2 + 1
                    </strong>
                    .
                </p>
                <p>
                    Assuming:
                </p>
                <ul>
                    <li>
                        INT(x) = &lfloor;x&rfloor;
                    </li>
                    <li>
                        POW2(x) = 2
                        <sup>
                            x
                        </sup>
                    </li>
                    <li>
                        LOG2(x) = log
                        <sub>
                            2
                        </sub>
                        x
                    </li>
                </ul>
            </div>
        </div>
    </body>
</html>

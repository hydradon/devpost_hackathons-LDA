<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li class="text-center">
                        <a data-lightbox="752722" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/752/722/datas/original.png">
                            <img alt="BookIt &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/752/722/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="752685" data-title="Google Assistant flow" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/752/685/datas/original.png">
                            <img alt="BookIt &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/752/685/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Google Assistant flow
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="752683" data-title="Hardware module at the door" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/752/683/datas/original.png">
                            <img alt="BookIt &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/752/683/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Hardware module at the door
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="752684" data-title="Module showing that the room is reserved" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/752/684/datas/original.png">
                            <img alt="BookIt &ndash; screenshot 4" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/752/684/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Module showing that the room is reserved
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="752877" data-title="Network traffic monitor" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/752/877/datas/original.jpg">
                            <img alt="BookIt &ndash; screenshot 5" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/752/877/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Network traffic monitor
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    Walking around, wasting time, looking for a study spot during exams season was something that motivated us to create a solution to this problem through this project
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    There are three parts to the project - the hardware module at every study room,  the Google Assistant application and the vacancy estimator. When you walk into a study space and see an empty room, you can simply walk in and press the reserve option on the hardware module. The module shows that the room is now booked and at what time the reservation ends.
The other portion allows students to interact with the Google Assistant to view open rooms and reserve them. Lastly, the study area vacancy estimator uses a raspberry pi to monitor the network it is connected to, analyse the traffic and determine the number of people (Mac Addresses) in that location.
                </p>
                <h2>
                    How we built it
                </h2>
                <p>
                    For the hardware module we used a Raspberry Pi with a TFT touch screen. We built a NodeJS app to run locally and act as the hardware UI. This web app displays the time left if the room is booked, or allows the person to reserve it if the room is open. The local app interface needed to be able to interact with our MongoDB datastore to sync with the Google Assistant Requests.
                </p>
                <p>
                    For the Google Assistant App, we had to create another NodeJS web service. This service was made so it could process the fulfillment from the Google Assistant user intents and deploy it to Heroku so the Assistant could access it. For example, it would process to save a room to MongoDB when a person says "Save room 201 in McLoud building".
                </p>
                <p>
                    For the study area vacancy estimator, we used a raspberry pi with two wifi dongles, one to send information to a server and the other one to monitor the network connected to; Using a python script we automated the execution of linux shell commands using aircrack in order to monitor the traffic on the network and determine the amount of users per router(BSSID) which allows us to analyse and estimate the vacancy  percentage in the study area.
                </p>
                <h2>
                    Challenges we ran into
                </h2>
                <p>
                    With hardware module we wanted to start off using an Azure SQL server, however we spent a large amount of time figuring out the documentation. Eventually we made the call and switched to a MongoDB solution.
                </p>
                <p>
                    Regarding the Assistant App, the trickiest part was processing the Webhook fulfillment request. For this we ended up just reading the raw JSON request and sending back a formatted JSON response that the Assistant API knew how to interpret.
                </p>
                <p>
                    Due to the nature of the Raspberry Pi, we found that the Pi 2 and above lacked the drivers to set a wifi adapter into monitor mode, thus we had to use a raspberry pi with 2 wifi adapters. Moreover, its small processing power limited our ability to run many sub processes simultaneously.
                </p>
                <h2>
                    Accomplishments that we're proud of
                </h2>
                <p>
                    I think we are most proud of getting all these sub-systems integrated and working together. Also it was very interesting to work with a voice recognition service like Dialogflow for Google Assistant.
                </p>
                <p>
                    In addition, the ability to get a accurate percentage of the availability of a common study area with an autonomous script connected to a database is something that we believe could be a potential solution for the lack of study spaces issues in UBC.
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/api-ai">
                                api.ai
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            dialogflow
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/express-js">
                                express.js
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            google-assistant
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            google-home
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            hbs
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            html/css
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            iot
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/json">
                                json
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/mongodb">
                                mongodb
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/node-js">
                                node.js
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/python">
                                python
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/raspberry-pi">
                                raspberry-pi
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/RobertsonMark/bookit_module" rel="nofollow" target="_blank" title="https://github.com/RobertsonMark/bookit_module">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/mAzurkovic/bookit_voice" rel="nofollow" target="_blank" title="https://github.com/mAzurkovic/bookit_voice">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/Alexvz2/bookit_vap" rel="nofollow" target="_blank" title="https://github.com/Alexvz2/bookit_vap">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="https://bookit-voice.herokuapp.com/" rel="nofollow" target="_blank" title="https://bookit-voice.herokuapp.com/">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                bookit-voice.herokuapp.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/HMIdgtSe8v4?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="521330" data-title="Step 1: Login with Cisco Spark" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/521/330/datas/original.png">
                            <img alt="PayPal &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/521/330/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Step 1: Login with Cisco Spark
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="521331" data-title="Step 2: Setup" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/521/331/datas/original.png">
                            <img alt="PayPal &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/521/331/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Step 2: Setup
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="521319" data-title="Step 3: Receive Instant Payment Notifications From PayPal in Cisco Spark" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/521/319/datas/original.png">
                            <img alt="PayPal &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/521/319/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Step 3: Receive Instant Payment Notifications From PayPal in Cisco Spark
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    We use Stripe notifications to handle a lot of sales processes and this integration was inspired by the Cisco Spark Stripe integration. Since many companies use PayPal for payments processing it only seems fair that Cisco Spark have a PayPal integration also.
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    This integration sends a notification to your Cisco Spark space whenever there is new activity in your PayPal account so that sales people can resolve any payments issues and proceed to cross-sell and up-sell customers whenever they submit a payment.
                </p>
                <h2>
                    How I built it
                </h2>
                <p>
                    I built it by creating a unique URL for each use who installs the integration. The unique URLs are an endpoint that parse and verify incoming PayPal IPN (Instant Payment Notification) requests. These requests are formatted into a human readable message and sent to the Cisco Spark space that the user chooses during the setup process.
                </p>
                <h2>
                    Challenges I ran into
                </h2>
                <p>
                    There was a problem with the Cisco Spark Passport strategy for Node.js that had to be resolved to allow for OAuth authentication using Node's passport module.
                </p>
                <hr>
                <h1>
                    Cisco Spark PayPal Integration
                </h1>
                <p>
                    Get instant payment notifications from PayPal in Cisco Spark.
                </p>
                <p>
                    When you setup the Cisco Spark PayPal Integration you will receive instant payment notifications for activity in your PayPal account directly within Cisco Spark.
                </p>
                <h2>
                    Try It
                </h2>
                <p>
                    Add the integration here and follow the setup steps:
                    <a href="https://cisco-spark-paypal-integration.herokuapp.com" rel="nofollow">
                        https://cisco-spark-paypal-integration.herokuapp.com
                    </a>
                </p>
                <h3>
                    Getting Started
                </h3>
                <p>
                    There are a few steps to get started on working with the Cisco Spark PayPal Integration:
                </p>
                <h4>
                    Installing Cisco Spark PayPal Integration
                </h4>
                <p>
                    <a href="https://heroku.com/deploy?template=https://github.com/pcheek/cisco-spark-paypal-integration/master" rel="nofollow">
                        Deploy to Heroku
                    </a>
                </p>
                <p>
                    Clone this repository:
                </p>
                <p>
                    <code>
                        git clone https://github.com/pcheek/cisco-spark-paypal-integration.git
                    </code>
                </p>
                <p>
                    Install dependencies:
                </p>
                <pre class="language-nolang"><code>cd cisco-spark-paypal-integration
npm install
</code></pre>
                <h4>
                    Environment Setup
                </h4>
                <p>
                    You need to define these environment variables:
                </p>
                <pre class="language-nolang"><code>INTERNAL_CISCO_SPARK_INTEGRATION_ID = 'paypal'
MONGOLAB_URI
INTERNAL_CISCO_SPARK_INTEGRATION_TITLE = 'paypal'
INTERNAL_CISCO_SPARK_INTEGRATION_DESCRIPTION
INTERNAL_CISCO_SPARK_INTEGRATION_LOGIN_TEXT
DOMAIN
CISCOSPARK_CLIENT_ID
CISCOSPARK_CLIENT_SECRET
PAYPAL_IPN_VERIFICATION_URL = 'https://www.sandbox.paypal.com/cgi-bin/webscr'
</code></pre>
                <h4>
                    Usage
                </h4>
                <p>
                    To receive payment notifications in Cisco Spark you will need to setup your unique URL in your PayPal account. It's easy - follow these steps:
                </p>
                <ol>
                    <li>
                        Login to the PayPal Cisco Spark Integration
                    </li>
                    <li>
                        Choose a team where you would like to receive notifications.
                    </li>
                    <li>
                        Log into your PayPal account.
                    </li>
                    <li>
                        Follow the steps on PayPal's website to setup your IPN.
                    </li>
                    <li>
                        Setup your IPN to use your unique URL (Provided after connecting with Cisco Spark and choosing a space).
                    </li>
                </ol>
                <h1>
                    About PayPal Integration for Cisco Spark
                </h1>
                <p>
                    The PayPal Integration for Cisco Spark is a project for the
                    <a href="https://ciscospark.devpost.com/" rel="nofollow">
                        Cisco Spark Industry Challenge
                    </a>
                </p>
            </div>
        </div>
    </body>
</html>

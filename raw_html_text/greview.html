<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div>
                <h1>
                    gReview - The Bamboo Gerrit Integration Plugin
                </h1>
                <p>
                    This plugin polls Gerrit for changes submitted to the Gerrit review system. 
When a new change is submitted, gReview will checkout the change and verify
it builds. gReview will update the Gerrit change to reflect the correct score
for a successful or unsuccessful build.
                </p>
                <h1>
                    Features
                </h1>
                <ul>
                    <li>
                        Gerrit Code Review Integration.
                    </li>
                    <li>
                        GitWeb Integration.
                    </li>
                    <li>
                        Builds and Verifies Changes Submitted to Gerrit.
                    </li>
                    <li>
                        Changes are built independently in the order they are submitted.
                    </li>
                    <li>
                        Change dependencies are resolved naturally through Gerrit PatchSets.
                    </li>
                    <li>
                        Change comments automatically updated with build results.
                    </li>
                    <li>
                        Gerrit Change Display Tab available in Build Summary.
                    </li>
                    <li>
                        Git submodule support.
                    </li>
                    <li>
                        Remote trigger builds from Gerrit.
                    </li>
                    <li>
                        Branching support
                    </li>
                    <li>
                        <a href="http://www.atlassian.com/software/bamboo/features/" rel="nofollow">
                            All the Features Provided By Bamboo
                        </a>
                    </li>
                </ul>
                <h1>
                    Requirements
                </h1>
                <ul>
                    <li>
                        <a href="http://www.atlassian.com/software/bamboo/download" rel="nofollow">
                            Bamboo 5.6+
                        </a>
                    </li>
                    <li>
                        <a href="http://code.google.com/p/gerrit/downloads/list" rel="nofollow">
                            Gerrit Code Review (2.4+)
                        </a>
                    </li>
                </ul>
                <h1>
                    Install
                </h1>
                <h2>
                    Bamboo
                </h2>
                <p>
                    The Bamboo install guide can be found
                    <a href="https://confluence.atlassian.com/display/BAMBOO/Bamboo+installation+guide" rel="nofollow">
                        here
                    </a>
                    .
                </p>
                <h2>
                    Gerrit
                </h2>
                <p>
                    A quick install is available
                    <a href="https://gerrit-review.googlesource.com/Documentation/install.html" rel="nofollow">
                        here
                    </a>
                    .
                </p>
                <p>
                    A Tomcat install guide is also
                    <a href="https://gerrit-review.googlesource.com/#/c/35010/" rel="nofollow">
                        in the works
                    </a>
                    .
                </p>
                <h2>
                    gReview
                </h2>
                <p>
                    This plugin can be installed via the Universal Plugin Manager in Bamboo.
                </p>
                <p>
                    Note: Resave your repository settings in your projects, which use Gerrit, 
      to store your settings with the most recent format and save mechanisms.
                </p>
                <h1>
                    Usage
                </h1>
                <h2>
                    Setup Gerrit
                </h2>
                <ul>
                    <li>
                        Login as admin.
                    </li>
                    <li>
                        Select 'Configure Plan' under 'Actions' in the dropdown menu on the right.
                    </li>
                    <li>
                        Select the 'Source Repositoryies' Tab.
                    </li>
                    <li>
                        <a href="https://plus.google.com/u/0/photos/111679711947778743513/albums/5751797380554349169/5754399119605434834" rel="nofollow">
                            Select 'Add Repository'.
                        </a>
                    </li>
                </ul>
                <h2>
                    Optional Gerrit Branch Configuration
                </h2>
                <p>
                    By default, gReview is configured to draw down changes from Gerrit using the 
master branch. If you choose, you may overide this setting and configure to
poll all branches or a specific custom branch. However, keep in mind, this
setting may be redundant if you use Bamboo's branching features. If you
choose to overide the default branch, you will find the settings available
here:
                </p>
                <ul>
                    <li>
                        Login as admin.
                    </li>
                    <li>
                        Select 'Configure Plan' under 'Actions' in the dropdown menu on the right.
                    </li>
                    <li>
                        Select the 'Source Repositoryies' Tab.
                    </li>
                    <li>
                        Select the repository you intend to configure.
                    </li>
                    <li>
                        If the repository is 'linked', follow the link to your repository.
                    </li>
                    <li>
                        Goto 'Advanced options'
                    </li>
                    <li>
                        Under 'Default Branch', select master, 'All branches', or specify your custom branch.
                    </li>
                    <li>
                        Save
                    </li>
                </ul>
                <h2>
                    Enable Gerrit Verification
                </h2>
                <ul>
                    <li>
                        Login as admin.
                    </li>
                    <li>
                        Select 'Plan Configuration' under 'Actions' in the dropdown menu on the right.
                    </li>
                    <li>
                        Select the 'Stages' Tab.
                    </li>
                    <li>
                        Select the job you're interested in. Usually there is only one, 'Default Job'.
                    </li>
                    <li>
                        Under the job configuration, select the "Miscellaneous" tab.
                    </li>
                    <li>
                        Check
                        <a href="https://lh4.googleusercontent.com/-oawKtjfHbbo/T9J9PgwUF9I/AAAAAAAAANU/C0kOBQYFkC8/s1303/gerritConfig2.JPG" rel="nofollow">
                            'Run Gerrit Verification after main build.'
                        </a>
                    </li>
                </ul>
                <h2>
                    Viewing Gerrit Change Information
                </h2>
                <p>
                    Gerrit change information is available under the Build Summary
                    <a href="https://lh6.googleusercontent.com/-k0Oy_CnsufA/T9J9PglbtTI/AAAAAAAAANM/vPKpt8nsgUY/s785/gerritTab.JPG" rel="nofollow">
                        Gerrit Tab
                    </a>
                </p>
                <h2>
                    Adding Gitweb
                </h2>
                <ul>
                    <li>
                        Login as admin.
                    </li>
                    <li>
                        Select 'Configure Plan' under 'Actions' in the dropdown menu on the right.
                    </li>
                    <li>
                        <a href="https://lh3.googleusercontent.com/-EbLti6gv3xo/UCKuvN1j7vI/AAAAAAAAAPQ/OaZ8MsXwGjs/s939/source-repositories.JPG" rel="nofollow">
                            Select the 'Source Repositoryies' Tab.
                        </a>
                    </li>
                    <li>
                        Select an existing Gerrit Repository or add one.
                    </li>
                    <li>
                        Drop down 'Advanced Options' and select the GitWeb repository.
                    </li>
                    <li>
                        <a href="https://lh5.googleusercontent.com/-wd7iOs6EmhQ/UCKvWNPlPJI/AAAAAAAAAPY/9LkFAJtksFI/s917/source-repositories2.JPG" rel="nofollow">
                            Provide your details and save
                        </a>
                    </li>
                </ul>
                <h2>
                    Creating A Branch (Gerrit UI)
                </h2>
                <ul>
                    <li>
                        Login to Gerrit.
                    </li>
                    <li>
                        Select Projects-&gt;List-&gt;'YourProject'
                    </li>
                    <li>
                        Enter your new branch below beside "Branch Name"
                    </li>
                    <li>
                        Provide the initial revision, leave as HEAD for branch off master
                    </li>
                    <li>
                        Hit 'Create Branch'
                    </li>
                </ul>
                <h2>
                    Checkout Branch Made from Gerrit UI
                </h2>
                <ul>
                    <li>
                        git fetch origin
                    </li>
                    <li>
                        git checkout new-branch
                    </li>
                </ul>
                <h2>
                    Creating A Branch (Git Console)
                </h2>
                <ul>
                    <li>
                        git checkout -b new-branch origin/master
                    </li>
                    <li>
                        git checkout master
                    </li>
                    <li>
                        git push origin HEAD:new-branch
                    </li>
                    <li>
                        git checkout new-branch
                    </li>
                    <li>
                        git push origin HEAD:refs/for/new-branch
                    </li>
                </ul>
                <p>
                    Remote Trigger Builds
                </p>
                <hr>
                <ul>
                    <li>
                        Go under 'Plan Configuration'=&gt;'Triggers'.
                    </li>
                    <li>
                        Select trigger which applies, usually the first trigger.
                    </li>
                    <li>
                        Switch the setting from existing 'Polling the repository for changes' to 'Repository triggers the build when changes are committed'.
                    </li>
                    <li>
                        Make sure the checkbox is selected for the repository you're using in your plan.
                    </li>
                    <li>
                        If you enter an IP for security reasons, make sure it matches the hostname in your repo configuration. However, it should work fine if you leave empty.
                    </li>
                    <li>
                        Hit 'Save'.
                    </li>
                </ul>
                <h1>
                    Troubleshooting
                </h1>
                <h2>
                    Connection Issues
                </h2>
                <p>
                    Make sure you have Gerrit setup correctly with SSH identity key generated and 
host used in the SSH connection string added to known host. Detailed instructions 
are available in the
                    <a href="https://gerrit-review.googlesource.com/Documentation/install-quick.html#usersetup" rel="nofollow">
                        Gerrit documentation
                    </a>
                    .
                </p>
                <p>
                    <strong>
                        Note
                    </strong>
                    : Some builds will still hang in native msysgit mode on Windows due to 
the following issue with the bamboo-git-plugin:
                    <a href="https://jira.atlassian.com/browse/BAM-11096" rel="nofollow">
                        https://jira.atlassian.com/browse/BAM-11096
                    </a>
                    .
                </p>
                <p>
                    You can work around this issue by manually adding your hostname, used in the 
repository configuration, to the msysgit/.ssh/known_hosts file. Example:
                </p>
                <blockquote>
                    <p>
                        127.0.0.1 ssh-rsa XXXXB3NzaC1yc2EAAAADAQABBBBgQC699HzXHwr1H6OJeVlRo7h4r+3PY
d0wNkqzl6EUAeU2iZjqFqQL2ZiNVqs2JrpTNadbgtXBNk9rhQIWajQZG9ZJG/OPxe+NOkbWQVev
rcELsw5N2wxcJOWz+ey1tFv3VCtNCLUGgF7yIg0kZZVQ+HvAzLoMbiHs0haVmEjnLherSw==
                    </p>
                </blockquote>
                <h2>
                    NullPointerException Encountered after Upgrade
                </h2>
                <p>
                    If this is an upgrade, and you encouter a NullException when attempting to 
build, you may need to resave your repository settings.Release 1.2.3 changed 
the way the ssh private key is stored for multiple repositories. Resaving 
should resolve this issue.
                </p>
                <h2>
                    Unable to Delete Repository
                </h2>
                <p>
                    This is an old issue and has been fixed in new releases of Bamboo. Here's the
                    <a href="https://jira.atlassian.com/browse/BAM-11377" rel="nofollow">
                        ticket
                    </a>
                    .
                </p>
                <h2>
                    Debugging
                </h2>
                <p>
                    If problems persist, you can turn on debugging in the Administration console to
help resolve and report issues. Steps to turn on debugging:
                </p>
                <ul>
                    <li>
                        Goto Administration-&gt;System-&gt;Log Settings
                    </li>
                    <li>
                        Add com.houghtonassociates.bamboo.plugins=DEBUG
                    </li>
                </ul>
                <p>
                    Check your Bamboo home directory for log output:
                </p>
                <p>
                    Ex: bamboo-home\logs\atlassian-bamboo.log
                </p>
                <h1>
                    Bug Fixes and Enhancements
                </h1>
                <h2>
                    1.4.3.6 Updates
                </h2>
                <ul>
                    <li>
                        Added capability for merging gerrit specific branches
                    </li>
                </ul>
                <h2>
                    1.4.2.1 Updates
                </h2>
                <ul>
                    <li>
                        Support for Bamboo 5.6.0
                    </li>
                    <li>
                        Added capability for creating branches
                    </li>
                </ul>
                <h2>
                    1.4.1.20 Updates
                </h2>
                <ul>
                    <li>
                        Support for Bamboo 5.1.0 - 5.5.1
                    </li>
                    <li>
                        Resolved permissions on configuration directory for MetaConfig
                    </li>
                    <li>
                        Added Support for remote triggering builds from repository
                    </li>
                </ul>
                <h2>
                    1.4.0 Updates
                </h2>
                <ul>
                    <li>
                        Tested with Gerrit 2.9
                    </li>
                    <li>
                        Added capability for retrieving local and remote branches.
                    </li>
                    <li>
                        Added functionality to support getOpenBranches.
                    </li>
                    <li>
                        Resolved dependency loading issues with OSGI for 5.2-5.6
                    </li>
                    <li>
                        Provided mechanism to change default branch to pull changes from
                    </li>
                    <li>
                        How to restrict bamboo to poll the changes only on a particular branch #26
                    </li>
                    <li>
                        gReview problem - bamboo is checking out master branch #30
                    </li>
                </ul>
                <h2>
                    1.3.0 Updates
                </h2>
                <ul>
                    <li>
                        Removed Native Git dependency, replaced by latest jGit
                    </li>
                    <li>
                        Removed bamboo-git plugin dependency
                    </li>
                    <li>
                        Added submodule support
                    </li>
                    <li>
                        Resolved dependency loading issues with OSGI
                    </li>
                    <li>
                        Resolved path parsing issues with remote and local agent on Linux
                    </li>
                    <li>
                        Extended Support for 4.2.1 - 5.1.1
                    </li>
                    <li>
                        Issue #23 Changes discovering problem
                    </li>
                    <li>
                        Issue #27 Bamboo 4.3 support
                    </li>
                </ul>
                <h2>
                    1.2.9 Updates
                </h2>
                <ul>
                    <li>
                        Issue #21 Gerrit Chain Results screen shows changes from other repositories
                    </li>
                    <li>
                        Issue #20 Edit Gerrit Repository' screen force to re-enter passphrase for private key
                    </li>
                    <li>
                        Issue #19 NPE on Bamboo agent after job is dispatched by gReview
                    </li>
                </ul>
                <h2>
                    1.2.8 Updates
                </h2>
                <ul>
                    <li>
                        Issue #16 4.2.X Support.
                    </li>
                </ul>
                <h2>
                    1.2.3 Updates
                </h2>
                <ul>
                    <li>
                        Issue #13 gReview doesn't uniquely store connections settings per plan.
                    </li>
                </ul>
                <h2>
                    1.2.2 Updates
                </h2>
                <ul>
                    <li>
                        Issue #12: NullPointer exception encountered in GerritService
                    </li>
                </ul>
                <h2>
                    1.2.1 Updates
                </h2>
                <ul>
                    <li>
                        Issue #11: Error message reported by failed build can break verification update.
                    </li>
                </ul>
                <h2>
                    1.2.0 Updates
                </h2>
                <ul>
                    <li>
                        Issue #10: Exclude Display of Commit Action Tag in Build Changes
                    </li>
                    <li>
                        Issue #9: Exception on failed build
                    </li>
                    <li>
                        Issue #8: Setting non standard port does not work
                    </li>
                    <li>
                        Issue #7: Include Build Results URL for Verified Changes in Gerrit
                    </li>
                    <li>
                        Issue #6: GitWeb Integration
                    </li>
                </ul>
                <h2>
                    1.1.3 Updates
                </h2>
                <ul>
                    <li>
                        Issue #5: Gerrit Tab Displays on Unrelated Plans
                    </li>
                </ul>
                <h2>
                    1.1.2 Updates
                </h2>
                <ul>
                    <li>
                        Issue #4:  Build Plan Fails When no Changes Open
                    </li>
                </ul>
                <h2>
                    1.1 Updates
                </h2>
                <ul>
                    <li>
                        Issue #1: Checkout Fails When Bamboo Configured with Native Git
                    </li>
                    <li>
                        Issue #2: Add Git Submodules Capability
                    </li>
                </ul>
                <h1>
                    Development Branches
                </h1>
                <ul>
                    <li>
                        4.2.1-5.0.1: Use this branch for updates to the cooresponding releases
                    </li>
                    <li>
                        master: Master supports ongoing development for 5.1.1 +
                    </li>
                </ul>
                <h1>
                    How to build the Bamboo Gerrit Plugin
                </h1>
                <h2>
                    Impatient way:
                </h2>
                <ol>
                    <li>
                        `mvn package' (Apache Maven 2.2.1 was used to develop this plugin)
                    </li>
                </ol>
                <h2>
                    More patient way:
                </h2>
                <ol>
                    <li>
                        Download and install the
                        <a href="http://java.sun.com" rel="nofollow">
                            latest JDK
                        </a>
                        .
                    </li>
                    <li>
                        Download and install the
                        <a href="http://confluence.atlassian.com/display/DEVNET/Setting+up+your+Plugin+Development+Environment" rel="nofollow">
                            Atlassian Plugin SDK
                        </a>
                        .
                    </li>
                    <li>
                        Run `atlas-package -DskipTests' in the directory containing Bamboo Gerrit Plugin pom.xml.
                    </li>
                    <li>
                        Grab plugin JAR file from `./target/greview-.jar'.
                    </li>
                </ol>
                <p>
                    Full documentation on how to develop Atlassian Plugins is available 
at the
                    <a href="http://confluence.atlassian.com/display/DEVNET/How+to+Build+an+Atlassian+Plugin" rel="nofollow">
                        Atlassian Developer Site
                    </a>
                    .
                </p>
                <h1>
                    How to deploy Git Plugin into existing Bamboo instance
                </h1>
                <p>
                    Full documentation on installing Atlassian Plugins is available at:
                </p>
                <ul>
                    <li>
                        <a href="http://confluence.atlassian.com/display/BAMBOO/Installing+a+new+Plugin" rel="nofollow">
                            http://confluence.atlassian.com/display/BAMBOO/Installing+a+new+Plugin
                        </a>
                        (please note that gReview Plugin is 'Version 2' plugin)
                    </li>
                </ul>
                <h1>
                    Maintainer
                </h1>
                <h2>
                    Jason Huntley
                </h2>
                <ul>
                    <li>
                        <a href="mailto:jhuntley@houghtonassociates.com" rel="nofollow">
                            jhuntley@houghtonassociates.com
                        </a>
                    </li>
                    <li>
                        <a href="mailto:onepremise@gmail.com" rel="nofollow">
                            onepremise@gmail.com
                        </a>
                    </li>
                </ul>
                <p>
                    <a href="http://stackexchange.com/users/1254855" rel="nofollow">
                        <img alt="profile for Jason Huntley on Stack Exchange, a network of free, community-driven Q&amp;A sites" data-canonical-url="http://stackexchange.com/users/flair/1254855.png" src="https://res.cloudinary.com/devpost/image/fetch/s--AZseWBT7--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/http://stackexchange.com/users/flair/1254855.png" title="profile for Jason Huntley on Stack Exchange, a network of free, community-driven Q&amp;A sites">
                    </a>
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/css">
                                css
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/java">
                                java
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/onepremise/gReview" rel="nofollow" target="_blank" title="https://github.com/onepremise/gReview">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

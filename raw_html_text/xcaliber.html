<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li class="text-center">
                        <a data-lightbox="375847" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/375/847/datas/original.jpg">
                            <img alt="XCalibur &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/375/847/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    It started as an effort to help a friend who needed a microSD card to load a custom Linux image for his Raspberry Pi. I gave him my card, and he backed up all the data, and then attempted to format it using dd.
                </p>
                <p>
                    It did not work. And there began the hell that lasted for multiple hours that killed a computer and injured another, spit out error codes that were not in OSX/Linux documentation, and confused and challenged and generally wasted the time of many hackers.
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    XCalibur can be written to. XCalibur can be read from. But God forbid if you attempt to overwrite its filesystem. It's built in Knights of the Round Table
                    <sup>
                        TM
                    </sup>
                    technology fights off hackers and meddlers with ease. It doesn't just prevent access, but as any good fighting force, lures the enemy into a false sense of security, and when they believe they have succeed, strikes unexpectedly and renders their work utterly useless.
                </p>
                <p>
                    Attempts at formatting:
                </p>
                <ol>
                    <li>
                        @Ben backs up all current data on drive. Attempts to use ApplePi-Baker the Raspbian image onto it.
                    </li>
                    <li>
                        @Dev attempts to use fdisk to delete the partition. Old partition shows as deleted in fdisk. No errors. Write successful. Drive is unresponsive when trying to mount again, take it out. Plug it back in, no change in file system. All files are readable / accessable as if fdisk did no operations.
                    </li>
                    <li>
                        @Shanantu given XCalibur to attempt to format. Plugs in his computer, and it freezes his computer. Needs to force restart.
                    </li>
                    <li>
                        @Jordan given microSD card to attempts format. Using Ubuntu with gparted, gparted shows that it has successfully deleted partition. Eject drive, plug back in, looks like no change. Frustrated, attempts "touch" for foo.txt. Touch successful, file shows in explorer, openable, editable, saveable. Eject drive. Place drive back in, file is gone. Attempt to format again, still nothing. Frustrated, attempt to simply delete all data on drive with rm -rf. Jordan messes up and rm -rf / instead of rm -rf /dev/sdb. His ubuntu filesystem nuked, and spends next 9 hours trying to attempt to install another linux system on top of it (still unable to, something corrupted on his ssd we believe through the rm -rf command).
                    </li>
                    <li>
                        @Ben attempts another format using official Mac SD card formatting tool this time. Spits out error -50, which as far as we researched, is undocumented. We do find that the official tool is by "SDCard.org".
                    </li>
                    <li>
                        @Dev attempts to continue looking up possible errors and ways to check for bad sectors.
Command "fsck -a" is run, which has the output:
                        <code>
                            icarus@Castle ~]$ sudo fsck -a /dev/sdb1
[sudo] password for icarus:
fsck from util-linux 2.27.1
fsck.fat 3.0.28 (2015-05-16)
0x41: Dirty bit is set. Fs was not properly unmounted and some data may be corrupt.
Automatically removing dirty bit.
FATs differ but appear to be intact. Using first FAT.
Free cluster summary wrong (1554557 vs. really 1554558)
Auto-correcting.
Performing changes.
/dev/sdb1: 1583 files, 388034/1942592 clusters
[icarus@Castle ~]$ sudo fsck -a /dev/sdb1
fsck from util-linux 2.27.1
fsck.fat 3.0.28 (2015-05-16)
/dev/sdb1: 1583 files, 388034/1942592 clusters
[icarus@Castle ~]$
                        </code>
                        Running fsck fixed the problem, and on second run saw an error free run. After safely ejecting and plugging it back in, XCalibur again had the same fsck dirty bit error as before.
                    </li>
                </ol>
                <p>
                    We attempted to perhaps break it more by changing its partition table from MDOS to GPT, but despite the use of both CLI and GUI toolsets,
                </p>
                <p>
                    @Nelson &amp; Shanantu attempts on windows PC: 
 Removed MicroSD from USB and put it in SD adapter
                </p>
                <ol>
                    <li>
                        Inserted SD-adapter into Windows 10 computer
                    </li>
                    <li>
                        diskpart
                    </li>
                    <li>
                        list disk
                    </li>
                    <li>
                        select disk 1 (SD)
                    </li>
                    <li>
                        list partition
Partition 1 | Primary | 14 GB | 1024 KB offset
                    </li>
                    <li>
                        clean
Succeeded in cleaning
                    </li>
                    <li>
                        list partition
Partition 1 | Primary | 14 GB | 1024 KB offset
                    </li>
                    <li>
                        regedit did not show a key named StorageDevicePolicies
Created key manually to set "Write Protection" to 0
                    </li>
                    <li>
                        attributes disk clear readonly
Disk attributes cleared successfully.
                    </li>
                    <li>
                        Attempted to quick format FAT32
Windows states "Windows was unable to complete the format."
                    </li>
                    <li>
                        Attempted formatting from diskpart
DiskPart has encountered an error: Parameter is incorrect.
Suggests checking event log.
                    </li>
                    <li>
                        Checked event log, Windows did not appear to log anything
                    </li>
                    <li>
                        Reverted to USB adapter
                    </li>
                    <li>
                        Mounted in Ubuntu via USB adapter
                    </li>
                    <li>
                        Device auto-mounted, attempted to touch a file
                    </li>
                    <li>
                        ls showed file in the root of the SD card
                    </li>
                    <li>
                        echo ayy lmao &gt; file
                    </li>
                    <li>
                        sync
                    </li>
                    <li>
                        cat file
output is "ayy lmao"
                    </li>
                    <li>
                        sudo umount /dev/sda1
                    </li>
                    <li>
                        Remove and reinsert hardware from VM
                    </li>
                    <li>
                        cd into SD card
                    </li>
                    <li>
                        File was no longer in card
                    </li>
                </ol>
                <p>
                    XCalibur has proven to be particularly resilient to change. We have been looking into possible errors with file corruption, hardware failure, and our tests and reasons as to why no single explanation is adequate.
                </p>
                <p>
                    As we spent more time researching it, a couple frequently diagnosed problems with similar hard issues were:
                </p>
                <ol>
                    <li>
                        <p>
                            Sector Corruption. This was often the quoted reason for bad drives. However, bad sectors would easy have been found by a check disk or other commands as they would encounter it. Bad sectors are so well known that error codes for them are well documentated, but we did not run into them.
was kill.
                        </p>
                    </li>
                    <li>
                        <p>
                            Another suggested error was that it was write locked. The microSD card did not have write lock on it, and we used 3 different microSD to SD adapters, only one of which featured write lock, of which we tried both locked and not locked. When write locked, we were unable to copy files at
                            <em>
                                all
                            </em>
                            , and the ramdisk functionality
                        </p>
                    </li>
                    <li>
                        <p>
                            Bad Reader / Adapter. As we stated of , we used three different types of adapters to account for this problem.
                        </p>
                    </li>
                </ol>
                <h2>
                    How we built it
                </h2>
                <p>
                    Mistakes and regrets. Lots of them.
                </p>
                <h2>
                    Challenges we ran into
                </h2>
                <p>
                    Yes.
                </p>
                <h2>
                    Accomplishments that we're proud of
                </h2>
                <p>
                    We haven't burnt it. Yet.
                </p>
                <h2>
                    What we learned
                </h2>
                <p>
                    When you need to use a microSD card, just don't.
                </p>
                <h2>
                    What's next for XCalibur
                </h2>
                <p>
                    Probably burning it.
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag">
                            agony
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            salt?
                        </span>
                    </li>
                </ul>
            </div>
        </div>
    </body>
</html>

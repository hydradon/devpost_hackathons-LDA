<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li class="text-center">
                        <a data-lightbox="481325" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/481/325/datas/original.png">
                            <img alt="Epimetheus &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/481/325/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="481326" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/481/326/datas/original.png">
                            <img alt="Epimetheus &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/481/326/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="481332" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/481/332/datas/original.png">
                            <img alt="Epimetheus &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/481/332/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h1>
                    Epimetheus
                </h1>
                <p>
                    Easily monitor web analytics and insights by aggregating Prometheus data in Firebase via a Slack bot.
                </p>
                <p>
                    For web app analytics to be meaningful, they must extend beyond just pageviews. PrometheusJS is an open source library that allows developers to track rich web analytics using Firebase, separate from core app data. Epimetheus allows developers to write custom aggregations on this data and easily access the resulting insights by chatting with a Slack bot. Use cases might include:
                </p>
                <ul>
                    <li>
                        Monitor KPIs: daily active users, monthly active users, user churn
                    </li>
                    <li>
                        Review Experiments: report conversion rates, A/B test results, feature usage
                    </li>
                    <li>
                        Assess Usability: analyze time to complete tasks, identify high priority errors
                    </li>
                </ul>
                <h2>
                    Usage
                </h2>
                <p>
                    You can configure your Slack bot to do this:
                </p>
                <p>
                    <img alt="Count users over a given time range." data-canonical-url="https://github.com/vingkan/epimetheus/blob/master/docs/count-users.png" src="https://res.cloudinary.com/devpost/image/fetch/s--fgx75Van--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://github.com/vingkan/epimetheus/blob/master/docs/count-users.png">
                </p>
                <p>
                    ...just by writing this code:
                </p>
                <pre class="language-javascript"><code>bot.calculations = {
                countUsers: {
                question: 'How many users were active {in date range}?',
                type: 'count',
                state: {
                count: 0
                },
                aggregator: (state, visits) =&gt; {
                if(visits.length &gt; 0){
                state.count++;
                }
                return state;
                },
                response: (state) =&gt; {
                return `I counted ${state.count} users.`;
                }
    }
    ...
}
</code></pre>
                <h2>
                    Getting Started
                </h2>
                <p>
                    Download the project folder and run
                    <code>
                        npm install
                    </code>
                    .
                </p>
                <p>
                    Create a
                    <code>
                        .env
                    </code>
                    file in the top level directory with the following properties:
                </p>
                <pre class="language-nolang"><code>SLACK_TOKEN=xoxp-slack-token-00000
SLACK_BOT_TOKEN=xoxb-slack-bot-token-00000
SLACK_BOT_NAME=Bot Name
FIREBASE_API_KEY=firebase-api-key
FIREBASE_DATABASE_URL=https://firebase-url.firebaseio.com
SLACK_CHANNEL=metrics
</code></pre>
                <p>
                    Edit
                    <code>
                        main.js
                    </code>
                    to write calculations. Run
                    <code>
                        node main
                    </code>
                    and navigate to the given Slack channel and start asking questions of your bot!
                </p>
                <p>
                    While the node application is running locally, any Slack user from any device can run calculations by chatting with the bot in the given channel. After writing and testing calculations locally, deploy with a service like Heroku.
                </p>
                <h2>
                    Writing Calculations
                </h2>
                <p>
                    To define calculations, use the following properties:
                </p>
                <h3>
                    question
                </h3>
                <p>
                    Format of to follow for Slack messages that trigger the calculation.
                </p>
                <pre class="language-javascript"><code>bot.calculations = {
                countUsers: {
                question: 'How many users were active {in date range}?',
                ...
    }
    ...
}
</code></pre>
                <h3>
                    type
                </h3>
                <p>
                    Type of calculation to run. Epimetheus currently supports three types:
                </p>
                <ul>
                    <li>
                        <code>
                            count
                        </code>
                        : count relevant users, visits, or other data
                    </li>
                    <li>
                        <code>
                            rank
                        </code>
                        : identify and rank high value users
                    </li>
                    <li>
                        <code>
                            compare
                        </code>
                        : divide users into segments and compare data
                    </li>
                </ul>
                <h3>
                    state
                </h3>
                <p>
                    Define the default properties of an object to store temporary data during the calculation. Only for
                    <code>
                        count
                    </code>
                    and
                    <code>
                        compare
                    </code>
                    calculations.
                </p>
                <h3>
                    aggregator
                </h3>
                <p>
                    Define custom method to evaluate each relevant users and their visits.
                </p>
                <p>
                    Params: state (object) and visits (list of visits, see Data Structure)
Return: state (modified or not)
                </p>
                <pre class="language-javascript"><code>bot.calculations = {
                countUsers: {
                ...
                aggregator: (state, visits) =&gt; {
                if(visits.length &gt; 0){
                state.count++;
                }
                return state;
                },
                ...
    }
    ...
}
</code></pre>
                <h3>
                    filter
                </h3>
                <p>
                    Only for
                    <code>
                        rank
                    </code>
                    calculations. Detailed documentation coming soon.
                </p>
                <h3>
                    sort
                </h3>
                <p>
                    Only for
                    <code>
                        rank
                    </code>
                    calculations. Detailed documentation coming soon.
                </p>
                <h3>
                    response
                </h3>
                <p>
                    Define what response the Slack bot should show for the calculation.
                </p>
                <pre class="language-javascript"><code>bot.calculations = {
                countUsers: {
                ...
                response: (state) =&gt; {
                return `I counted ${state.count} users.`;
                }
    }
    ...
}
</code></pre>
                <h2>
                    Data Structure
                </h2>
                <p>
                    These
                    <code>
                        calculations
                    </code>
                    are highly extensibile to fit board analytics needs for any web application that uses PrometheusJS to collect data. Prometheus saves relevant user events as
                    <code>
                        visits
                    </code>
                    . Some benefits of using Prometheus to track web analytics:
                </p>
                <ul>
                    <li>
                        Gather more actionable data by tracking user-specific analytics
                    </li>
                    <li>
                        Separate core app data and analytics, Firebase/Prometheus integrate non-invasively into codebase
                    </li>
                </ul>
                <p>
                    Epimetheus
                    <code>
                        calculations
                    </code>
                    loop over all
                    <code>
                        visits
                    </code>
                    for all users that are in the date range specified in the Slack question. All of the Prometheus data can be used in aggregations. Each
                    <code>
                        visit
                    </code>
                    has this structure:
                </p>
                <pre class="language-javascript"><code>{
                visit: {
                type: , // type of event as defined by developer
                ... // additional data as defined by developer
    },
    meta: {
    datetime: {
    timestamp: , // Unix timestamp for event
    timezoneOffset: // offset for user's timezone
    },
    browser: {
    device: , // type of device (desktop, tablet, mobile, or unknown)
    height: , // height of screen (pixels)
    width: , // width of screen (pixels)
    name: , // browser name
    version: // browser version
    },
    location: {
    city: , // approximate city from geoip data
    country: , // country from geoip data
    latitude: , // approximate latitude coordinates
    longitude: , // approximate longitude coordinates
    ip: // device IP address
    },
    page: {
    title: , // title of page/document
    url: // URL of page/document
    }
    }
}
</code></pre>
                <h2>
                    Other Resources
                </h2>
                <ul>
                    <li>
                        <a href="https://github.com/vingkan/epimetheus/blob/master/docs/catalog.md" rel="nofollow">
                            Calculations Catalog
                        </a>
                        : Sample Calculations
                    </li>
                    <li>
                        <a href="https://github.com/vingkan/epimetheus/releases" rel="nofollow">
                            Releases
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/vingkan/epimetheus/blob/master/LICENSE" rel="nofollow">
                            License: MIT
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/vingkan/epimetheus/blob/master/docs/contributors.md" rel="nofollow">
                            Contributors
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/vingkan/epimetheus/blob/master/docs/contributing.md" rel="nofollow">
                            Contributing Guide
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/vingkan/epimetheus/issues" rel="nofollow">
                            Issues
                        </a>
                    </li>
                    <li>
                        The latest version of PrometheusJS and full documentation can be found
                        <a href="https://github.com/vingkan/prometheus" rel="nofollow">
                            on GitHub
                        </a>
                        .
                    </li>
                </ul>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/firebase">
                                firebase
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/heroku">
                                heroku
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/javascript">
                                javascript
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/node-js">
                                node.js
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/slack">
                                slack
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/vingkan/epimetheus" rel="nofollow" target="_blank" title="https://github.com/vingkan/epimetheus">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://player.vimeo.com/video/161253977?byline=0&amp;portrait=0&amp;title=0#t=" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="371041" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/371/041/datas/original.jpg">
                            <img alt="Droplytics Aquastat Samsung MAD Challenge &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/371/041/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="371044" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/371/044/datas/original.JPG">
                            <img alt="Droplytics Aquastat Samsung MAD Challenge &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/371/044/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="371045" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/371/045/datas/original.JPG">
                            <img alt="Droplytics Aquastat Samsung MAD Challenge &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/371/045/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="371046" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/371/046/datas/original.JPG">
                            <img alt="Droplytics Aquastat Samsung MAD Challenge &ndash; screenshot 4" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/371/046/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="371048" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/371/048/datas/original.png">
                            <img alt="Droplytics Aquastat Samsung MAD Challenge &ndash; screenshot 5" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/371/048/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="371047" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/371/047/datas/original.png">
                            <img alt="Droplytics Aquastat Samsung MAD Challenge &ndash; screenshot 6" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/371/047/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="371064" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/371/064/datas/original.jpg">
                            <img alt="Droplytics Aquastat Samsung MAD Challenge &ndash; screenshot 7" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/371/064/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    As Californians, the Droplytics team has seen the progression of this drought over the past four years; although we've just gone through an historic el nino, we would need three to four more such events just to get back to normal reserves.
                </p>
                <p>
                    The reality of global climate change is that we as Californians face this problem now, and well into the future. Water scarcity is not a new phenomena - it is the new normal, and it is global in scope.
                </p>
                <p>
                    We need a conservation renaissance. We know that we need to save more water, we know that our very existence depends on it - so what's stopping us?
                </p>
                <p>
                    Let's use the hard-drive as an analogy. Think about the last time you needed to clear some space on your computer. You know that you have limited space, say 500GB, and that you are using nearly 490GB. If I just gave you this information, how would you start cleaning? Where do you look first? How do we separate what is junk from what is important?
                </p>
                <p>
                    To make intelligent decisions, you need intelligent information! You need to see how your space is being used, where your biggest files are stored, and how often you've been using them. With this information, the path to a clean hard drive is clear.
                </p>
                <p>
                    Now, think about your water bill. All I give you is a piece of paper every 1-3 months with two numbers: the amount you will pay, and the volume of water you used (in some obscure units). This system is akin to you logging in to your computer to clean your hard drive only knowing how much space you've used.
                </p>
                <p>
                    There is simply no way to truly optimize your water usage without reliable benchmarks. The Aquastat was conceived and designed specifically for this task. Gone are the days of the water bill as our conservation yardstick. Welcome to the future of smart homes, where you can analyze, and optimize your home's water usage effortlessly.
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    The Aquastat is a novel aeroacoustic sensing platform designed to be placed on or near fixtures. It uses a combination of vibrational and acoustic sensing to 'tune in' on and estimate water flow. Once water flow has been detected, the Aquastat kicks into gear and starts listening for and making sense of the flow rate. This information is then transmistted over BLE to the Artik where we have access to advanced signal processing and machine learning capabilities.
Together, the Aquastat and the Artik form a feedback loop that will give people insight into their water usage like never before.
                </p>
                <p>
                    Although or sensing system is novel in the consumer space, this idea is not completely new. In days gone by, our very survival may have depended on the ability to listen for and estimate the quantity of water flowing near us. Humans intuitively sense water flow rates through sound. Unfortunately, it has not been feasible to teach a machine to do this - until now.
                </p>
                <p>
                    With the ability to break down and examine the audio, and ultrasonic spectrums in near-real time, we can actually see and make sense of the sounds emanating from the pipes in your home, and correlate these sounds to their respective flow rates.
                </p>
                <p>
                    During a short calibration procedure, we simply place the device in the desired installation location on or near a pipe or faucet. Next, we collect some training data with the Aquastst, and send it over to the Artik for processing. The Artik filters and analyzes the audio data collected, and classifies features of the sounds that separate which data corresponds to low and high flow rates, and which parts of the data are just noise. Once the calculations on the Artik are complete, we transmit an acoustic fingerprint to the Aquastst for it to use on its local 'on-the-fly' calculations. Using this fingerprint, we have an accurate benchmark for the Aquastat to estimate water flow with. Now, whenever we turn on the water, the Aquastst  not only detects these events, but actually estimates the water flow in real time!
                </p>
                <p>
                    With a distributed set of Aquastats, one can outfit a home with the Artik serving as the IoT hub making sense of the data, ensuring accuracy, and transmitting
                </p>
                <h2>
                    How we built it
                </h2>
                <h3>
                    Aquastat Hardware
                </h3>
                <p>
                    The Aquastat is a completely custom, mixed-signal system that uses a powerful microcontroller to run FFTs on sensor data collected. Once we had outlined the performance target and bandwidth necessary for the sensor, we laid out the PCB and sent it to fabrication.
                </p>
                <p>
                    After we received the blank PCBs, we sat down under a microscope for a few hours and placed all of the fine pitch components.
                </p>
                <h3>
                    Aquastst Web Interface
                </h3>
                <p>
                    The Aquastat web interface utilizes a mix of python Flask, jquery, bootstrap, and plotly charts. All of these elements were integrated together in about 3 weeks, allowing users to see live plots of their water flow usage piped to our web servers from the Artik.
                </p>
                <h3>
                    Aquastst Mechanical
                </h3>
                <h2>
                    Challenges we ran into
                </h2>
                <h3>
                    BLE
                </h3>
                <p>
                    We chose BLE for this first iteration, primarily for low power, and because we had some previous experience with the protocol for mobile applications. Because the Artik 10 is still in beta, this made BLE connections a little tough, but ultimately we persevered by using a BLE UART dongle as a workaround. From there, we were able to use standard Linux BLE tools like Bluez, hcitool, and gatttool to connect and communicate between the Artik and the Aquastat.
                </p>
                <h3>
                    PCBs
                </h3>
                <p>
                    We didn't use soldermask on our first batch of PCBs to speed turnaround, and to save on cost. The flat-pack and fine pitch components were very difficult to solder without shorting to power and ground planes, so we had to do a second run.
                </p>
                <h3>
                    Web Interface
                </h3>
                <p>
                    Using python as our web server backend proved both challenging and rewarding. While initial setup and testing took a long time, the end result is a web application that is highly modular, expandable, and able to be ported to a variety of devices.
                </p>
                <h2>
                    Accomplishments that we're proud of
                </h2>
                <p>
                    First and foremost, we did something that's never been done before!
                </p>
                <p>
                    Apart from being accepted into the Samsung MAD challenge, we've also garnered interest from The Foundry at UC Berkeley, a tech startup incubator - and CITRIS, the University of California's center for developing new technologies in the interest of humanity.
                </p>
                <h2>
                    What we learned
                </h2>
                <p>
                    We have learned a lot about the varying fields of aeroacoustics, signal processing, and entrepreneurship.
                </p>
                <h2>
                    What's next for Aquastat
                </h2>
                <p>
                    In the coming months, we will continue iterating on our design on all fronts. We plan to further miniaturize the Aquastat, fitting the device into a single housing that wraps around a pipe, inclusive of the microphone. Furthermore, we plan to expand the data available on our web portal, and expand our front facing application to mobile devices.
                </p>
                <p>
                    As we expand the functionality of the Aquastat on all fronts, we will continue testing and refining our design with beta users, eventually leading to a fully manufactured product available to the public.
                </p>
                <h2>
                    Code
                </h2>
                <p>
                    Please find our code hosted on Gitlab:
                    <a href="https://gitlab.com/friend0/lighthill.git" rel="nofollow">
                        https://gitlab.com/friend0/lighthill.git
                    </a>
                    Our website can be found in this .zip:
                    <a href="https://www.dropbox.com/sh/o78mxo6jej7yx6d/AAD8hMG6Ov8Yk_JgltkZqEcZa?dl=0" rel="nofollow">
                        https://www.dropbox.com/sh/o78mxo6jej7yx6d/AAD8hMG6Ov8Yk_JgltkZqEcZa?dl=0
                    </a>
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/arduino">
                                arduino
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/artik">
                                artik
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            ble
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/c">
                                c
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/python">
                                python
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            simblee
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            teensy
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="http://www.droplytics.com/" rel="nofollow" target="_blank" title="http://www.droplytics.com/">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                www.droplytics.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

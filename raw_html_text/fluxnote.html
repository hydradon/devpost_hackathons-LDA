<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li class="text-center">
                        <a data-lightbox="561939" data-title="Magnetic pen writing test" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/561/939/datas/original.jpg">
                            <img alt="fluxnote &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/561/939/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Magnetic pen writing test
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="561938" data-title="Collecting magnetometer data" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/561/938/datas/original.jpg">
                            <img alt="fluxnote &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/561/938/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Collecting magnetometer data
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="561945" data-title="Magnitude of B-field along Z-axis vs distance" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/561/945/datas/original.png">
                            <img alt="fluxnote &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/561/945/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Magnitude of B-field along Z-axis vs distance
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="561946" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/561/946/datas/original.png">
                            <img alt="fluxnote &ndash; screenshot 4" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/561/946/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    What it does
                </h2>
                <p>
                    Fluxnote uses raw magnetic field strength data to detect rare-earth magnets within a specified boundary. It manipulates the Magnetometer API as implemented in Chrome 63 to calculate the polar coordinates of the magnet relative to a smartphone. Coupling this functionality with a magnetized stylus allowed for the creation of a completely paperless note-taking system.
                </p>
                <h2>
                    How we built it
                </h2>
                <p>
                    While we knew that mobile phones had basic 3-axis magnetometers that could measure magnetic flux density in three dimensions, we needed to find a way to exploit this data and translate raw flux density into the actual position of the magnet in 3D space. We first approached this problem by taking measurements of magnetic field strength at varying coordinates and making observations.
                </p>
                <p>
                    <img alt="bfield" data-canonical-url="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/561/945/datas/gallery.jpg" src="https://res.cloudinary.com/devpost/image/fetch/s--3MwvkUxx--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/561/945/datas/gallery.jpg">
                </p>
                <p>
                    After calibrating for the earth's magnetic field by averaging sensor values over a period of time and subtracting this value for future readings, the B-field (originating at a nearby magnet) at any point can be defined as:
                </p>
                <p>
                    <img alt="test" data-canonical-url="https://i.imgur.com/laFaxh2.png" src="https://res.cloudinary.com/devpost/image/fetch/s--uXtU9YMc--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://i.imgur.com/laFaxh2.png">
                </p>
                <p>
                    where B_y and B_x are the B-field measurements along the top and side of the phone, respectively. Then, the angle of the magnet from the axis perpendicular to the phone can be defined as
                </p>
                <p>
                    <img alt="angle" data-canonical-url="https://i.imgur.com/xZwPWNH.png" src="https://res.cloudinary.com/devpost/image/fetch/s--ZEvjAgjX--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://i.imgur.com/xZwPWNH.png">
                </p>
                <p>
                    The distance of the magnet to the phone is proportional to the inverse cubed root of the magnitude of B-field.
                </p>
                <p>
                    <img alt="d" data-canonical-url="https://i.imgur.com/k47ER5W.png" src="https://res.cloudinary.com/devpost/image/fetch/s--ED6s5xAg--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://i.imgur.com/k47ER5W.png">
                </p>
                <p>
                    Knowing magnitude and direction, we can solve for the x and y components of the position. Finally, we detect whether the pen is "writing" on the table with the following inequality.
                </p>
                <p>
                    <img alt="meme" data-canonical-url="https://i.imgur.com/S3wbEXf.png" src="https://res.cloudinary.com/devpost/image/fetch/s--oFD2wtEQ--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://i.imgur.com/S3wbEXf.png">
                </p>
                <p>
                    This gives us a decent estimate for the position in 3 dimensions of the magnet, and we can use this to draw things!
                </p>
                <h2>
                    What's next for fluxnote
                </h2>
                <p>
                    In the end, this is just a demonstration of what the underlying technology we have built has to offer. Using magnetometer data, we can build a variety of magnet-based accessibility tools, peripherals, controllers, and interfaces. In essence, Fluxnote explores lesser-known technology that can offer a cheaper, more accessible alternative to today's 3D motion tracking systems.
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/express-js">
                                express.js
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/fabric-js">
                                fabric.js
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/html5">
                                html5
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/javascript">
                                javascript
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/love">
                                love
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/magnet">
                                magnet
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/node-js">
                                node.js
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/socket-io">
                                socket.io
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/Ali-Ni/fluxnote" rel="nofollow" target="_blank" title="https://github.com/Ali-Ni/fluxnote">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li class="text-center">
                        <a data-lightbox="295224" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/295/224/datas/original.png">
                            <img alt="Income Explorer &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/295/224/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="295225" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/295/225/datas/original.png">
                            <img alt="Income Explorer &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/295/225/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="295226" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/295/226/datas/original.png">
                            <img alt="Income Explorer &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/295/226/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="295227" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/295/227/datas/original.png">
                            <img alt="Income Explorer &ndash; screenshot 4" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/295/227/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    Maps of income often only portray average or median income, providing only a partial view on the distribution of income in a particular geographic area.  Additional insight can be gained by considering the entire distribution of incomes.
                </p>
                <p>
                    This project was inspired by the need to better identify the range of incomes earned by households in different parts of the country.
                </p>
                <p>
                    Additionally, I wanted to automate map creation as much as possible.  From gathering and processing data to generating the map, I wanted everything to be done in code where possible.
                </p>
                <p>
                    There are a number of use cases possible for this data, but I had two specific cases in mind:
                </p>
                <h3>
                    1. Identifying low-income areas where many people are likely to be eligible for tax credits.
                </h3>
                <p>
                    This use case is in support of an earlier project of mine:
                    <a href="http://www.baltimoretaxcredit.com" rel="nofollow">
                        The Baltimore Tax Credit Map
                    </a>
                </p>
                <h3>
                    2. Finding areas where housing might be found that matches a family's income
                </h3>
                <p>
                    This use was inspired by the challenge of trying to understand suitable places to live for a given income level, especially when moving to a new city.
                </p>
                <p>
                    Visual styling and implementation was influenced by a recent
                    <a href="http://www.washingtonpost.com/news/wonkblog/wp/2015/09/17/cold-weather-person-or-hot-weather-lover-this-map-shows-where-you-belong/" rel="nofollow">
                        WaPo visualization by Christopher Ingraham and Lazaro Gamio
                    </a>
                    and
                    <a href="http://bl.ocks.org/mbostock/4060606" rel="nofollow">
                        this choropleth by Mike Bostock
                    </a>
                    .
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    The project is a series of interactive maps that allow users to view the relationship between income and location.  Users can choose an income range and see where in the a given city, county, state or larger region that people with annual household incomes in that range live.  Exploration is encouraged and quickly reveals high income, low income, and middle class areas.  Maps will be included for several major urban areas, though more can be generated on demand.
                </p>
                <h2>
                    How I built it
                </h2>
                <p>
                    The project consists of two primary components:
                </p>
                <h3>
                    1. Data gathering and cleaning
                </h3>
                <p>
                    Python scripts were written to gather income data from the US Census.  This effort was assisted by use of the
                    <a href="https://github.com/sunlightlabs/census" rel="nofollow">
                        Sunlight Foundation Census API
                    </a>
                    .  Additionally, collection of necessary
                    <a href="https://www.census.gov/geo/maps-data/data/tiger-line.html" rel="nofollow">
                        TIGER shape files
                    </a>
                    was automated with Python.
                </p>
                <p>
                    Data from the census was cleaned and organized using
                    <code>
                        pandas
                    </code>
                    .  TIGER shapefiles were processed and filtered using
                    <code>
                        geopandas
                    </code>
                    .  The end of this stage results in a census data file in
                    <code>
                        csv
                    </code>
                    format and a separate shapefile formatted as
                    <code>
                        geojson
                    </code>
                    .
                </p>
                <h3>
                    2. Map visualization
                </h3>
                <p>
                    Map visualization was done using
                    <a href="http://d3js.org/" rel="nofollow">
                        d3.js
                    </a>
                    .
                </p>
                <h2>
                    Challenges I ran into
                </h2>
                <p>
                    TIGER shapefiles for tracts and block groups are packaged for each state as a whole.  Often, we are interested in only mapping one or two counties and thus it is necessary to filter out only the regions of interest.  I managed to accomplish this using the Python module
                    <code>
                        geopandas
                    </code>
                    and filtering the shape data to only include regions that were specified by the user.
                </p>
                <p>
                    d3 is often counter-intuitive and difficult to work with.  The number of challenges I ran into with d3 are too many to list.
                </p>
                <h2>
                    Accomplishments that I'm proud of
                </h2>
                <h4>
                    On acquiring data:
                </h4>
                <p>
                    At this point, I'm very proud of wrangling the US Census and TIGER shape data into submission.  There is a wide variety of information available from the US Census website, but understanding exactly what's available and how to get it is challenging.
                </p>
                <p>
                    Even using an API, it can be difficult to figure out exactly what information is available.  The
                    <a href="http://factfinder.census.gov/faces/nav/jsf/pages/index.xhtml" rel="nofollow">
                        American FactFinder site
                    </a>
                    was very helpful in this regard.  Once the desired data has been identified, the proper
                    <a href="http://quickfacts.census.gov/qfd/meta/long_fips.htm" rel="nofollow">
                        FIPS codes
                    </a>
                    and
                    <a href="http://api.census.gov/data/2013/acs5/variables.html" rel="nofollow">
                        Variable codes
                    </a>
                    have to be found in order to automate data acquisition. Just managing to figure out how to automate this process was an accomplishment.
                </p>
                <h4>
                    On visualization:
                </h4>
                <p>
                    I'm proud of the entire visualization.  Admittedly, a lot of it was only made possible by scouring and modeling off of similar projects, but just getting all the parts working together was a challenge.  This is one of my few projects with any real amount of interactivity or significant UI elements.  Getting maps to render properly is challenging.  Styling the shape fills based on data is challenging.  Having everything update properly when sliders and selections change is also challenging.
                </p>
                <p>
                    Honestly, I'm still amazed the visualization works at all.
                </p>
                <h2>
                    What I learned
                </h2>
                <p>
                    This is perhaps the most modular and reproducible mapping effort I have made to date.  Other than looking up county codes and census attribute codes, map generation is fully automated without any reliance on manual tools.  I have tested the code and found that it readily extends to multiple scales.  I also learned to manage my time pretty well given the ground that had to be covered for this project in less than 48 hours.
                </p>
                <h2>
                    What's next for Income Explorer
                </h2>
                <p>
                    For data gathering, I intend to polish up my existing python code to make it more readily extensible to acquiring data from many metropolitan areas as well as attributes beyond household income.
                </p>
                <p>
                    On the visualization side, I plan to add additional interactive elements such as shape highlighting on mouseover as well as detailed tooltips.  Site design and styling can use improvement as well.
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag">
                            census-api
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/d3-js">
                                d3.js
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            geopandas
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/javascript">
                                javascript
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/jquery">
                                jquery
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/pandas">
                                pandas
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/python">
                                python
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="http://ryan-j-smith.github.io/income-explorer/" rel="nofollow" target="_blank" title="http://ryan-j-smith.github.io/income-explorer/">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                ryan-j-smith.github.io
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

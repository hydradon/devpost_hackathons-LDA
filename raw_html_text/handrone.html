<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/yIXIMnxZkXk?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="890771" data-title="The drone, controller, LeapMotion and MX Master 3" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/890/771/datas/original.jpeg">
                            <img alt="HanDrone &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/890/771/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                The drone, controller, LeapMotion and MX Master 3
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    We believe that the drone experience is pretty immersive thanks to FPV goggles, but you still need to control them with a regular controller which we don't believe to be a very intuitive method. This is because you must control movement in three different axis and the throttle. That's why we came up with HanDrone, to provide a more natural and fun alternative.
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    The basic function of HanDrone is very simple. Put your hand on top of the LeapMotion, and the drone will mirror your movements! We also offer support to control some or all of the axis through a Logitech MX Master 3 mouse, for a two-handed control experience. Our software allows adding more control methods easily as well.
                </p>
                <h2>
                    How we built it
                </h2>
                <p>
                    The main challenge was to hack a drone controller to send commands from the computer. We did this by modifying the firmware, which we had the source for but it had no documentation except some comments written in Chinese. We managed to hack in some code to communicate with the PC via USB (which wasn't possible before) so we could override the values sent to the drone by the controller through that interface. This way we completely bypass the controller and use it as a simple transmitter.
                </p>
                <p>
                    To use the LeapMotion and the Logitech MX Master 3 we used the manufacturer provided SDKs and adapted the different control planes they offered to use with the drone. After some finessing with the parameters, we had it working!
                </p>
                <h2>
                    Challenges we ran into
                </h2>
                <p>
                    During the process of hacking the controller, we faced some challenges with the firmware. We had to work with a microcontroller nobody had worked before, the comments were sparse and in Chinese, and a lot of things had to be done. We discovered that the chip had a connection with the USB controller through an USART interface, and we had to configure the chip's CSRs to use the DMA controller and read the data the PC was sending through a USB-Serial interface. That took some trial and error!
                </p>
                <p>
                    We had some set-up problems as well to find the intersection of the set of computers that could run LeapMotion with the set that could run the new Logitech SDK.
                </p>
                <h2>
                    What we learned
                </h2>
                <p>
                    This was a very fun mix of hardware and software challenges, and while we hustled we found out a lot about drone controllers and the protocols involved, how the different values are calculated, and how to build controllers that feel natural.
                </p>
                <h2>
                    What's next for HanDrone
                </h2>
                <p>
                    We have open-sourced our modifications to the drone controller firmware so anyone can take inspiration or use it to control their drone.
                </p>
                <p>
                    Possible future improvements to the project could be:
                </p>
                <ul>
                    <li>
                        Adding more control methods.
                    </li>
                    <li>
                        Use the feedback from the drone camera to do something interesting :)
                    </li>
                </ul>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag">
                            drone
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/leap-motion">
                                leap-motion
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            logitech
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/python">
                                python
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/GonMolon/HanDrone" rel="nofollow" target="_blank" title="https://github.com/GonMolon/HanDrone">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/pSMRV4lhEyU?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="715776" data-title="Architecture" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/715/776/datas/original.png">
                            <img alt="Strictly for education -120 crawl bots with low memory &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/715/776/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Architecture
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="717822" data-title="Detailed AWS Architecture" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/717/822/datas/original.png">
                            <img alt="Strictly for education -120 crawl bots with low memory &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/717/822/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Detailed AWS Architecture
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="717851" data-title="Crawl data" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/717/851/datas/original.png">
                            <img alt="Strictly for education -120 crawl bots with low memory &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/717/851/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Crawl data
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="717868" data-title="crawl data" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/717/868/datas/original.png">
                            <img alt="Strictly for education -120 crawl bots with low memory &ndash; screenshot 4" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/717/868/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                crawl data
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration - Large Scale Crawls take 1.5 million dollars, I want to rethink the way of how crawls can be optimized to run on low memory and hence save lot of money on ec2 instances and enable high parallel writes to mysql database.
                </h2>
                <h2>
                    What it does
                </h2>
                <p>
                    ==&gt; Language Detection &ndash; English , German , Japanese, &hellip; etc. upto 54 languages of home page.
==&gt; Email Address , Phone number and Address Extraction (city, Zipcode and State) .
==&gt; Stop words removal, Text Normalization and outgoing links extraction.
==&gt; Outgoing Links &ndash; Programmed for 8 links outgoing inner links from the home page to the neighbouring pages (1 hops).
==&gt; Keyword Analysis of the Body text of a URL HTML page &ndash; Key =&gt; Words , Value =&gt; Counts (frequency of words in a html document).
==&gt; Duplicate Finder &ndash; returns true of it finds duplicates of text across the 9 URLS of a ROOT webpage. MD5 Hash Algorithm is used for cross checking the duplicates.
==&gt;  Link Discover &ndash; Automatically Discover Links that has contact us or about us page and extracts the phone number and email address.
==&gt;  User Agent Rotator &ndash; Rotates the User Agent &ndash; with different User Agent Strings.
==&gt;  Facebook  open graph tag extractor &ndash; title , description ,url etc.
                </p>
                <h2>
                    How I built it
                </h2>
                <p>
                    ==&gt;  Avoiding objects &ndash; Specially Class Objects &ndash; Objects are heavy weight occupying 48 bytes.
==&gt;  Use Global Instance Static Classes &ndash; that is common and can be shared across instances.
==&gt;  Byte[] and Str[] instead of Strings and Collections.
==&gt;  Parallel arrays where &ndash; a[key] and a[value] takes less space and more memory efficient than Collections map 
and List.
==&gt;  Map Collections used with final static &ndash; with fixed size . Eg: Map container = new ==&gt; 
==&gt;  HashMap(1), defines Map of size 1.
==&gt;  Creates Arrays of fixed size only on demand , array of byte takes less bytes than String.
==&gt;  StringBuilder() instead of String has drastically reduced the memory space.
==&gt;  Use of short instead of int , volatile instead of final .
==&gt;  Security &ndash; Classes are final as they cannot be extended or override or overloaded.
==&gt;  AtomicBoolean , AtomicInteger &ndash; Helps maintain dedicated variable in a multi threaded environment.
==&gt;  Singleton Pattern for Thread safe class access.
==&gt;   Static classes and methods stored in Permanent Generation or metaspace as it reduces the GC Pauses.
==&gt;   Use of in maven to prevent unused classes to be loaded in JVM Runtime . Please refer to AmazonAurora/pom.xml for the exclusions.
==&gt;  -XX:MaxGCPauseMillis=80 (in milliseconds) - This JVM parameter will make your JVM more responsive and 
highly available for crawling as it reduces the time taken for GC Pauses.
==&gt;  Crash Proof &ndash; Fault Tolerance &ndash; Persisting and saving the serialized file to /home/ec2-user for reloading the file 
incase the JVM abruptly shutsdown.
                </p>
                <h2>
                    Challenges I ran into
                </h2>
                <p>
                    ==&gt; CRAWLER BREAKS IN MIDDLE DUE TO UNHANDLED EXCEPTIONS
==&gt; OUT OF MEMORY ERROR OCCURRED FREQUENTLY DUE TO CLASS LEVEL OBJECTS .
==&gt; URL REDIRECTS &ndash; 301 , 302 HTTP STATUS CODES LEAD TO CRAWL JOBS RUNNING INFINITELY. 
==&gt; USED VM PROFILE FOR PROFILING APPLICATION &ndash; LOT OF MEMORY SPENT ON STRING 
MANIPULATION , STRING CONCATENATION AND STRING APPENDING &ndash; HENCE REPLACED WITH 
STRINGBUILDER.
==&gt; START,TEST,STOP &ndash; MEMORY PROFILING &ndash; LEARNT HOW TO OPTIMIZE JVM TO RUN ON LOW MEMORY 
AND HOW TO TUNE YOUNG GENERATION.
==&gt; I COULD HAVE MADE MY LIFE EASY USING DOCKER BUT REFRAINED FROM IT DUE TO LOW MEMORY 
ENVIRONMENT.
                </p>
                <h2>
                    Accomplishments that I'm proud of
                </h2>
                <p>
                    ==&gt; Crawler has been tested to run for more than 4 hours with no Out of Memory Exceptions
==&gt; Successfully Crawled 20,000 Seed URLs with no crawl breaks in between. 
==&gt; Gracefully shutsdown with no memory leak.
==&gt; Saved lots of dollars without spinning up large instances.
                </p>
                <h2>
                    What I learned
                </h2>
                <p>
                    ==&gt; Don't start off with highly complex code - Start with very minimal design and add complexity as it goes further.
==&gt; It looks very simple at first , but becomes complex as we approach the problem hands - on (coding) - try to 
research the web and get more inputs before jumping right off with coding.
==&gt; Design is really important than developing code for the application.
==&gt; Costs can be reduced in many ways - Use resources optimally and dont hard code your secret tokens in github 
code - as my aws account got compromised recently.
                </p>
                <h2>
                    What's next for Web Crawling using Swarm of 120 robots with low memory
                </h2>
                <p>
                    ==&gt; Developing SEO based website optimized Crawling - Integration with Natural Processing Libraries for 
                    understanding texts , articles, news etc.
==&gt; Ecommerce based price comparison Crawler and location data extraction crawler.
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag">
                            amazonec2
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            auroramysql
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            datascraper
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            duplicatedetection
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            emailextraction
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            facebookopengraphextractor
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            hashing
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            java8
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            keywordseoanalyzer
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            language-detection
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            linkdiscovery
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/maven">
                                maven
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            md5
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            meta-tag-extractor
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            microservices
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/natural-language-processing">
                                natural-language-processing
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            phonenumberextraction
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            serialization
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            springboot
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            webcrawler
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/krithivasanchandran/amazonaurora" rel="nofollow" target="_blank" title="https://github.com/krithivasanchandran/amazonaurora">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/krithivasanchandran/AuroraMasterNode" rel="nofollow" target="_blank" title="https://github.com/krithivasanchandran/AuroraMasterNode">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

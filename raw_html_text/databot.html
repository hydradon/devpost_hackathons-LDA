<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://player.vimeo.com/video/226072249?byline=0&amp;portrait=0&amp;title=0#t=" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="520756" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/520/756/datas/original.png">
                            <img alt="Your friendly neighborhood DataBot &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/520/756/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h1>
                    Your friendly neighborhood DataBot
                </h1>
                <h2>
                    Inspiration
                </h2>
                <p>
                    Let's start with a story. Joe and Jane has a weekly staff meeting with Alexa and a big screen in the room.
                </p>
                <ul>
                    <li>
                        <strong>
                            Joe
                        </strong>
                        : Alexa, which tickets are due tomorrow?
                    </li>
                    <li>
                        <strong>
                            Alexa
                        </strong>
                        : There are 5 tickets due tomorrow.
                        <ul>
                            <li>
                                <em>
                                    Alexa updates screen to show the 5 tickets in question
                                </em>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <strong>
                            Jane
                        </strong>
                        : Alexa, of these, which are critical?
                    </li>
                    <li>
                        <strong>
                            Alexa
                        </strong>
                        : There are 2 critical tickets due tomorrow.
                        <ul>
                            <li>
                                <em>
                                    Alexa updates screen to show the 2 tickets in question
                                </em>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <strong>
                            Joe
                        </strong>
                        : Jane, I need you to fix this! Alexa. assign these to Jane...
                    </li>
                    <li>
                        <strong>
                            Alexa
                        </strong>
                        : Assigning 2 critical tickets due tomorrow to Jane...
                    </li>
                    <li>
                        <em>
                            Jane sighs and leaves the room
                        </em>
                    </li>
                </ul>
                <h2>
                    Introduction
                </h2>
                <p>
                    What if you could have Alexa with you in a meeting and just ask her to display data using natural language?
                </p>
                <p>
                    Your friendly neighborhood DataBot, is an experiment in how a user interface for exploring data via natural language could work. How it could be a operational tool to augment your and your teams decision making.
                </p>
                <p>
                    And before you get too excited, this is only a first small step.
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    It takes a question through Slack, interprets it and retrieves data from ZenDesk.
                </p>
                <h3>
                    E.g. to check if there are any tickets which requires your attention
                </h3>
                <ul>
                    <li>
                        Do we have any open critical tickets?
                    </li>
                    <li>
                        Were there any tickets due during last 7 days?
### E.g. to do some basic calculations
                    </li>
                    <li>
                        What is the average age of open tickets?
                    </li>
                    <li>
                        What is the average age of open tickets created during last 7 days?
### E.g. or just to view them
                    </li>
                    <li>
                        Which tickets were created during last 2 weeks?
                    </li>
                    <li>
                        Which tickets are due tomorrow?
### And finally, you can ask to view them
                    </li>
                    <li>
                        Can I see them?
                    </li>
                    <li>
                        Show me
                    </li>
                </ul>
                <p>
                    These will give you a link to a Results viewer, which is kept up-to-date in real-time.
                </p>
                <h2>
                    How it works
                </h2>
                <p>
                    There are two main parts in the DataBot,
                </p>
                <ul>
                    <li>
                        <strong>
                            Bot/natural language interface
                        </strong>
                        - Main interface for interacting with DataBot
                    </li>
                    <li>
                        <strong>
                            Results viewer
                        </strong>
                        - Web page where results can be viewed, kept updated in "real-time".
                    </li>
                </ul>
                <h3>
                    Bot/natural language interface
                </h3>
                <p>
                    User enters something in Slack which forwards this to an AWS Lex Bot
                    <code>
                        bot-definition.json
                    </code>
                    .
This bot matches utterance against intent, and sends it to lambda function,
                    <code>
                        databot_handle_input
                    </code>
                    .
                </p>
                <p>
                    <code>
                        databot_handle_input
                    </code>
                    is the main processing stage, where request from Lex is transformed to a query against ZenDesk Search API (using
                    <code>
                        DataQuery
                    </code>
                    ,
                    <code>
                        DataMetric
                    </code>
                    ).
The query is validated as necessary and the executed. And result returned to user.
                </p>
                <p>
                    When a query has been executed, it's result is also published through AWS IoT, using MQTT. The results are published row by row through to a MQTT topic. Handled by lambda
                    <code>
                        databot_publish
                    </code>
                </p>
                <p>
                    The bot definition itself is quite "flat" - ideally each question should result in a Fulfillment. This might be straying a bit outside how a Lex bot should work, but as long is it
                    <em>
                        does
                    </em>
                    work.
                </p>
                <h3>
                    Results viewer
                </h3>
                <p>
                    The user can also view results what he's asking from DataBot in the Results viewer.
The Results viewer is a simple Single Page Application which fetches latest result on first load and subscribes to any updated published by DataBot.
                </p>
                <p>
                    The initial results are fetched via an API call, handled by lambda
                    <code>
                        databot_get_results
                    </code>
                    .
                </p>
                <p>
                    The viewer starts a subscription via an API call. This results in an endpoint through which an MQTT subscription can be started. Handled by lambda
                    <code>
                        databot_subscribe
                    </code>
                </p>
                <h3>
                    Session
                </h3>
                <p>
                    When a user starts a conversation with DataBot a new session is automatically created. The active query is attached to the session, and the session is what ties Bot interface and the Results viewer.
                </p>
                <p>
                    A good side-effect of this is that Results viewer is a simple link, which can be shared far and wide. There are security implications too, see below.
                </p>
                <p>
                    Sessions are persisted in a simple Dynamo DB table,
                    <code>
                        databot_sessions
                    </code>
                    .
                </p>
                <h3>
                    Technologies used
                </h3>
                <ul>
                    <li>
                        AWS Lex - Used for main bot interface.
                    </li>
                    <li>
                        AWS Lambda - Application logic
                    </li>
                    <li>
                        AWS API Gateway - Expose lambdas as REST APIs
                    </li>
                    <li>
                        AWS S3 - Hosting for Results viewer
                    </li>
                    <li>
                        ZenDesk API - Through Zenpy Python library. Requesting data from ZenDesk
                    </li>
                    <li>
                        DynamoDB - Session persistence.
                    </li>
                    <li>
                        AWS IoT - Publish and subscribe to live results from DataBot
                    </li>
                </ul>
                <h2>
                    Challenges
                </h2>
                <p>
                    Putting together the smorgasbord of options which AWS offers can be daunting at times. Especially when security and IAM roles get involved.
E.g. my initial take would have had session persistence in RDS, but I abandoned this because I couldn't get Lambda to connect to RDS.
                </p>
                <p>
                    Configuring the bot in Lex itself took a lot of experimentation, and I had to take down initial scope to accommodate (perhaps imagined) limitations. I still prefer Lex before regexp:ing my way through it though... :-)
                </p>
                <p>
                    Testing lambda code locally is possible, but I often ran in into small, subtle changes between the environments.
                </p>
                <p>
                    Deployment and management of Lambda code is something that is not handled very elegantly in this project. There's a rudimentary bash-script, but not enough for production use in any way.
                </p>
                <p>
                    Since this has been an exploratory project in many respects, there wasn't a fully fleshed out design from the get-go. Which rears it's ugly head once or twice in the code. E.g. class
                    <code>
                        HumanReadable
                    </code>
                    is an mess of if's and else's...
                </p>
                <p>
                    My Python package management in this project is haphazard.
                </p>
                <h3>
                    Performance
                </h3>
                <p>
                    All queries for data goes through to the ZenDesk API. This limits the practical amount of data which can be processed. The the real-world usage of DataBot would be to review limited amounts of operational data (100s of entries), so this is a workable limitation.
                </p>
                <p>
                    However, some queries are invalid due to the number of requests it would result against ZenDesk API (e.g. all closed tickets).
                </p>
                <h3>
                    Security
                </h3>
                <p>
                    Note that anyone who knows the session_id can get access to the list of tickets displayed by the active query in the session.
In a fully fleshed out product, this should probably be tried to some kind of authentication mechanism.
                </p>
                <h2>
                    Accomplishments that I'm proud of
                </h2>
                <p>
                    Tying this all together in a short amount of time using mostly new technologies.
                </p>
                <h2>
                    What I learned
                </h2>
                <p>
                    A ton of new AWS technologies and their possibilities and challenges.
Better understanding of the possibilities and limitations of AWS Lex.
New found respect for the Lambda programming model.
                </p>
                <h2>
                    What's next for DataBot
                </h2>
                <p>
                    Potential next steps for DataBot
                </p>
                <ul>
                    <li>
                        Combine current processing logic with Speech recognition
                    </li>
                    <li>
                        Real-world testing (does the story match the reality?)
                    </li>
                    <li>
                        Including different data sources (e.g. JIRA)
                    </li>
                    <li>
                        Adding data to calculate on (currently only number of and age)
                    </li>
                    <li>
                        Adding support to query more entities (e.g. Agents, users, organizations in ZenDesk)
                    </li>
                    <li>
                        Reference previous result set (As example see second question in story above)
                    </li>
                </ul>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/amazon-web-services">
                                amazon-web-services
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            aws-iot
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            aws-lambda
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/javascript">
                                javascript
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            lex
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/python">
                                python
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/matslundberg/dataexplorerbot" rel="nofollow" target="_blank" title="https://github.com/matslundberg/dataexplorerbot">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

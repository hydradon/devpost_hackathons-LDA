<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/Y1DfFQbkmYM?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="906239" data-title="The components of the Tensorflow environment I used." href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/906/239/datas/original.png">
                            <img alt="Psychopathology Assistant &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/906/239/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                The components of the Tensorflow environment I used.
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="906240" data-title="The custom model I built and it's proposal for a residual block containing convolutions." href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/906/240/datas/original.png">
                            <img alt="Psychopathology Assistant &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/906/240/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                The custom model I built and it's proposal for a residual block containing convolutions.
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="906241" data-title="The model was trained with Google Colab using GPUs, and a confusion matrix after only 10 epochs." href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/906/241/datas/original.png">
                            <img alt="Psychopathology Assistant &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/906/241/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                The model was trained with Google Colab using GPUs, and a confusion matrix after only 10 epochs.
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="906242" data-title="About the public dataset I used with the Kaggle API." href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/906/242/datas/original.png">
                            <img alt="Psychopathology Assistant &ndash; screenshot 4" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/906/242/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                About the public dataset I used with the Kaggle API.
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="906243" data-title="The structure of the hardware used for tflite serving and real-tiem streaming after quantization and deployment." href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/906/243/datas/original.png">
                            <img alt="Psychopathology Assistant &ndash; screenshot 5" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/906/243/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                The structure of the hardware used for tflite serving and real-tiem streaming after quantization and deployment.
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="906244" data-title="Screenshots of the web platform with the technologies used." href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/906/244/datas/original.png">
                            <img alt="Psychopathology Assistant &ndash; screenshot 6" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/906/244/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Screenshots of the web platform with the technologies used.
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <p>
                    <br>
                </p>
                <p>
                    <a href="https://github.com/RodolfoFerro/psychopathology-fer-assistant" rel="nofollow">
                        <img alt="Logo" data-canonical-url="https://raw.githubusercontent.com/RodolfoFerro/psychopathology-fer-assistant/master/assets/logo.png" src="https://res.cloudinary.com/devpost/image/fetch/s--lAlu86au--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://raw.githubusercontent.com/RodolfoFerro/psychopathology-fer-assistant/master/assets/logo.png">
                    </a>
                    <br>
                </p>
                <h3>
                    Psychopathology Assistant
                </h3>
                <p>
                    Because mental health matters.
                    <br>
                    <a href="https://youtu.be/Y1DfFQbkmYM" rel="nofollow">
                        <strong>
                            View the demo &raquo;
                        </strong>
                    </a>
                    <br>
                </p>
                <p>
                </p>
                <h2>
                    Table of Contents
                </h2>
                <ul>
                    <li>
                        <a href="#about-the-project" rel="nofollow">
                            About the Project
                        </a>
                        <ul>
                            <li>
                                <a href="#motivation" rel="nofollow">
                                    Motivation
                                </a>
                            </li>
                            <li>
                                <a href="#built-with" rel="nofollow">
                                    Built With
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="#getting-started" rel="nofollow">
                            Getting Started
                        </a>
                        <ul>
                            <li>
                                <a href="#prerequisites" rel="nofollow">
                                    Prerequisites
                                </a>
                            </li>
                            <li>
                                <a href="#installation" rel="nofollow">
                                    Installation
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="#usage" rel="nofollow">
                            Usage
                        </a>
                        <ul>
                            <li>
                                <a href="#data-exploration" rel="nofollow">
                                    Data Exploration
                                </a>
                            </li>
                            <li>
                                <a href="#model-training" rel="nofollow">
                                    Model Training
                                </a>
                            </li>
                            <li>
                                <a href="#web-application" rel="nofollow">
                                    Web Application
                                </a>
                            </li>
                            <li>
                                <a href="#model-serving" rel="nofollow">
                                    Model Serving
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="#roadmap" rel="nofollow">
                            Roadmap
                        </a>
                    </li>
                    <li>
                        <a href="#license" rel="nofollow">
                            License
                        </a>
                    </li>
                    <li>
                        <a href="#contact" rel="nofollow">
                            Contact
                        </a>
                    </li>
                    <li>
                        <a href="#acknowledgements" rel="nofollow">
                            Acknowledgements
                        </a>
                    </li>
                </ul>
                <h2>
                    What it does
                </h2>
                <p>
                    <a href="https://www.youtube.com/watch?v=Y1DfFQbkmYM" rel="nofollow">
                        <img alt="IPsychopathology Assistant" data-canonical-url="https://img.youtube.com/vi/Y1DfFQbkmYM/0.jpg" src="https://res.cloudinary.com/devpost/image/fetch/s--Uop2E0_B--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://img.youtube.com/vi/Y1DfFQbkmYM/0.jpg">
                    </a>
                </p>
                <p>
                    An intelligent assistant platform to track psychopathology patients' responses during face-to-face and remote sessions.
                </p>
                <p>
                    This platform makes use of a machine learning algorithm capable of tracking and detecting facial expressions to identify associated emotions through a camera. This allows the corresponding medical staff to take care of their patients by creating medical records supported by the artificially intelligent system, so they can follow-up the corresponding treatments.
                </p>
                <h2>
                    Inspiration
                </h2>
                <p>
                    Some facts:
                </p>
                <ul>
                    <li>
                        Anxiety disorders, Mood disorders, Schizophrenia and psychotic disorders, Dementia...
                    </li>
                    <li>
                        Over 50 percent of all people who die by suicide suffer from major depression
                    </li>
                    <li>
                        Most of these disorders are treated primarily through medications and psychotherapy
                        <strong>
                            THIS IS THE MAIN REASON OF THE PLATFORM AS A COMPLEMENTARY SOLUTION
                        </strong>
                    </li>
                    <li>
                        As you may have had,
                        <strong>
                            I have had depression
                        </strong>
                        and I can only ask to my self "what are we doing to help others avoid or decrease their suffering?"
                    </li>
                </ul>
                <h5>
                    Mental health is important.
                </h5>
                <p>
                    And as I have mentioned,
                    <strong>
                        most of these disorders are treated primarily through medications and psychotherapy
                    </strong>
                    , and tracking the emotional responses of the patients during psychoterapy sessions may result important as this reveals progress on their treatment. This is why I am trying to help with this AI based platform.
                </p>
                <h2>
                    How I built it
                </h2>
                <p>
                    This project has been built with a lot of love, motivation to help others and
                    <a href="https://www.python.org/" rel="nofollow">
                        Python
                    </a>
                    , using:
                </p>
                <ul>
                    <li>
                        <a href="https://www.tensorflow.org/" rel="nofollow">
                            Tensorflow 2.0
                        </a>
                        <img data-canonical-url="https://www.gstatic.com/devrel-devsite/prod/v9d570efc814a28024c8ff149d6de123f7f820fa81162ad936a6bcae349b1b74d/tensorflow/images/favicon.png" src="https://res.cloudinary.com/devpost/image/fetch/s--q7pdrHGV--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://www.gstatic.com/devrel-devsite/prod/v9d570efc814a28024c8ff149d6de123f7f820fa81162ad936a6bcae349b1b74d/tensorflow/images/favicon.png">
                    </li>
                    <li>
                        <a href="https://colab.research.google.com/" rel="nofollow">
                            Google Colab
                        </a>
                        (with its wonderful GPUs)
                    </li>
                    <li>
                        Model quantization with
                        <code>
                            tf.lite
                        </code>
                        for serving
                    </li>
                    <li>
                        A
                        <a href="https://www.raspberrypi.org/" rel="nofollow">
                            Raspberry Pi
                        </a>
                        Model 3B+
                    </li>
                    <li>
                        A real-time
                        <a href="https://www.palletsprojects.com/p/flask/" rel="nofollow">
                            Flask
                        </a>
                        and
                        <a href="https://plot.ly/dash/" rel="nofollow">
                            Dash
                        </a>
                        integration (along with
                        <a href="https://dash-bootstrap-components.opensource.faculty.ai/" rel="nofollow">
                            Dash Bootstrap Components
                        </a>
                        )
                    </li>
                    <li>
                        A real-time database, of course, from
                        <a href="https://firebase.google.com/" rel="nofollow">
                            Firebase
                        </a>
                    </li>
                    <li>
                        The
                        <a href="https://github.com/Kaggle/kaggle-api" rel="nofollow">
                            Kaggle API
                        </a>
                        to get the dataset
                    </li>
                </ul>
                <h2>
                    Getting Started
                </h2>
                <p>
                    To get a local copy up and running follow these simple steps.
                </p>
                <h3>
                    Prerequisites
                </h3>
                <p>
                    This is an example of how to list things you need to use the software and how to install them. For this particular section I will suppose that you already have git installed on your system.
                </p>
                <p>
                    For a general everview of the Raspberry Pi setup, you can check out my blog tutorial on
                    <a href="https://rodolfoferro.xyz/Setup-your-Raspberry-Pi-as-Google-Colab/" rel="nofollow">
                        how to setup your Raspberry Pi Model B as Google Colab (Feb '19) to work with Tensorflow, Keras and OpenCV
                    </a>
                    ,
                    <strong>
                        as those are the steps that we will follow
                    </strong>
                    . In any case, this specific setup can be seen in the corresponding
                    <a href="https://github.com/RodolfoFerro/psychopathology-fer-assistant/tree/master/rpi" rel="nofollow">
                        rpi
                    </a>
                    folder.
                </p>
                <h3>
                    Installation
                </h3>
                <ol>
                    <li>
                        Clone the
                        <code>
                            psychopathology-fer-assistant
                        </code>
                        repo:
                    </li>
                </ol>
                <pre class="language-nolang"><code>git clone https://github.com/RodolfoFerro/psychopathology-fer-assistant.git
</code></pre>
                <ol>
                    <li>
                        Create a virtual environment with Python 3.7. (For this step I will assume that you are able to create a virtual environment with
                        <code>
                            virtualenv
                        </code>
                        or
                        <code>
                            conda
                        </code>
                        , but in any case you can check
                        <a href="https://realpython.com/python-virtual-environments-a-primer/" rel="nofollow">
                            Real Python's post about virtual environments
                        </a>
                        .)
                    </li>
                    <li>
                        Install requirements using
                        <code>
                            pip
                        </code>
                        :
                    </li>
                </ol>
                <pre class="language-nolang"><code>pip install -r requirements.txt
</code></pre>
                <ol>
                    <li>
                        You may also need to create your own real-time database on Firebase and set the corresponding configuration variables on the
                        <code>
                            app/__init__.py
                        </code>
                        and
                        <code>
                            rpi/main.py
                        </code>
                        files.
                    </li>
                </ol>
                <h3>
                    Run the dashboard
                </h3>
                <p>
                    To run the dashboard you will need to get access to the MongoDB cluster by setting the
                    <code>
                        MONGO_URI
                    </code>
                    variable in the corresponding
                    <code>
                        db
                    </code>
                    file. Once you have done this and have installed the requirements, get the dashboard up and running with:
                </p>
                <pre class="language-nolang"><code>python run.py
</code></pre>
                <h2>
                    Usage
                </h2>
                <h3>
                    Data Exploration
                </h3>
                <p>
                    The dataset used for this project is the one published in the "
                    <a href="https://www.kaggle.com/c/challenges-in-representation-learning-facial-expression-recognition-challenge/data" rel="nofollow">
                        Challenges in Representation Learning: Facial Expression Recognition Challenge
                    </a>
                    " by Kaggle. This dataset has been used to train a custom model built with Tensorflow 2.0.
                </p>
                <p>
                    The data consists of 48x48 pixel grayscale images of faces. The faces have been automatically registered so that the face is more or less centered and occupies about the same amount of space in each image. The task is to categorize each face based on the emotion shown in the facial expression in to one of seven categories (0=Angry, 1=Disgust, 2=Fear, 3=Happy, 4=Sad, 5=Surprise, 6=Neutral). A sample of the dataset can be seen in the next image.
                </p>
                <p>
                </p>
                <img data-canonical-url="https://raw.githubusercontent.com/RodolfoFerro/psychopathology-fer-assistant/master/assets/5.png" src="https://res.cloudinary.com/devpost/image/fetch/s--u8xKKrYT--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://raw.githubusercontent.com/RodolfoFerro/psychopathology-fer-assistant/master/assets/5.png">
                <p>
                </p>
                <p>
                    If you would like to see the data exploration process, check out the notebook found in the
                    <a href="https://github.com/RodolfoFerro/psychopathology-fer-assistant/tree/master/data" rel="nofollow">
                        data folder
                    </a>
                    , or click on the following button to open it directly into Google Colab.
                </p>
                <p>
                    <a href="https://colab.research.google.com/github/RodolfoFerro/psychologist-assistant/blob/master/data/Data_exploration.ipynb" rel="nofollow">
                        <img alt="Open In Colab" data-canonical-url="https://colab.research.google.com/assets/colab-badge.svg" src="https://res.cloudinary.com/devpost/image/fetch/s--zH0r1GQ0--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://colab.research.google.com/assets/colab-badge.svg">
                    </a>
                </p>
                <h3>
                    Model Training
                </h3>
                <p>
                    After doing some research in the state of the art for Facial Expression Recognition tasks, I found that in "
                    <a href="https://www.sciencedirect.com/science/article/abs/pii/S016786551930008X" rel="nofollow">
                        Extended deep neural network for facial emotion recognition (EDNN)
                    </a>
                    " by Deepak Kumar Jaina, Pourya Shamsolmoalib, and Paramjit Sehdev (Elsevier &ndash; Pattern Recognition Letters 2019), the proposed model turns out to achieve better results in classification tasks for Facial Expression Recognition, and by the architecture metrics this network turns out to be a more lightweight model compared with others (such as LeNet or Mobile Net).
                </p>
                <p>
                    As part of the project development
                    <strong>
                        I have implemented from zero the proposed model using Tensorflow 2.0
                    </strong>
                    . For training I used the previously mentioned dataset from the "
                    <a href="https://www.kaggle.com/c/challenges-in-representation-learning-facial-expression-recognition-challenge/data" rel="nofollow">
                        Challenges in Representation Learning: Facial Expression Recognition Challenge
                    </a>
                    " by Kaggle
                    <strong>
                        on a Google Colab environment using GPUs
                    </strong>
                    . So far the model was trained
                    <strong>
                        for only 12 epochs using a batch size of 64
                    </strong>
                    . The training history can be seen in the following graphs:
                </p>
                <p>
                </p>
                <img data-canonical-url="https://raw.githubusercontent.com/RodolfoFerro/psychopathology-fer-assistant/master/assets/10_128_loss.png" src="https://res.cloudinary.com/devpost/image/fetch/s--JdLvSjKc--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://raw.githubusercontent.com/RodolfoFerro/psychopathology-fer-assistant/master/assets/10_128_loss.png">
                <img data-canonical-url="https://raw.githubusercontent.com/RodolfoFerro/psychopathology-fer-assistant/master/assets/10_128_acc.png" src="https://res.cloudinary.com/devpost/image/fetch/s--lTBnahZ5--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://raw.githubusercontent.com/RodolfoFerro/psychopathology-fer-assistant/master/assets/10_128_acc.png">
                <p>
                </p>
                <p>
                    Although the results may not seem quite good,
                    <strong>
                        the model has achieved an accuracy value of 0.4738 on the validation dataset with only 12 training epochs
                    </strong>
                    , with a result that could be part of the top 35 scores in the
                    <a href="https://www.kaggle.com/c/challenges-in-representation-learning-facial-expression-recognition-challenge/leaderboard" rel="nofollow">
                        challenge leaderboard
                    </a>
                    . We can get a general idea of the model performance in the confusion matrix:
                </p>
                <p>
                </p>
                <img data-canonical-url="https://raw.githubusercontent.com/RodolfoFerro/psychopathology-fer-assistant/master/assets/6.png" src="https://res.cloudinary.com/devpost/image/fetch/s--WzhVUO70--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://raw.githubusercontent.com/RodolfoFerro/psychopathology-fer-assistant/master/assets/6.png">
                <p>
                </p>
                <p>
                    The trained model architecture and quantized model with tflite (for the deployment in the Raspberry Pi) can be found in the
                    <a href="https://github.com/RodolfoFerro/psychopathology-fer-assistant/tree/master/model" rel="nofollow">
                        model folder
                    </a>
                    . Finally, if you want to re-train the model and verify the results by your own, or only if you have the curiosity to understand deeper the whole process of building and training the model with detail, check out the notebook found in the same folder, or click on the following button to open it directly into Google Colab.
                </p>
                <p>
                    <a href="https://colab.research.google.com/github/RodolfoFerro/psychopathology-fer-assistant/blob/master/model/Convolutional_model.ipynb" rel="nofollow">
                        <img alt="Open In Colab" data-canonical-url="https://colab.research.google.com/assets/colab-badge.svg" src="https://res.cloudinary.com/devpost/image/fetch/s--zH0r1GQ0--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://colab.research.google.com/assets/colab-badge.svg">
                    </a>
                    <br>
                    <br>
                </p>
                <blockquote>
                    <h5>
                        UPDATE:
                    </h5>
                    <p>
                        I have trained the same model with a research database (the
                        <a href="http://www.socsci.ru.nl:8180/RaFD2/RaFD" rel="nofollow">
                            Radboud Faces Database
                        </a>
                        ) obtaining an accuracy of 0.9563 with 50 epochs, a learning rate of 0.00001 and a batch size of 128; after doing some pre-processing and data augmentation. Anyway, due the priacy of the database I won't be able to share more details about this, but in any case PLEASE feel free to reach me at:
                        <a href="mailto:ferro@cimat.mx" rel="nofollow">
                            ferro@cimat.mx
                        </a>
                    </p>
                    <p>
                        As you may wonder about the results, the training history and the confusion matrix may illustrate more about them:
                    </p>
                    <p>
                        <img data-canonical-url="https://raw.githubusercontent.com/RodolfoFerro/psychopathology-fer-assistant/master/assets/50_acc.png" src="https://res.cloudinary.com/devpost/image/fetch/s--zrhlVaa1--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://raw.githubusercontent.com/RodolfoFerro/psychopathology-fer-assistant/master/assets/50_acc.png">
                        <img data-canonical-url="https://raw.githubusercontent.com/RodolfoFerro/psychopathology-fer-assistant/master/assets/50_cm.png" src="https://res.cloudinary.com/devpost/image/fetch/s--FytI4MdM--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://raw.githubusercontent.com/RodolfoFerro/psychopathology-fer-assistant/master/assets/50_cm.png">
                    </p>
                </blockquote>
                <h3>
                    Web Application
                </h3>
                <p>
                </p>
                <img data-canonical-url="https://raw.githubusercontent.com/RodolfoFerro/psychopathology-fer-assistant/master/assets/7.png" src="https://res.cloudinary.com/devpost/image/fetch/s--NvGJaVYO--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://raw.githubusercontent.com/RodolfoFerro/psychopathology-fer-assistant/master/assets/7.png">
                <p>
                </p>
                <p>
                    The web application is the base of interaction for the medical staff during the treatment sessions. This web platform aims to integrate a medical record for patients, and a realtime dashboard to make use of the AI power for the FER tasks during sessions.
                </p>
                <p>
                    The platform has been entirely developed with Python on top of a Flask and Dash integration, along with Dash Bootstrap Components for a more intuitive interaction. The platform serves a real-time plot that is served through the trained model that is deployed on de Raspberry Pi, which sends the data in real-time to a real-time database that is Firebase hosted. The platform already includes a login view (
                    <code>
                        user: rodo_ferro
                    </code>
                    ,
                    <code>
                        password: admin
                    </code>
                    ) to access the dashboard and patients' records.
                </p>
                <h3>
                    Model Serving
                </h3>
                <p>
                    The following image illustrates a general idea of the model serving on the Raspberry Pi:
                </p>
                <p>
                </p>
                <img data-canonical-url="https://raw.githubusercontent.com/RodolfoFerro/psychopathology-fer-assistant/master/assets/8.png" src="https://res.cloudinary.com/devpost/image/fetch/s--tDLalEW1--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://raw.githubusercontent.com/RodolfoFerro/psychopathology-fer-assistant/master/assets/8.png">
                <p>
                </p>
                <p>
                    Once that the model has been trained, saved,
                    <strong>
                        quantized
                    </strong>
                    and downloaded, the model has been ported into a Raspberry Pi model 3B+. The Raspberry Pi connects directly to the real-time database in Firebase to send the data as the deployed model predicts.
                </p>
                <p>
                    The script that serves as the interface between the Raspberry Pi and the database is capable of printing metrics of the model performance as well as the device performance during the time the model is serving its results. In general,
                    <strong>
                        the served model with tflite takes only ~3% of the Raspberry Pi CPU and the time of prediction is in the range (0.005, 0.015)
                    </strong>
                    , as you may see in the following example of its output:
                </p>
                <pre class="language-nolang"><code> * Time for face 0 det.: 0.0017399787902832031
    * Time for prediction: 0.0062448978424072266
 * Process ID: 50495
 * Memory 2.8620%
 * Emotion: Neutral

 * Time for face 0 det.: 0.0023512840270996094
 * Time for prediction: 0.0059719085693359375
 * Process ID: 50495
 * Memory 2.8629%
 * Emotion: Neutral

 * Time for face 0 det.: 0.0016210079193115234
 * Time for prediction: 0.006102085113525391
 * Process ID: 50495
 * Memory 2.8629%
 * Emotion: Neutral
</code></pre>
                <p>
                    The complete details on how to setup a Raspberry Pi and how to run the Python script to communicate with Firebase can be found inside the
                    <a href="https://github.com/RodolfoFerro/psychopathology-fer-assistant/tree/master/rpi" rel="nofollow">
                        rpi
                    </a>
                    folder.
                </p>
                <h2>
                    Challenges I ran into and What I learned
                </h2>
                <p>
                    One of the main challenges was to create a real-time dashboard without having much knowledge about web development, my major area of studies is mathematics, and this is why I found that Dash along with Flask may result in the most suitable technologies to tackle this area of necessity. The second main challenge (once I learned about creating the dashboard) was to create a real-time streaming service to save the data gathered by the deployed model. The solution was to integrate a Firebase real-time database and then connect the dashboard with the same database, so it could get updated in real-time. Finally, this is the first time I serve a trained model using tflite on a Raspberry Pi, and the Raspberry Pi for an outdated version was a struggle.
                </p>
                <p>
                    At the end, I learned that whenever you may think that you found no way out, the motivation may help you to find alternative solutions with new technologies.
                </p>
                <h2>
                    Accomplishments that I'm proud of
                </h2>
                <ul>
                    <li>
                        Building a custom model from a paper proposal
                    </li>
                    <li>
                        Serving the model on a Raspberry Pi using tflite
                    </li>
                    <li>
                        Sending real-time predictions to a real-time dashboard
                    </li>
                    <li>
                        Learning new technologies in a record time
                    </li>
                    <li>
                        <strong>
                            Start creating a platform that will help others
                        </strong>
                    </li>
                </ul>
                <h2>
                    What's next for Psychopathology Assistant
                </h2>
                <ul>
                    <li>
                        Develop own embedded device for the model deployment (which should already include a camera)
                    </li>
                    <li>
                        Improve user data aquisition through the real-time service
                    </li>
                    <li>
                        Add medical recording to database
                    </li>
                    <li>
                        Implement patients' medical records analytics
                    </li>
                    <li>
                        Add security metrics for medical records
                    </li>
                    <li>
                        <strong>
                            Test prototype with a psychologist/psychiatrist
                        </strong>
                    </li>
                </ul>
                <h2>
                    Contact
                </h2>
                <p>
                    Rodolfo Ferro -
                    <a href="https://twitter.com/FerroRodolfo" rel="nofollow">
                        @FerroRodolfo
                    </a>
                    -
                    <a href="mailto:rodolfoferroperez@gmail.com" rel="nofollow">
                        rodolfoferroperez@gmail.com
                    </a>
                </p>
                <p>
                    Project Link:
                    <a href="https://github.com/RodolfoFerro/psychopathology-fer-assistant" rel="nofollow">
                        https://github.com/RodolfoFerro/psychopathology-fer-assistant
                    </a>
                </p>
                <p>
                    IF YOU THINK THAT YOU CAN HELP ME TO HELP OTHERS, PLEASE DO NOT HESITATE TO CONTACT ME.
                </p>
                <h2>
                    Acknowledgements
                </h2>
                <ul>
                    <li>
                        Icons made by
                        <a href="https://www.flaticon.com/authors/smashicons" rel="nofollow">
                            Smashicons
                        </a>
                        from
                        <a href="https://www.flaticon.com/" rel="nofollow">
                            www.flaticon.com
                        </a>
                    </li>
                    <li>
                        Icons made by
                        <a href="https://www.flaticon.com/authors/flat-icons" rel="nofollow">
                            Flat Icons
                        </a>
                        from
                        <a href="https://www.flaticon.com/" rel="nofollow">
                            www.flaticon.com
                        </a>
                    </li>
                    <li>
                        Icons made by
                        <a href="https://www.flaticon.com/authors/becris" rel="nofollow">
                            Becris
                        </a>
                        from
                        <a href="https://www.flaticon.com/" rel="nofollow">
                            www.flaticon.com
                        </a>
                    </li>
                </ul>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag">
                            colab
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/dash">
                                dash
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            dash-bootstrap-components
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/firebase">
                                firebase
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/flask">
                                flask
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            kaggle-api
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/love">
                                love
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            motivation
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/python">
                                python
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/raspberry-pi">
                                raspberry-pi
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            tensorflow
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            tflite
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/RodolfoFerro/psychopathology-fer-assistant" rel="nofollow" target="_blank" title="https://github.com/RodolfoFerro/psychopathology-fer-assistant">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

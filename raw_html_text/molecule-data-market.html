<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/wCtf4nVn7gM?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="910471" data-title="System diagram, Ocean and Molecule" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/910/471/datas/original.png">
                            <img alt="Molecule Dataswap &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/910/471/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                System diagram, Ocean and Molecule
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="910470" data-title="User flow diagram" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/910/470/datas/original.png">
                            <img alt="Molecule Dataswap &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/910/470/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                User flow diagram
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="910718" data-title="Research project price history" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/910/718/datas/original.png">
                            <img alt="Molecule Dataswap &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/910/718/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Research project price history
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="910719" data-title="Research project data" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/910/719/datas/original.png">
                            <img alt="Molecule Dataswap &ndash; screenshot 4" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/910/719/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Research project data
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="910720" data-title="Research project" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/910/720/datas/original.png">
                            <img alt="Molecule Dataswap &ndash; screenshot 5" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/910/720/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Research project
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="910721" data-title="Research project details" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/910/721/datas/original.png">
                            <img alt="Molecule Dataswap &ndash; screenshot 6" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/910/721/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Research project details
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h1>
                    Molecule Dataswap
                </h1>
                <h2>
                    Inspiration
                </h2>
                <p>
                    Our team is releasing an application called Molecule Catalyst to mainnet the day after the submission deadline. Molecule Catalyst is a reward-based crowdfunding platform to incentivize the creation of novel scientific biotech and pharmaceutical research data and IP. Our inspiration was to create an integration between the Ocean Protocol and Molecule Catalyst, to enable DAO like management of research data produced from the projects funded via Molecule Catalyst, as well as monetizing the research data to improve the value of the Molecule Catalyst markets.
                </p>
                <p>
                    For example, for our first project on Catalyst, the University of Toronto Psychedelic Studies Research Program is running a large scale human study on micro-dosing psilocybin (see picture of study in image gallery). During the study the lab will administer pharmaceutical-grade psilocybin in a lab environment. This study will produce preliminary insights and a data set containing the actual results from patient experiments. These data-sets could then inform further academic study. All data and materials will be made available to the public - and this is a real running use case today, that would benefit from Ocean&rsquo;s system.
                </p>
                <p>
                    With Molecule Dataswap:
                </p>
                <ol>
                    <li>
                        Researchers create campaigns to receive funding for their research milestones.
                    </li>
                    <li>
                        Contributors are rewarded for their support through a token distribution.
                    </li>
                    <li>
                        At each research phase researchers are required to publish updates and data to prove their accomplishments and secure funding for that phase.
                    </li>
                    <li>
                        These datasets will then be published on the Ocean infrastructure where interested parties can buy them.
                    </li>
                    <li>
                        All proceedings from the sales are returned to the Token Bonding Curve to share the revenues with all supporters.
                    </li>
                </ol>
                <p>
                    We realize that in these markets, there is a lot of value in the research data being produced, and to incentivize further funding of the project the contributors need to be directly invested in the production of good research data. With Molecule Dataswap, built on the Ocean Protocol, we can achieve that.
                </p>
                <p>
                    Currently the Ocean Protocol has a static pricing system, and if data is the new oil, this needs to change. We believe we can greatly improve and build upon the Ocean Protocol feature set by introducing dynamic pricing and distributed ownership of datasets produced from the Molecule application.
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    Molecule Dataswap is a set of smart contracts and an oracle that allows data producers to fund the publication of a dataset, and offer access to the dataset at a dynamic price according to the state of the dataset bonded market. The dataset is essentially entered into and managed by a DAO, that fairly distributes Ocean token rewards to contributors in the form of dividends, and increases existing token holders&rsquo; token value.
                </p>
                <h2>
                    How we built it
                </h2>
                <p>
                    <strong>
                        Note:
                    </strong>
                    we couldn't use the Nile/Pacific networks for this challenge, as we were using some of the updated APIs and features such as service agreements, which seemed to have issues with the publicly deployed infrastructure. Instead we used Barge with a few adjustments to service versions - see
                    <a href="https://github.com/oceanprotocol/squid-py/issues/421" rel="nofollow">
                        https://github.com/oceanprotocol/squid-py/issues/421
                    </a>
                </p>
                <h3>
                    Dynamic Pricing
                </h3>
                <p>
                    Currently, the Ocean Protocol has static asset pricing. There are API endpoints for updating the asset metadata price via the Aquarius API. When introducing dynamic pricing, in our use case, the asset should be priced according to:
                </p>
                <ol>
                    <li>
                        The funding status of the project generating the data
                    </li>
                    <li>
                        The popularity of the dataset
                    </li>
                </ol>
                <p>
                    This is achieved by collecting the Ocean token rewards in a bonding curve collateral pool. A bonding curve is a function that defines the relationship between the token supply, underlying collateral (Ocean tokens), and the token price.
                </p>
                <p>
                    We used the token price to set the price of Ocean assets. This means, the more contributors a research project has, the higher the value of the token. The more popular the Ocean dataset is, and the more it is consumed, the more the initial contributors benefit by being token holders.
                </p>
                <h3>
                    Smart Contracts
                </h3>
                <p>
                    We forked the BC-DAO "Bonding Curves For DAOs" project as a good base for the bonding curve interface. We specifically needed to use an invariant preserving bonding curve implementation so that the function depends on the collateral deposited. The contracts were refactored to allow depositing Ocean ERC20 tokens without directly calling the bonded market functions like "buy" and "sell". This allowed us to set the bonded market as the Ocean Protocol beneficiary for asset consumption. Every time an asset is consumed, the Ocean reward is sent to the bonded market, which increases the underlying collateral - this dynamically adjusts the bonded token price.
                </p>
                <h3>
                    Oracle
                </h3>
                <p>
                    When the bonded token price changes, the oracle updates the Ocean token price of the relevant asset via the Aquarias API and the asset DDO metadata.
                </p>
                <h3>
                    UI/UX
                </h3>
                <p>
                    We designed our UI in Figma first, knowing that this was predominantly a contract and backend hack. You'll see we implemented certain parts of the frontend and left others.
                </p>
                <p>
                    The consumer needs to be aware of the price they are paying for a particular asset, as well as the price history. The price history gives the consumer an indication of the popularity of the asset, and ideally quality too. The higher quality assets should receive more funding and consumption, both of which contribute to the asset price.
                </p>
                <p>
                    Although not implemented in this hack, a basic price history graph was designed to communicate the above.
                </p>
                <p>
                    When a publisher creates an asset for consumption, they are given the option of which bonded market address they'd like to set as the beneficiary. The beneficiary is set and the DID ownership is transferred.
                </p>
                <h2>
                    Challenges we ran into
                </h2>
                <p>
                    We ended up choosing a hack that delved quite deep into the Ocean stack, tested the limits of our understanding of the Ocean stack, as well as the capabilities of the Ocean stack.
                </p>
                <p>
                    During the course of the Ocean challenge we opened 3 merge requests, and I think that's part of the value of a hackathon, learning and contributing back to the supporting project. Two of the MRs were merged, and the third MR is in progress.
                </p>
                <ol>
                    <li>
                        <a href="https://github.com/oceanprotocol/react-tutorial/issues/2" rel="nofollow">
                            https://github.com/oceanprotocol/react-tutorial/issues/2
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/oceanprotocol/aquarius/pull/226" rel="nofollow">
                            https://github.com/oceanprotocol/aquarius/pull/226
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/oceanprotocol/squid-py/issues/421" rel="nofollow">
                            https://github.com/oceanprotocol/squid-py/issues/421
                        </a>
                    </li>
                </ol>
                <p>
                    The Ocean ecosystem is composed of multiple micro-services, and most of the issues we ran into were because of versioning and out of date documentation. It was a learning experience, and we'd feel much more confident hacking with the Ocean Protocol in future.
                </p>
                <p>
                    There were also challenges related to asset ownership and permissions being transferred. In order to set the beneficiary, at least via the Squid API, the ownership and associated permissions are also transferred. This makes admin tasks like granting service agreement access difficult, and was a blocker for us wiring everything up. We realize there is probably a way to address this at a lower level, but not with the current API interfaces.
                </p>
                <h2>
                    Accomplishments that we're proud of
                </h2>
                <p>
                    We touched on almost all parts of the Ocean stack, made our first contributions to the various Ocean Protocol repos, and became familiar with what will most likely be an important feature in the Molecule application. This hack has a real world use case today, and once ready could easily be integrated into the Molecule stack.
                </p>
                <h2>
                    What we learned
                </h2>
                <ul>
                    <li>
                        The low level functionality of the Ocean Protocol
                    </li>
                    <li>
                        The intricacies of the Bancor &amp; BC-DAO bonding curve implementation
                    </li>
                    <li>
                        What an integration between Ocean and Molecule could look like
                    </li>
                </ul>
                <h2>
                    What's next for Molecule Dataswap
                </h2>
                <p>
                    In future we'll look into updating the contracts to be multi-collateral - this would mean Ocean would contribute value for dataset consumption, and perhaps other protocols could slot in elsewhere.
                </p>
                <p>
                    With further help from the Ocean team and more time, the different parts of our hack will surely find their way into the Molecule stack, and provide a useful feature of dynamic pricing on top of the Ocean Protocol.
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/javascript">
                                javascript
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/python">
                                python
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/solidity">
                                solidity
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://gitlab.com/linumlabs/ocean-challenge" rel="nofollow" target="_blank" title="https://gitlab.com/linumlabs/ocean-challenge">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                gitlab.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li class="text-center">
                        <a data-lightbox="566623" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/566/623/datas/original.png">
                            <img alt="DeepSquat &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/566/623/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="566304" data-title="Home page" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/566/304/datas/original.PNG">
                            <img alt="DeepSquat &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/566/304/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Home page
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="566569" data-title="Recording a squat from the front" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/566/569/datas/original.PNG">
                            <img alt="DeepSquat &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/566/569/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Recording a squat from the front
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="566570" data-title="Recording a squat from the side" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/566/570/datas/original.PNG">
                            <img alt="DeepSquat &ndash; screenshot 4" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/566/570/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Recording a squat from the side
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="566571" data-title="Not-so-good results for one of our team members (Green is good form, then yellow, orange, red worst); squat score of 1.5/3" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/566/571/datas/original.PNG">
                            <img alt="DeepSquat &ndash; screenshot 5" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/566/571/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Not-so-good results for one of our team members (Green is good form, then yellow, orange, red worst); squat score of 1.5/3
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="566577" data-title="One thing he did right: Knees don't move forward too far (deep learning model marks knee in green)" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/566/577/datas/original.PNG">
                            <img alt="DeepSquat &ndash; screenshot 6" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/566/577/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                One thing he did right: Knees don't move forward too far (deep learning model marks knee in green)
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="566578" data-title="One thing he did very wrong: An extremely shallow squat (model marks points in red)" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/566/578/datas/original.PNG">
                            <img alt="DeepSquat &ndash; screenshot 7" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/566/578/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                One thing he did very wrong: An extremely shallow squat (model marks points in red)
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="566579" data-title="One thing he did mildly wrong: head moves forward (model marks point in yelllow)" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/566/579/datas/original.PNG">
                            <img alt="DeepSquat &ndash; screenshot 8" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/566/579/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                One thing he did mildly wrong: head moves forward (model marks point in yelllow)
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="566580" data-title="One thing he did moderately wrong: back is rounded (model marks points in orange) " href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/566/580/datas/original.PNG">
                            <img alt="DeepSquat &ndash; screenshot 9" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/566/580/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                One thing he did moderately wrong: back is rounded (model marks points in orange)
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    The hardest part of working out is getting the correct technique. One of us worked with a personal trainer to perfect his barbell squat, and it took him
                    <em>
                        months
                    </em>
                    . While personal trainers are great, they're expensive and only work for certain people (who probably aren't college students). So, the idea of an "AI personal trainer" was born. What if an AI could 'watch' somebody do an exercise and provide feedback and tips on that person's technique, with just a few clicks? We're excited just thinking about the possibilities.
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    The DeepSquat app allows the user to take a front-view and side-view video of their squat using voice commands ("start" and "stop"). A very deep neural network finds keypoints on the user's body during their squat, which are used to evaluate how well the user is performing on six different attributes&mdash; whether their knees are moving too forward, whether their back is rounding, etc.&mdash; and give them an overall "squat score". In addition to the score, we provide specific feedback to allow the user to correct their biggest mistakes and improve their squat form.
                </p>
                <h2>
                    How we built it
                </h2>
                <p>
                    We extracted and modified a fully-convolutional neural network from the openpose library, and used python and Apple's CoreML library to convert the network to an iOS-readable format. We then wrote Swift code to parse the network's output into heatmaps for key points on the squatter's body (right-elbow, left-knee, etc.) Using the keypoints, we developed algorithms in Swift to evaluate the quality of a squat based on six attributes. This entire process was encapsulated by the app, which we developed in Swift. Frames from both the front-view and side-view video were inputted into the network and used for squat evaluation.
                </p>
                <h2>
                    Challenges we ran into
                </h2>
                <p>
                    Understanding the output of the neural network was a significant challenge. Since openpose is designed to be used with a wrapper class, there was very little information on the raw output of the network (which we'd need to use it in iOS). Using the little documentation we had, exploring the data, and making inferences, we finally did figure it out.
                </p>
                <p>
                    In addition, since the network was so large, it was not feasible to predict at a fps rate. Using the voice commands, we could extract the frame at the middle of the video (the "bottom" of the squat) and extracted keypoints from this frame and the "start" frame to evaluate squat attributes, which ended up working well.
                </p>
                <h2>
                    Accomplishments that we're proud of
                </h2>
                <p>
                    We're surprised but happy at how well the Swift algorithms we created for squat evaluation worked. In order to rate "how big" the mistake a user was making is, we had to do several squats ourselves and reproduce those mistakes on video. It was a significant time investment, but we got a good sense of what "tolerance" we could provide to mistakes (for example, how far can a user's knee go beyond their ankles in the image to be a moderate error vs. a serious one).
                </p>
                <p>
                    Testing the full app for the first time and seeing it rate our squats was also pretty awesome (one of us is a lot better than the other, but we won't say who).
                </p>
                <h2>
                    What we learned
                </h2>
                <p>
                    We learned how to integrate deep learning into iOS apps, as well as the most common mistakes made while doing a squat. We also learned to effectively parallelize work and how to push through bugs, frustrating as they might be.
                </p>
                <h2>
                    What's next for DeepSquat
                </h2>
                <p>
                    Expand to other exercises, suggest training routines, and more&mdash; who knows, it might be a full-on personal trainer someday.
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag">
                            caffe
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            coreml
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/python">
                                python
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/swift">
                                swift
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://drive.google.com/drive/folders/18IVqOg5ID9z2TVGo__VYcIXJTk76Bdzd?usp=sharing" rel="nofollow" target="_blank" title="https://drive.google.com/drive/folders/18IVqOg5ID9z2TVGo__VYcIXJTk76Bdzd?usp=sharing">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                drive.google.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

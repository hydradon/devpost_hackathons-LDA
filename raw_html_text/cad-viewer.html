<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/isHdvbKKPHE?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    Back in 2007, I was a young design engineer at Caterpillar, working on CAD models of engine parts. It was neat and all, but I hated having to use my mouse + some fancy keyboard work to spin / move / scale models. It was both  hands on the table all the time.
                </p>
                <p>
                    I dreamed of something more
                    <em>
                        Minority Report
                    </em>
                    &mdash;an interface where I could just flick the air in front of me and the model would move. Something like this:
                </p>
                <p>
                    <img alt="" data-canonical-url="https://media.giphy.com/media/BLVqLi1p4Pt7i/giphy.gif" src="https://res.cloudinary.com/devpost/image/fetch/s--VWIkEkiz--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://media.giphy.com/media/BLVqLi1p4Pt7i/giphy.gif">
                </p>
                <blockquote>
                    <p>
                        Careful, Chief. Dig up the past, all you get is dirty.
                    </p>
                </blockquote>
                <p>
                    While things have gotten a lot better (touch screens), I'd still like a
                    <em>
                        lean-back
                    </em>
                    interface where I could contemplate the world while effortlessly spinning my models.
                </p>
                <p>
                    And with CAD Viewer, I think I'm halfway (ok, 10%) there.
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    Color Tracking CAD Viewer is a JavaScript web app that lets you spin and rotate 3D STL models using color tracking. Using a magenta token&mdash;like my purple Sharpie&mdash; I can lean back in my chair and spin models by waving my hand around in front of my webcam.
                </p>
                <p>
                    <img alt="" data-canonical-url="http://i.imgur.com/YaXgyUk.png" src="https://res.cloudinary.com/devpost/image/fetch/s--lepVRvNY--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/http://i.imgur.com/YaXgyUk.png">
                </p>
                <blockquote>
                    <p>
                        The pen really is mightier
                    </p>
                </blockquote>
                <h2>
                    How I built it
                </h2>
                <p>
                    CAD Viewer is a mashup of a
                    <code>
                        three.js
                    </code>
                    <a href="http://threejs.org/examples/#webgl_loader_stl" rel="nofollow">
                        STL loader demo
                    </a>
                    , the
                    <code>
                        tracking.js
                    </code>
                    <a href="http://trackingjs.com/examples/color_fish_tank.html" rel="nofollow">
                        color tracking demo
                    </a>
                    , 2 STL models (
                    <a href="http://www.thingiverse.com/thing:947423" rel="nofollow">
                        finger wrench
                    </a>
                    &amp;
                    <a href="https://github.com/Xyl2k/TSA-Travel-Sentry-master-keys/blob/master/TSA001_stubby.stl" rel="nofollow">
                        TSA master key 001
                    </a>
                    ), and some very hacked together JavaScript.
                </p>
                <p>
                    <img alt="" data-canonical-url="http://i.imgur.com/N6MIt0j.png" src="https://res.cloudinary.com/devpost/image/fetch/s--ATUUJvUe--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/http://i.imgur.com/N6MIt0j.png">
                </p>
                <blockquote>
                    <p>
                        Yes, the model on the right is a TSA Master Key. And no,
                        <a href="https://twitter.com/bernard/status/641662069427847168" rel="nofollow">
                            you're no longer in control
                        </a>
                        .
                    </p>
                </blockquote>
                <h3>
                    Initialization
                </h3>
                <p>
                    First, I used
                    <code>
                        dat gui
                    </code>
                    to create a small interface for selecting a model and setting it's initial position, rotation, and scale. This allows you to make sure the models looks good on screen before you start playing with it.
                    <code>
                        Three.js
                    </code>
                    &amp; some custom loaders (not written by me) take care of all the shading, mesh generation, and 3D stuff.
                </p>
                <p>
                    <img alt="" data-canonical-url="http://i.imgur.com/XQMknNf.png" src="https://res.cloudinary.com/devpost/image/fetch/s--EFNQsqw0--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/http://i.imgur.com/XQMknNf.png">
                </p>
                <blockquote>
                    <p>
                        Dat GUI tho!
                    </p>
                    <h3>
                        Color tracking
                    </h3>
                </blockquote>
                <p>
                    Using
                    <code>
                        tracking.js
                    </code>
                    , I setup a color tracker that targeted any magenta objects seen by my webcam. Using the tracker's x/y position, I continually adjusted the camera position:
                </p>
                <pre class="language-javascript"><code>// objX &amp; objY are coordinates set by the color tracker
// this camera positioning occurs within the render() function, which is in turn called by animate(), which is a continuously updates.

camera.position.x = (objX - camera.position.x) * 0.001;
camera.position.y = (- objY - camera.position.y) * 0.001;
</code></pre>
                <h2>
                    Challenges I ran into
                </h2>
                <p>
                    Blerg. Munging all this JS into one useable app was a bit of a pain. I ran into some trouble getting the app to run smoothly, which is probably because I basically copy &amp; pasted two tutorials together.
                </p>
                <p>
                    Originally, I had planned to use both color &amp; head tracking. Colors to rotate the object, and head tracking to move the overall scene. I couldn't figure out why, but I think my color &amp; head trackers were overwriting each other.
                    <code>
                        &macr;\_(ツ)_/&macr;
                    </code>
                </p>
                <p>
                    Also, I was planning on adding a "upload STL model" button, but I ran out of time.
                </p>
                <p>
                    And of course, there's still tons of unused / outdated code left in the comments + a heap of extra JS from the examples folder that I haven't cleared out yet.
                </p>
                <h2>
                    Accomplishments that I'm proud of
                </h2>
                <p>
                    Well, it sorta works. So you know, achievement unlocked. ✓
                </p>
                <p>
                    <img alt="" data-canonical-url="https://media.giphy.com/media/tRe7t1zL7xRi8/giphy.gif" src="https://res.cloudinary.com/devpost/image/fetch/s--fcwjkzf1--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://media.giphy.com/media/tRe7t1zL7xRi8/giphy.gif">
                </p>
                <blockquote>
                    <p>
                        Yep.
                    </p>
                </blockquote>
                <h2>
                    What I learned
                </h2>
                <p>
                    Don't code after 11pm without taking a nap first. It won't go well. Also, commit early and commit often.
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag">
                            cad
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/css3">
                                css3
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            dat-gui
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/html5">
                                html5
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/javascript">
                                javascript
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/jquery">
                                jquery
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            stats.js
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/thingiverse">
                                thingiverse
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/three-js">
                                three.js
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            tracking.js
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="http://nealrs.github.io/CADViewer/" rel="nofollow" target="_blank" title="http://nealrs.github.io/CADViewer/">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                nealrs.github.io
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="http://github.com//nealrs/CADViewer/" rel="nofollow" target="_blank" title="http://github.com//nealrs/CADViewer/">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

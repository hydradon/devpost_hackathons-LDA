<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/mJp5R85fTIY?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="626337" data-title="V1, V2, Faulty V3" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/626/337/datas/original.jpg">
                            <img alt="CardFree &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/626/337/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                V1, V2, Faulty V3
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    What if there was some way to simplify the process of getting into our dorms? Wouldn't it be easier if you could swipe into your building with something attached to your keys? What if you could replace all magstripe style cards in your wallet with a single keyfob? Our CardFree project was inspired by our interest in Samsung's MST technology and our desire to build something that might improve the convenience of an action taken by students multiple times a day.
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    CardFree replicates the magnetic signature of a magnetic stripe card. It works with any type of magstripe card, such as a student ID or a credit card.
                </p>
                <p>
                    Using a magnetic card reader, we obtain the raw binary data from the user's card and program it to the key-chain device (ATTiny85), so that it can replay the binary signals through a temporarily generated electromagnetic field. The pulse of data within this field "tricks" any magnetic card reader, be it a point of sales or a door lock, into thinking a card was swiped through it.
                </p>
                <h2>
                    How we built it
                </h2>
                <p>
                    <strong>
                        MagWorks Software
                    </strong>
                    - Our magnetic stripe reader is an HID USB device. It doesn't have a serial interface and therefore requires direct control through binary data transfers across the USB protocol. As little documentation exists for such devices, we researched the types of data transfers for USB and learned how to construct these binary instructions bit by bit. We used this knowledge to write a Python-based CLI driver (MagWorks) for our magnetic stripe reader, customized for everything we need. It can read, write, clone, and erase any magnetic stripe card.
                </p>
                <p>
                    <strong>
                        Circuitry
                    </strong>
                    - Based on SamyK's MagSpoof design, we created a circuit that produces an electromagnetic field that projects magnetic stripe data wirelessly into any magnetic card reader.
                </p>
                <p>
                    ATTiny85 - Microcontroller controlling the entire device, stores relevant card data and replays it.
                </p>
                <p>
                    L293D Motor Driver - Motor driver to provide necessary current from LiPo battery for a sufficient magnetic field to 
                    generated by the magnetic coils.
                </p>
                <p>
                    Magnetic Coils - ~50 coils of 24 gauge magnetic wire with ~ 3-inch circumference
                </p>
                <p>
                    LiPo - 100 mAh 3.7 V battery for inducing the magnetic field and powering ATTiny85.
                </p>
                <p>
                    <strong>
                        Case
                    </strong>
                    - To create more of a "production" model of our circuit, we 3D-printed an enclosure for our most successful prototype device. This enclosure isn't perfect, but acts as a perfect model for what the key-chain could look like.
                </p>
                <h2>
                    Challenges we ran into
                </h2>
                <p>
                    We tried to miniaturize our circuit further but it had a short that we were unable to locate. We had to use our V2 prototype for the final product, despite it being larger than we initially desired for the final product.
                </p>
                <p>
                    We struggled to accurately reproduce all three tracks of a magstripe card with our circuit. We had to spend a lot of time running through small, tedius changes to the ATTiny85's programming in order to produce a consistent, correct magnetic field with the correct card data.
                </p>
                <p>
                    It was very difficult to decode the data on our student IDs. Our card reader does not read and return the raw binary digits directly off of the magnetic stripe. It actually has it's own specs for reading raw card data, and we had to do a lot of binary conversions to figure out exactly how to translate the raw data we received into something we could use.
                </p>
                <h2>
                    Accomplishments that we're proud of
                </h2>
                <ol>
                    <li>
                        <p>
                            Writing a Python-based driver for a USB device that would otherwise be unresponsive.
                        </p>
                    </li>
                    <li>
                        <p>
                            Successfully decoding the data off of the UMD student ID cards.
                        </p>
                    </li>
                    <li>
                        <p>
                            Successfully simulating magnetic strip cards with a keychain-sized device.
                        </p>
                    </li>
                </ol>
                <h2>
                    What we learned
                </h2>
                <ol>
                    <li>
                        <p>
                            How to write drivers for and directly control USB devices.
                        </p>
                    </li>
                    <li>
                        <p>
                            How financial cards follow a standard ISO encoding format, and how to parse it.
                        </p>
                    </li>
                    <li>
                        <p>
                            How to decode raw data encoded on any non-standard magnetic stripe card.
                        </p>
                    </li>
                    <li>
                        <p>
                            How to effectively organize components on a circuit with limited space.
                        </p>
                    </li>
                    <li>
                        <p>
                            How magnetic stripe data can be produced via an electromagnetic field to "trick" card readers into thinking a card was swiped.
                        </p>
                    </li>
                </ol>
                <h2>
                    What's next for CardFree
                </h2>
                <ul>
                    <li>
                        <p>
                            Make it much smaller.
                        </p>
                    </li>
                    <li>
                        <p>
                            Use a custom printed PCB instead of complex soldering.
                        </p>
                    </li>
                    <li>
                        <p>
                            Add functionality for multiple cards on a single CardFree.
                        </p>
                    </li>
                    <li>
                        <p>
                            Add a larger battery.
                        </p>
                    </li>
                    <li>
                        <p>
                            Improve reliability and range.
                        </p>
                    </li>
                    <li>
                        <p>
                            Better activation button.
                        </p>
                    </li>
                </ul>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/arduino">
                                arduino
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            attiny85
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/hardware">
                                hardware
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/python">
                                python
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/wesley27/cardfree" rel="nofollow" target="_blank" title="https://github.com/wesley27/cardfree">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/Qw66YsE1RnE?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="768621" data-title="Real-time Chat Translation" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/768/621/datas/original.png">
                            <img alt="Chat Translator &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/768/621/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Real-time Chat Translation
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="771582" data-title="Chat Translator in Action" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/771/582/datas/original.png">
                            <img alt="Chat Translator &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/771/582/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Chat Translator in Action
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="771584" data-title="Light and Dark Mode" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/771/584/datas/original.png">
                            <img alt="Chat Translator &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/771/584/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Light and Dark Mode
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Bring the world closer together
                </h2>
                <p>
                    Twitch has enabled me to make friends and connections all across the globe whom I otherwise would have never met and I love the platform for this ability to connect people everywhere and bring the world closer together. Yet languages still define boundaries on Twitch and it is still rare for communities to cross-pollinate outside of their language. In today's world that keeps dividing and drawing lines, Chat Translator shows one way that we can break down these barriers and empower streamers to reach a larger audience and make the world feel smaller, friendlier, and more like home.
                </p>
                <h2>
                    Chat Translator
                </h2>
                <p>
                    With Chat Translator, viewers can talk to the streamer and have conversations among each other, each in their own native tongue as if all other chatters speak the same language. It automatically detects and translates messages from 21 different languages to the currently-supported 5 languages. And as any avid Twitch user knows, Twitch chat is a little different from normal text, and full of emotes, Kappas, and partial text. These are preserved through the translations as well, in order to keep true to the original meaning as much as possible.
                </p>
                <p>
                    <img alt="ChatTranslator in Action" data-canonical-url="https://www.instafluff.tv/assets/images/ChatTranslatorIntro.png" src="https://res.cloudinary.com/devpost/image/fetch/s--TdYuX8nk--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://www.instafluff.tv/assets/images/ChatTranslatorIntro.png">
                </p>
                <h2>
                    Inspiration
                </h2>
                <p>
                    Chat Translator started out as one of the many
                    <a href="https://github.com/instafluff" rel="nofollow">
                        open-source Twitch-integrated projects
                    </a>
                    I build live on stream with viewers at the Coding Cafe as
                    <a href="https://www.twitch.tv/instafluff" rel="nofollow">
                        Instafluff
                    </a>
                    because I had viewers from all over the world that could speak Czech, Spanish, Dutch, German, and even Japanese but were limited to chatting in English. We created
                    <a href="https://github.com/instafluff/ChatterboxTranslatorBot" rel="nofollow">
                        ChatTranslator the Chatbot
                    </a>
                    and turned it into a global Twitch bot and it currently resides in 112 different channels and has translated more than 47 million characters since September 2018. I wanted to take the lessons learned from the chatbot and make it much more natural and integrated with less chat-spam for my community and others as well, and Twitch extensions were a perfect way for me to make it happen.
                </p>
                <h2>
                    Development
                </h2>
                <p>
                    I am a huge AWS fan and have used many of its services for almost a decade now in my own startups and in consulting for other businesses as well, but if not careful, it can get expensive. Chat Translator is a showcase to how, with the good architecture, AWS can be extremely cost-effective for even the penniest of the penny-pinchers.
                </p>
                <p>
                    The Chat Translator extension was built using the
                    <a href="https://github.com/instafluff/TwitchComfyKit" rel="nofollow">
                        Twitch ComfyKit
                    </a>
                    with HTML/CSS/Javascript and its backend was built using NodeJS and
                    <a href="https://github.com/instafluff/ComfyTranslate" rel="nofollow">
                        ComfyTranslate
                    </a>
                    running on the smallest instance of
                    <strong>
                        AWS Lightsail
                    </strong>
                    , which is a flat $3.50 / month, and one of these instances using the smart-caching system I built for the translations in combination with the $15 / million characters pricing of
                    <strong>
                        AWS Translate
                    </strong>
                    APIs should be able to currently handle hundreds of small/low-activity channels, about 20 medium-sized (~50-200 viewer) channels, or one really large channel for a total of less than $20 of overhead per month. With further development of the caching and language-detection system, this operating cost could be even lower. When done right, AWS can really make tight budgets go a long way.
                </p>
                <h2>
                    Technical Challenges
                </h2>
                <p>
                    There are several significant challenges that Chat Translator overcomes that might not be as obvious at first.
                </p>
                <ul>
                    <li>
                        Keeping the translation API calls budget-friendly
                    </li>
                    <li>
                        Scaling real-time translation of active chat to multiple languages at the same time
                    </li>
                    <li>
                        Handling Twitch Emotes in the translation process
                    </li>
                    <li>
                        Sockets and real-time broadcasting of the translated message to viewers
                    </li>
                    <li>
                        Listening to Timeouts/Bans of users and broadcasting the deletion of corresponding messages.
                    </li>
                    <li>
                        Designing to look like the familiar Twitch chat with status and sub badges, username colors, showing emotes
                    </li>
                </ul>
                <h4>
                    API Limits &amp; Scaling
                </h4>
                <p>
                    The precursor to this extension, the
                    <a href="https://github.com/instafluff/ChatterboxTranslatorBot" rel="nofollow">
                        ChatTranslator Chatbot
                    </a>
                    , was already pushing the limits of a 15 million character monthly quota when I began working on the extension for this challenge. I made several improvements to the caching system because this extension may translate to 5 languages at the same time in a single channel so that I could keep the API costs low.
                </p>
                <p>
                    The extension connects to the translation server via web sockets, but automatically connecting every viewer to the server will overload it quickly, so I made adjustments to also keep the connection count low and only translate languages as necessary.
                </p>
                <h4>
                    Twitch Chat Quirks
                </h4>
                <p>
                    Twitch chat messages are not normal text. It includes emotes represented as reserved keywords and replaced at render-time to images and translation APIs do not understand the emote names and often comes back broken. Chat Translator specially handles the quirks of Twitch chat messages in the translation process in order to preserve the meaning of the original text.
                </p>
                <p>
                    Also, when a user is timed-out or banned from a channel, all messages from that user in the chat's history is deleted. Chat Translator is able to listen for these events and react as well.
                </p>
                <p>
                    Lastly, in the native Twitch chat, users often have badges reflecting their role in the channel or a special status, such as moderator/bit-cheer/subscriber/etc. including channel-specific badges. Chat Translator's design keeps these badges and other aspects of chat intact so that they do not lose any social value or cause confusion for the user compared to the native chat.
                </p>
                <h2>
                    Chat Translator's Future
                </h2>
                <p>
                    Even with the smart-caching and other systems put in place to help keep the API costs low, it is still a significant operational cost for one person and the bit monetization model doesn't necessarily fit well. After the challenge, I may look into a subscription model to be able to cost-scale the extension, but really the Chat Translator experience makes much more sense directly integrated into Twitch.
                </p>
                <p>
                    I believe that Twitch is a truly unique platform because of its social aspect and is strengthened by the connections made on it, which becomes even clearer at events like TwitchCon where people who have only met through the platform can meet in-person for the first time and still celebrate their long-time friendships. This is one of the reasons I love Twitch and believe that Twitch and all of the streamers and users on it would greatly benefit if they could expand their audiences and their social circles beyond language barriers.
                </p>
                <p>
                    If this extension were to win the challenge, among other things, I would like to spend the time with Twitch leadership to advocate for its native integration into Twitch before one of its competitors do.
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/amazon-web-services">
                                amazon-web-services
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            aws-translate
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/css">
                                css
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/html">
                                html
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/javascript">
                                javascript
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            lightsail
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/node-js">
                                node.js
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://chattranslator.instafluff.tv" rel="nofollow" target="_blank" title="https://chattranslator.instafluff.tv">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                chattranslator.instafluff.tv
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

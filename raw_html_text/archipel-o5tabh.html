<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/xwrSOgPGx8E?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="829837" data-title="Hardware" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/829/837/datas/original.png">
                            <img alt="Archipel &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/829/837/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Hardware
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="829838" data-title="Web UI" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/829/838/datas/original.png">
                            <img alt="Archipel &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/829/838/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Web UI
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="829839" data-title="Dappnode Package" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/829/839/datas/original.png">
                            <img alt="Archipel &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/829/839/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Dappnode Package
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="829840" data-title="Polkadot Telemetry" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/829/840/datas/original.png">
                            <img alt="Archipel &ndash; screenshot 4" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/829/840/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Polkadot Telemetry
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <ul>
                    <li>
                        Nowadays, many blockchain services are centralized on cloud infrastructure. We can imagine that in a few years some of blockchain services can be banned from public cloud services. Moreover, cloud providers can have interruption of services and network issues.
                    </li>
                    <li>
                        To have decentralized infrastructure at your home, we must overcome some issues too :  it&rsquo;s really difficult to maintain good quality of service at home : you can have internet box or power cuts. For example it is very risky to install a Proof-of-Stake validator at home. Your PoS validator must be always up 24/7 and ready to execute it&rsquo;s duty. If not, you will be slashed by the network and lose money.
                    </li>
                    <li>
                        To solve this problem we want to create a solution for high availability of blockchain services by federating few nodes between friends and family. (2 to 7 )
At this hackathon we try to hack on PoS validator high availability problem using 3 DAppNode Hardwares.
                    </li>
                </ul>
                <h2>
                    What it does
                </h2>
                <p>
                    <strong>
                        Archipel : divide and federate to run unsinkable services !
                    </strong>
                </p>
                <p>
                    We provide a solution for high availability of Proof-of-Stake validators on light infrastructure. 
If the validator node goes down, another node from the federation takes the relay.
                </p>
                <h2>
                    How I built it
                </h2>
                <p>
                    We use DAppNode Packages et hardwares as a root base for the solution. 
We built a daemon Archipel Orchestrator. This daemon is running on each validator nodes. It interacts with the a smart contract to manage the validator leadership mutex.  There is also a ping between nodes and an algorithm to choose when to start, stop validating.
                </p>
                <h2>
                    Challenges I ran into
                </h2>
                <p>
                    The chain node desynchronization may leads to unwanted state. In the final solution for the mutex between nodes, we will use a lightweight mutex, not with smart contract but rather a specific substrate module or just a use of libp2p module or zookeeper solution like.
                </p>
                <h2>
                    Accomplishments that I'm proud of
                </h2>
                <p>
                    The system was tested and works pretty well with 3 nodes validator setup. 
We remove manually the connexion from one node and one of the 2 others nodes take the leadership to assure High availability of the PoS service on polkadot Alexander testnet as you can see in the video.
                </p>
                <h2>
                    What I learned
                </h2>
                <ul>
                    <li>
                        After first tests, we change several time the smart contract during the hackathon to prevent 2 validators taking the leadership at the same.
                    </li>
                    <li>
                        We also learned and experiment leadership algorithm for the selection of the active validator. it leads us to reconsider so of the assumption we have made and we will build on it to provider a more robust solution to the problem we want to solve.
                    </li>
                </ul>
                <h2>
                    What's next for Archipel
                </h2>
                <p>
                    We want to continue our project to make our system more robust and test all scenarios. 
We want to improve the base code :
                </p>
                <ul>
                    <li>
                        We will use crossbar lib to properly interact between DAppNode packages (for stop start reconfiguration of the validator node).
                    </li>
                    <li>
                        We will remove the smart contract part and setup a lightweight solution for the mutex ( with specific substrate module or libp2p usage or zookeeper like).
                    </li>
                    <li>
                        We will also experiment adding a usb 4G stick to be able to do a robust 'STONITH' technique also called for "shoot the other node in the head". Action done by the new leader to be sure to not have double signing on the network. Action done with 4G/sms if the network is down for some nodes in the federation.
                    </li>
                </ul>
                <p>
                    You can find more info and broader vison of Archipel
                    <a href="https://archipel.id" rel="nofollow">
                        https://archipel.id
                    </a>
                    in this document
                    <a href="https://archipel.id/Archipel-Atoll-Paper.pdf" rel="nofollow">
                        https://archipel.id/Archipel-Atoll-Paper.pdf
                    </a>
                    .
It was our idea put on paper and we succeed to start and prototype this at ETH Berlin !
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag">
                            dappnode
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/docker">
                                docker
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            ethereum
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            goerli
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/javascript">
                                javascript
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/node-js">
                                node.js
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/react">
                                react
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            skale
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/solidity">
                                solidity
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/branciard/eth-berlin-2019-archipel" rel="nofollow" target="_blank" title="https://github.com/branciard/eth-berlin-2019-archipel">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="https://archipel.id/" rel="nofollow" target="_blank" title="https://archipel.id/">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                archipel.id
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li class="text-center">
                        <a data-lightbox="878323" data-title="Lack of sleep costs the Canadian economy over $20 billion every year" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/878/323/datas/original.jpg">
                            <img alt="MLTonin &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/878/323/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Lack of sleep costs the Canadian economy over $20 billion every year
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="877973" data-title="The home page of MLTonin; MLTonin is named after the chemical &quot;melatonin&quot;, which helps regulate the body's sleep cycles" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/877/973/datas/original.PNG">
                            <img alt="MLTonin &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/877/973/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                The home page of MLTonin; MLTonin is named after the chemical "melatonin", which helps regulate the body's sleep cycles
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="877974" data-title="The user dashboard upon logging in with firebase. The Aggregated Sleep Metric is calculated based off of the user's tiredness over time" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/877/974/datas/original.PNG">
                            <img alt="MLTonin &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/877/974/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                The user dashboard upon logging in with firebase. The Aggregated Sleep Metric is calculated based off of the user's tiredness over time
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h1>
                    MLTonin
                </h1>
                <h2>
                    The Idea
                </h2>
                <p>
                    We all love hackathons (hence why we're here right now), but sometimes they can be _ exhausting _! Almost all hackers know the pains of readjusting after pulling an all-nighter, and we want to help reduce the time for this process. We initially built designed this for the purposes of helping hackers adjust after an all-nighter, but we then realized that sleep deprivation is a
                    <strong>
                        MASSIVE
                    </strong>
                    problem that we can help solve with MLTonin. As work becomes more and more digitalized, there is a similar positive trend for the percent of the population experiencing sleep deprivation. In fact, the effects of sleep deprivation costs the Canadian economy over
                    <strong>
                        20 billion
                    </strong>
                    dollars annually due to lost productivity. With MLTonin, the user would work on their computer and we would examine their sleep-deprivation levels and update to their computer to help mitigate the effects of technology on their sleep.
                </p>
                <h2>
                    How we built it
                </h2>
                <p>
                    We built MLTonin in two main parts, the web interface and the background machine learning processes. The machine learning is done through an ensemble network, composed of a  Convolutional Neural Network (CNN) and a Recurrent Neural Network (RNN). We first use a CNN as well as OpenCV to detect a user's facial contours and produce a predicted value for drowsiness at any given point in a session. We then pipe that information into a RNN to extrapolate user behavior for more complex analysis on patterns overtime. The data is normalized using the Wolfram api. These values are weighted and compounded into one value that describes the user's current energy level (from 0-10). That energy level value is sent to our firebase realtime database (which communicates this data with out front-end UI), as well as a windows-api (which automatically adjusts screen-brightness of the user's workspace).
                </p>
                <p>
                    The web interface also has an additional CNN, built using tensorflow.js and face-api.js. This model provides expression analysis, which is used for outlier detection in comparison to the other firebase values. The web interface displays an "Aggregated Sleep Metric" (ASM), which is calculated by weighing the various inputs (the energy level obtained from firebase and expression analysis values from tensorflow.js) and running them through a consensus algorithm. The consensus algorithm checks relative differences and returns the most appropriate energy value with the given inputs.
                </p>
                <h2>
                    Challenges we ran into
                </h2>
                <p>
                    One of the most major difficulties we encountered is that our models was over-fitting due to the limited size of our datasets. We solved this by using different metrics (e.g., image pixel data, image contour patterns .etc) and therefore diversifying our training data.
                </p>
                <p>
                    Another challenge that we ran into was getting the windows-api working. We encountered bugs interfacing the high-level python scripts with the low-level system apis. We solved the problem by finding third party libraries that skip over the low-level work and using them instead of directly accessing the system apis.
                </p>
                <h2>
                    What we learned
                </h2>
                <p>
                    We learned so much. In terms of machine learning, we learned techniques in diversifying our inputs as well as how to pipeline different models together. On the web interface, we learned how to design a dashboard (no template was used!) and how to overlay canvases for tensorflow.js.
                </p>
                <h2>
                    Plans for the future...
                </h2>
                <ul>
                    <li>
                        Improve RNN and CNN accuracy even more.
                    </li>
                    <li>
                        Potentially add a KNN (k-nearest-neighbors) model to improve the consensus algorithm
                    </li>
                    <li>
                        Add more features to the web interface (e.g., more graphs, text tips on getting good sleep .etc)
                    </li>
                    <li>
                        Have functionality updating gamma and color temperature in addition to just brightness in terms of the windows-api
                    </li>
                    <li>
                        Expand to other operating systems (macOS, linux)
                    </li>
                </ul>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/css3">
                                css3
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/firebase">
                                firebase
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/html5">
                                html5
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/javascript">
                                javascript
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            keras
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/opencv">
                                opencv
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/python">
                                python
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            tensorflow
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            tensorflow.js
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            windows-api
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/ricozhuthegreat/MLtonin-Frontend" rel="nofollow" target="_blank" title="https://github.com/ricozhuthegreat/MLtonin-Frontend">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/AndreVallestero/mltonin-analytics-engine" rel="nofollow" target="_blank" title="https://github.com/AndreVallestero/mltonin-analytics-engine">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/wvan1230/mltonin-machine-learning" rel="nofollow" target="_blank" title="https://github.com/wvan1230/mltonin-machine-learning">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

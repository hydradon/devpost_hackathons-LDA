<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/YT7SckvzSG8?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="364881" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/364/881/datas/original.png">
                            <img alt="SnapPea &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/364/881/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="364882" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/364/882/datas/original.png">
                            <img alt="SnapPea &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/364/882/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h1>
                    SnapPea
                </h1>
                <h4>
                    Follow your gut.
                </h4>
                <h2>
                    Developer Documentation
                </h2>
                <h4>
                    Tools Used:
                </h4>
                <ul>
                    <li>
                        <a href="https://facebook.github.io/react/" rel="nofollow">
                            React
                        </a>
                    </li>
                    <li>
                        <a href="http://redux.js.org/" rel="nofollow">
                            Redux
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/rackt/react-router" rel="nofollow">
                            React Router
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/rackt/react-router-redux" rel="nofollow">
                            React Router Redux
                        </a>
                    </li>
                    <li>
                        <a href="https://babeljs.io/" rel="nofollow">
                            Babel
                        </a>
                    </li>
                    <li>
                        <a href="https://webpack.github.io/" rel="nofollow">
                            Webpack
                        </a>
                    </li>
                    <li>
                        <a href="https://nodejs.org/en/" rel="nofollow">
                            Node
                        </a>
                    </li>
                    <li>
                        <a href="http://expressjs.com/" rel="nofollow">
                            Express
                        </a>
                    </li>
                    <li>
                        <a href="http://mongoosejs.com/" rel="nofollow">
                            Mongoose
                        </a>
                    </li>
                    <li>
                        <a href="https://www.mongodb.org/" rel="nofollow">
                            MongoDB
                        </a>
                    </li>
                    <li>
                        <a href="http://sass-lang.com/" rel="nofollow">
                            Sass
                        </a>
                    </li>
                    <li>
                        <a href="http://getbootstrap.com/" rel="nofollow">
                            Bootstrap
                        </a>
                    </li>
                    <li>
                        <a href="https://react-bootstrap.github.io/" rel="nofollow">
                            React Bootstrap
                        </a>
                    </li>
                </ul>
                <h4>
                    APIs Used:
                </h4>
                <ul>
                    <li>
                        <a href="https://www.yelp.com/developers/documentation/v2/overview" rel="nofollow">
                            Yelp API
                        </a>
                    </li>
                    <li>
                        <a href="https://developers.google.com/maps/documentation/geocoding/intro?hl=en_US" rel="nofollow">
                            Google Maps Geocoding API
                        </a>
                    </li>
                    <li>
                        <a href="https://developers.google.com/maps/documentation/geolocation/intro?hl=en_US" rel="nofollow">
                            Google Maps Geolocation API
                        </a>
                    </li>
                    <li>
                        <a href="https://developers.google.com/maps/documentation/javascript/?hl=en_US" rel="nofollow">
                            Google Maps JavaScript API
                        </a>
                    </li>
                    <li>
                        <a href="https://developers.google.com/places/?hl=en_US" rel="nofollow">
                            Google Places API Web Service
                        </a>
                    </li>
                    <li>
                        <a href="https://developer.uber.com/docs" rel="nofollow">
                            Uber API
                        </a>
                    </li>
                </ul>
                <h4>
                    To start contributing to the Gut codebase:
                </h4>
                <ul>
                    <li>
                        Fork the repo
                    </li>
                    <li>
                        Clone your fork locally
                    </li>
                    <li>
                        Ensure MongoDB is installed. If not, install MongoDB globally
                        <code>
                            brew install mongod
                        </code>
                    </li>
                    <li>
                        Start a MongoDB instance
                        <code>
                            mongod
                        </code>
                    </li>
                    <li>
                        Create a config.js file in the root of the server directory
                        <code>
                            server
└── config.js
// your config file will contain the following:
module.exports = {
google_api_key: 'INSERT KEY HERE',
uberClientId: 'INSERT_CLIENT_ID_HERE',
uberServerToken: 'INSERT_SERVER_TOKEN_HERE'
};
                        </code>
                    </li>
                    <li>
                        Install server and client dependencies
                    </li>
                    <li>
                        Generate bundle.js file and compile ES6 syntax using Babel
                    </li>
                    <li>
                        Run the app on a local server
                        <code>
                            npm install
webpack -w
npm start
                        </code>
                    </li>
                    <li>
                        Visit
                        <a href="http://localhost:5679/" rel="nofollow">
                            http://localhost:5679/
                        </a>
                        on your browser for the landing page
                    </li>
                </ul>
                <h2>
                    Front-End
                </h2>
                <h3>
                    Client Application Information
                </h3>
                <p>
                    SnapPea leverages React to render our views. We use Redux by Dan Abramov to facilitate our state management. Because of this, our client folder is broken down as follows:
                </p>
                <pre class="language-nolang"><code>client
├── actions
│   ├── authActions.js
│   ├── dinerActions.js
│   ├── friendActions.js
│   ├── pollActions.js
│   └── viewActions.js
│   
├── components
│   ├── AddFriend.js
│   ├── DeletePref.js
│   ├── FriendEntry.js
│   ├── Friends.js
│   ├── FriendsList.js
│   ├── FriendsPref.js
│   ├── LocationPref.js
│   ├── Map.js
│   ├── Marker.js
│   ├── Navigation.js
│   ├── Poll.js
│   ├── PollCategory.js
│   ├── ProfileHome.js
│   ├── RefinePref.js
│   ├── Register.js
│   ├── RestaurantPref.js
│   ├── SelectedFriendEntry.js
│   ├── SelectedFriends.js
│   ├── Signin.js
│   └── UberInfo.js
│   
├── containers
│   ├── HomePage.js
│   ├── Main.js
│   └── Profile.js
│  
├── reducers
│   ├── authReducer.js
│   ├── dinerReducer.js
│   ├── friendReducer.js
│   ├── pollReducer.js
│   └── viewReducer.js
│  
├── static
│   ├── assets
│   └── styles
│  
├── index.html
├── index.js
└── routes.js
</code></pre>
                <p>
                    Below, you'll find our container and component structure:
                </p>
                <pre class="language-nolang"><code>Index.js
└── Main.js
├── HomePage.js // container
│   └── Navigation.js
│       ├── SignIn.js
│       └── Register.js
│  
└── Profile.js // container
├── Navigation.js
│
├── Poll.js
│   └── PollCategory.js
│   
└── ProfileHome.js
├── LocationPref.js
│
├── FriendsPref.js
│   ├── SelectedFriends.js
│   │   └── SelectedFriendEntry.js
│   │
│   └── FriendsList.js
│       └── FriendEntry.js
│   
├── RestaurantPref.js
│   ├── Map.js
│   │   └── Marker.js
│   │
│   └── UberInfo.js
│   
├── Friends.js
│   ├── AddFriend.js
│   │
│   └── FriendsList.js
│       └── FriendEntry.js
│      
└── RefinePref.js
├── Poll.js
│   └── PollCategory.js
│
└── DeletePref.js

</code></pre>
                <h3>
                    Redux and Application State
                </h3>
                <p>
                    State management for SnapPea utilizes Redux. The following directories manage our state:
                </p>
                <ul>
                    <li>
                        reducers
                    </li>
                    <li>
                        actions
                    </li>
                    <li>
                        containers
                    </li>
                </ul>
                <p>
                    For every action file, there is a corresponding reducer file.
                </p>
                <ul>
                    <li>
                        Auth - Manages the logged in state of the user
                    </li>
                    <li>
                        Diner - Manages the state of the user's recommendations
                    </li>
                    <li>
                        Friend - Manages the state of the user's friends and friend search queries
                    </li>
                    <li>
                        Poll - Manages the state of the preferences poll (selected, unselected, businesses displayed, etc.)
                    </li>
                    <li>
                        View - Manages the state of the views displayed when logged in
                    </li>
                </ul>
                <p>
                    All API calls are made using
                    <a href="https://github.com/gaearon/redux-thunk" rel="nofollow">
                        redux-thunk
                    </a>
                    middleware within the reducers. These actions are mapped to our components via mapDispatchToProps() within the containers. The containers are also where state is mapped as props and the store is passed down to our components to render.
                </p>
                <h3>
                    Views
                </h3>
                <p>
                    All views are within the components directory. Please view the diagram above for the hierarchy.
                </p>
                <h2>
                    Back-End
                </h2>
                <p>
                    The Snap-Pea Custom RESTful API is built with Node.js, Node Express, MongoDB, and Mongoose. Its restaurant data is powered by Yelp's Search API.
                </p>
                <h3>
                    Server
                </h3>
                <p>
                    The Node.js/Express server has the following routes and functions.
                </p>
                <pre class="language-nolang"><code>server
├── routes
│   ├── addFriendRoute.js
│   ├── authenticationRoute.js
│   ├── eatRoute.js
│   ├── friendsRoute.js
│   ├── historyRoute.js
│   ├── loginRoute.js
│   ├── oauthSigninRoute.js
│   ├── photoRoute.js
│   ├── pollRoute.js
│   ├── preferenceRoute.js
│   ├── removeFriendRoute.js
│   ├── signupRoute.js
│   ├── uberRoute.js
│   ├── usersRoute.js
│   └── yelpRoute.js
│
├── functions
│   ├── getGeolocationData.js
│   ├── getRecommendation.js
│   ├── historyToArray.js
│   ├── request_uber.js
│   └── request_yelp.js
│
├── businesses.js
├── cities.js
├── config.js
├── db.js
└── server.js
</code></pre>
                <h3>
                    REST/CRUD Outline:
                </h3>
                <p>
                    To register for an account:
POST request to /signup
data: {username:&rsquo;String&rsquo;, password:&rsquo;String&rsquo;, firstname:&rsquo;String&rsquo;, lastname: &lsquo;String&rsquo;,  email: &lsquo;String&rsquo;}
return value: {username:String, token:String, businesses:Array}
                </p>
                <p>
                    To login:
POST request to /login
data: {username:String, password:String}
return value: {username:String, token:String}
                </p>
                <p>
                    To submit poll result:
PUT request to /preference
data: {username:&rsquo;username&rsquo;, selected:[array of categories],  unselected:[array of categories]}
return value: updated user data
                </p>
                <p>
                    To go out to eat:
GET request to /eat?diners=(Stringified Array of usernames)&amp;location=location
Location is optional. If none is given, geolocation is used.
return value: array of businesses in recommended order as determined by the user&rsquo;s preference
                </p>
                <p>
                    To refine user preferences:
GET request to /poll
return value: array of 20 businesses to be used in poll
                </p>
                <p>
                    To delete user preferences:
DELETE request to /preference
data: {username:String}
return value: updated user info
                </p>
                <p>
                    To search for users in the database except for yourself:
GET request to /users?username=String&amp;searchTerm=String
if searchTerm is an empty string, server will return all users excluding your friends. If searchTerm is provided, server will return all users whose username contains the searchTerm, excluding your friends.
return value: array of objects, each object containing a username and userID.
                </p>
                <p>
                    To add a friend:
PUT request to /addfriend
data: JSON.stringify({username:String, friendname:String})
return value: array of objects representing updated friendlist
                </p>
                <p>
                    To get all of your friends:
GET request to /friends?username=username
Return value: Array of objects representing all of your friends. Each object contains all information about a friend.
                </p>
                <p>
                    To remove a friend:
DELETE request to /removefriend
data: JSON.stringify({username:String, friendname:String})
return value: name of the removed friend
                </p>
                <p>
                    To save a restaurant into user&rsquo;s beenTo property:
PUT request to /history
data: JSON.stringify({username:String, restaurantName:String, restaurantId:String})
return value: updated beenTo property for that user
                </p>
                <p>
                    To delete a user&rsquo;s beenTo property:
DELETE request to /history
data: JSON.stringify({username:String})
return value: updated beenTo property for that user (which should be an empty array now)
                </p>
                <h3>
                    Database
                </h3>
                <p>
                    The MongoDB/Mongoose database stores basic information about the user, as well as the user's preferences. The user schema is as shown below:
                </p>
                <pre class="language-nolang"><code>db.userSchema = new db.Schema ({
        username: { type: String, required: true, unique: true },
  password: { type: String },
  firstname: {type: String},
  lastname: {type: String},
  categories: {},
  friends: {},
  beenTo: {},
  email: { type: String },
  gravatarUrl: { type: String },
  searchTerm: {type: String},
  avatarUrl: {type: String}
});
</code></pre>
                <p>
                    The preferences for that user are stored in the categories object, and is constantly updated as the algorithm learns more about the types of food that the user likes/dislikes.
                </p>
                <h2>
                    SnapPea Team
                </h2>
                <ul>
                    <li>
                        <a href="https://github.com/madcurie" rel="nofollow">
                            Daisy Tsao
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/shin064" rel="nofollow">
                            Shin Adachi
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/justanman" rel="nofollow">
                            Justin Tan
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/carlbernardo" rel="nofollow">
                            Carl Bernardo
                        </a>
                    </li>
                </ul>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag">
                            babel
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/bootstrap">
                                bootstrap
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/css">
                                css
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/html">
                                html
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/javascript">
                                javascript
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/mongodb">
                                mongodb
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/mongoose">
                                mongoose
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/node-js">
                                node.js
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/react">
                                react
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/redux">
                                redux
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/sass">
                                sass
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            webpack
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="http://snap-pea.io/" rel="nofollow" target="_blank" title="http://snap-pea.io/">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                snap-pea.io
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/gut-js/gut" rel="nofollow" target="_blank" title="https://github.com/gut-js/gut">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

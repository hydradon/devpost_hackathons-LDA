<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li class="text-center">
                        <a data-lightbox="369504" data-title="Bash running under Penultimate" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/369/504/datas/original.png">
                            <img alt="Penultimate &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/369/504/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Bash running under Penultimate
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="369596" data-title="Persistent state under Penultimate" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/369/596/datas/original.png">
                            <img alt="Penultimate &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/369/596/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Persistent state under Penultimate
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <p>
                    <img alt="Penultimate" data-canonical-url="https://raw.githubusercontent.com/qguv/penultimate/master/logo.png" src="https://res.cloudinary.com/devpost/image/fetch/s--6eJA8_bw--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://raw.githubusercontent.com/qguv/penultimate/master/logo.png">
                </p>
                <p>
                    <em>
                        Penultimate
                    </em>
                    is a re-imagined command line interface inspired by chat clients. It's a terminal emulator for the Web as a platform designed and programmed over the course of about seven hours.
                </p>
                <p>
                    Like in a chat client, the user uses an input field at the bottom of the page to issue commands. A set of panels on the right provides a live-updating view of the current directory, git index, and anything else the user wants to track (WIP).
                </p>
                <p>
                    Users can issue commands to a persistant forking shell process, preserving environment variables, current directory, and other state.
                </p>
                <p>
                    You could use this as a way to securely use a shell on a remote machine through a browser. If the domain is set up with TLS/SSL/HTTPS and .htaccess support, this project also serves as ssh in a browser.
                </p>
                <h2>
                    Installation
                </h2>
                <p>
                    Clone the repo and
                    <code>
                        cd
                    </code>
                    .
                    <code>
                        npm install
                    </code>
                    . Then
                    <a href="http://nwjs.io/" rel="nofollow">
                        download
                        <code>
                            nw.io
                        </code>
                    </a>
                    to the penultimate directory and run it.
                </p>
                <h2>
                    How it's different
                </h2>
                <h3>
                    Separated input and output
                </h3>
                <p>
                    Traditional terminals muddle up input and output. Penultimate color-codes and visually separates the two.
                </p>
                <h3>
                    No floating input
                </h3>
                <p>
                    Traditional terminals put the edit cursor any old place depending on how tall the last command's outputs were. Penultimate keeps your cursor at the bottom all the time.
                </p>
                <h3>
                    Persistent "status blocks"
                </h3>
                <p>
                    Persistent
                    <em>
                        status blocks
                    </em>
                    along the right side of the screen keep up-to-date information about the current directory, git index, and anything else the user wants to track (WIP). No more
                    <code>
                        clear &amp;&amp; ls
                    </code>
                    habit.
                </p>
                <h3>
                    Status display
                </h3>
                <p>
                    Commands are marked with a checkmark if they succeed; i.e. their exit code is zero. (graceful failure is, as always, WIP)
                </p>
                <h3>
                    Host doesn't have to be the client
                </h3>
                <p>
                    You can use this as a remote shell, even a secure one if .htaccess and SSL are properly configured. (In this case, just run as a regular node app, ignoring nw.js a.k.a. node-webkit.)
                </p>
                <h2>
                    Inspiration
                </h2>
                <p>
                    Today's terminals are a relic of the serial
                    <code>
                        tty
                    </code>
                    s and
                    <code>
                        vt
                    </code>
                    s of early UNIX. Terminal emulators still start with an empty screen, with a prompt at the top. Command-line input and output are dropped into the same framebuffer, making it difficult to track where output ends and the next line of input begins.
                </p>
                <p>
                    <img alt="DEC VT100" data-canonical-url="https://upload.wikimedia.org/wikipedia/commons/thumb/9/99/DEC_VT100_terminal.jpg/270px-DEC_VT100_terminal.jpg" src="https://res.cloudinary.com/devpost/image/fetch/s--_YVwsciI--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://upload.wikimedia.org/wikipedia/commons/thumb/9/99/DEC_VT100_terminal.jpg/270px-DEC_VT100_terminal.jpg">
                </p>
                <p>
                    Besides interactive terminal applications and GUI terminal emulators, the command-line user experience hasn't changed much since the late '70s.
                </p>
                <h2>
                    How we built it
                </h2>
                <p>
                    Penultimate is a cross-platform (Linux/OS X/Android/Web) node-webkit application.
                </p>
                <h2>
                    Challenges and Accomplishments
                </h2>
                <p>
                    We interact with the user's shell by opening a
                    <code>
                        child_process
                    </code>
                    and keeping it alive. We send each the user's commands into their shell and collect
                    <code>
                        stdout
                    </code>
                    and
                    <code>
                        stderr
                    </code>
                    to print in the correct place on the webpage.
                </p>
                <p>
                    It is surprisingly difficult to determine when a shell (e.g. bash) has finished running a command. Because command-line utilities don't always spit out all output at once, and because bash keeps running (to preserve environment variables and other state) between commands, we had to resort to more creative methods to determine whether bash is ready to accept another command.
                </p>
                <p>
                    Low-level shell interaction across unix pipes also presented some difficulty.
                </p>
                <h2>
                    What we learned
                </h2>
                <p>
                    Quint brushed up on his node.js, process management, and flexbox styling (pre-2015 flexbox is entirely different than today's standard). Will found out just how little
                    <code>
                        child_process
                    </code>
                    es are willing to tell their
                    <code>
                        parent
                    </code>
                    s.
                </p>
                <blockquote>
                    <p>
                        "Is there anything you'd like to tell me,
                        <code>
                            bash
                        </code>
                        ?"
"No,
                        <code>
                            node
                        </code>
                        ."
                    </p>
                </blockquote>
                <h2>
                    What's next for Penultimate
                </h2>
                <p>
                    Penultimate's source is available
                    <a href="https://github.com/qguv/penultimate" rel="nofollow">
                        on Github
                    </a>
                    . We built penultimate because we want to build a better CLI experience, so Patches are very much welcome.
                </p>
                <p>
                    Some items on the penultimate wishlist:
                </p>
                <ul>
                    <li>
                        support user-configurable status blocks (currently
                        <code>
                            ls
                        </code>
                        and
                        <code>
                            git status
                        </code>
                        are displayed on the right)
                    </li>
                    <li>
                        support more user customization, especially with color
                    </li>
                    <li>
                        experiment with alternative layouts
                        <ul>
                            <li>
                                try inverting the order that outputs are entered
                            </li>
                            <li>
                                try moving the input bar to the top
                            </li>
                        </ul>
                    </li>
                    <li>
                        ssh login (needs ssh-client on node server)
                    </li>
                    <li>
                        color support with
                        <a href="https://github.com/echicken/node-ansi" rel="nofollow">
                            node-ansi
                        </a>
                        or
                        <a href="https://github.com/rburns/ansi-to-html" rel="nofollow">
                            ansi-to-html
                        </a>
                    </li>
                    <li>
                        use
                        <a href="https://github.com/jezen/is-thirteen" rel="nofollow">
                            is-thirteen
                        </a>
                        to test for enter keypresses (keycode
                        <code>
                            13
                        </code>
                        )
                    </li>
                </ul>
                <p>
                    <img alt="Persistent state bash under penultimate" data-canonical-url="https://raw.githubusercontent.com/qguv/penultimate/master/bash_state.png" src="https://res.cloudinary.com/devpost/image/fetch/s--6vgDtLLv--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://raw.githubusercontent.com/qguv/penultimate/master/bash_state.png">
                    <img alt="Another bash session under penultimate" data-canonical-url="https://raw.githubusercontent.com/qguv/penultimate/master/bash.png" src="https://res.cloudinary.com/devpost/image/fetch/s--YV1qL-5A--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://raw.githubusercontent.com/qguv/penultimate/master/bash.png">
                </p>
                <h2>
                    Soylent Art
                </h2>
                <p>
                    We
                    <a href="https://twitter.com/reggae_snacks/status/716427863910653952" rel="nofollow">
                        tweeted
                    </a>
                    @Soylent with our Soylent art. They re-tweeted it!
                </p>
                <p>
                    <img alt="Art on a bottle of Soylent" data-canonical-url="https://raw.githubusercontent.com/qguv/penultimate/master/soylent_art.jpg" src="https://res.cloudinary.com/devpost/image/fetch/s--wuVxKMZv--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://raw.githubusercontent.com/qguv/penultimate/master/soylent_art.jpg">
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/bash">
                                bash
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/node-js">
                                node.js
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/qguv/penultimate" rel="nofollow" target="_blank" title="https://github.com/qguv/penultimate">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/QZBeAI22560?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="838455" data-title="Training loss from Azure Machine Learning Services" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/838/455/datas/original.png">
                            <img alt="look ma no wrists &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/838/455/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Training loss from Azure Machine Learning Services
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    <a href="https://physioworks.com.au/injuries-conditions-1/rsi-repetitive-strain-injury" rel="nofollow">
                        RSI
                    </a>
                    (repetitive strain injury) affects more than 3 million people per year. Repetitive strain injury impacts the muscles and tendons, and are often found in people performing office work and excessive use of devices, such as computers or phones. While the risk for RSI can be reduced by proper technique, and taking adequate breaks, it's difficult to treat. And for many whose livelihoods depend on the constant use of technology, RSI can significantly impact their ability to perform productive work.
                </p>
                <p>
                    Here's one
                    <a href="https://www.youtube.com/watch?v=Mz3JeYfBTcY" rel="nofollow">
                        workaround
                    </a>
                    by Emily Shea on her experience with RSI, and building a technology to use voice commands to write code and navigate around her desktop.
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    I wanted to build upon the idea of using hands-free input, so I came up with a camera-based approach to visually track and recognize hand movements, to help augment a RSI-impaired user's ability to effectively control the computer.
                </p>
                <p>
                    I've implemented two kinds of hand movements: the first is just by location, so whenever a hand appears in a set of designated bounding boxes, the custom command corresponding to that box will trigger.
                </p>
                <p>
                    The second movement is slightly more complicated, and involves two hands. When the hands are detected to be moving closer together, a "zoom in" command is triggered, such as zooming in on a page. When the hands are detected to be moving away, a "zoom out" command is triggered, such as zooming out of a page.
                </p>
                <p>
                    In addition to training and implementing the core model, I also wrote a basic command register which users can use to define their custom commands and bounding boxes. This way, they have flexibility over how the tool can be used.
                </p>
                <p>
                    Finally I was able to add a GPU through a distributed server system, increasing the FPS to about 25fps.
                </p>
                <h2>
                    How I built it
                </h2>
                <p>
                    I decided to use the SSD (single-shot detector) for its fast frame processing speed, and I extended an existing implementation of
                    <a href="https://github.com/qfgaohao/pytorch-ssd" rel="nofollow">
                        SSD
                    </a>
                    , and trained it over Azure's Machine Learning Service. In order to properly detect hands, I trained a base model on the
                    <a href="http://vision.soic.indiana.edu/projects/egohands/" rel="nofollow">
                        Egohands
                    </a>
                    dataset over a couple days.
                </p>
                <h2>
                    Challenges I ran into
                </h2>
                <p>
                    Because the detection happened in real time, and because I wanted the model to be light enough to run on a laptop, I had to try various architectures to determine what would work best. I trained two types of base models for SSD:
                    <a href="https://github.com/qfgaohao/pytorch-ssd/blob/master/vision/ssd/mobilenetv1_ssd.py" rel="nofollow">
                        Mobilenet-v1
                    </a>
                    and
                    <a href="https://github.com/qfgaohao/pytorch-ssd/blob/master/vision/ssd/mobilenet_v2_ssd_lite.py" rel="nofollow">
                        Mobilenet-v2-lite
                    </a>
                    . In the end, I picked mobilenet-v1 because my benchmarks showed that, on average, mobilenet-v1 would outperform by ~0.1seconds per frame, and I needed all the&nbsp;fps increase I could get.
                </p>
                <p>
                    Additionally, the images fed into the model would be read directly from the webcam, I needed a way to reduce latency between the video capture and the network as well. I looked at some ideas from (this post)[
                    <a href="https://www.pyimagesearch.com/2017/02/06/faster-video-file-fps-with-cv2-videocapture-and-opencv/" rel="nofollow">
                        https://www.pyimagesearch.com/2017/02/06/faster-video-file-fps-with-cv2-videocapture-and-opencv/
                    </a>
                    ] to use a separate thread for video capture, and divert the model to its own process.
                </p>
                <h2>
                    Accomplishments that I'm proud of
                </h2>
                <p>
                    I was able to get it to work and with good responsiveness. The application runs smooth at &gt;25 frames per second on a Macbook with i5, using a distributed system backend with GPU.
                </p>
                <h2>
                    What I learned
                </h2>
                <p>
                    I learned how to use Azure machine learning to spin up an instance and train and load saved models in Pytorch. I was able to build on top of the model without significantly impacting the latency (reading in from a webcam, processing locations, manipulating keypresses and actions on Mac OS). I learned about keeping the software flexible enough so that users could extend and modify it as needed. I learned about distributed system architecture, ZMQ, message serialization and deserialization to send and receive information across at network.
                </p>
                <h2>
                    What's next for look ma no hands
                </h2>
                <p>
                    I can probably try to improve the latency, which would allow for the possibility of more complex hand gestures and increase the number of functionalities that can be implemented.
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/azure">
                                azure
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/machine-learning">
                                machine-learning
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/python">
                                python
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/pytorch">
                                pytorch
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/lbertge/look-ma-no-wrists" rel="nofollow" target="_blank" title="https://github.com/lbertge/look-ma-no-wrists">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

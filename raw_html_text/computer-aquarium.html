<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li class="text-center">
                        <a data-lightbox="861528" data-title="VMs running along side the aquarium" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/861/528/datas/original.png">
                            <img alt="Computer Aquarium &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/861/528/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                VMs running along side the aquarium
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="861625" data-title="Architecture" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/861/625/datas/original.png">
                            <img alt="Computer Aquarium &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/861/625/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Architecture
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    What it does
                </h2>
                <p>
                    The Computer Aquarium is a Python web app that will monitor the number of packets sent within your
                    <a href="https://cloud.google.com/vpc/" rel="nofollow">
                        Google Cloud VPC
                    </a>
                    . When it notices some packets have been sent, it will push a websocket message to anyone visiting the website. This websocket message tells the UI how to move the fish around the fish tank.
                </p>
                <ul>
                    <li>
                        When traffic enters your VPC from the outside world, the fish "feed" on the traffic by moving to the top of the tank.
                    </li>
                    <li>
                        When traffic flows between two VMs, the fish representing those two VMs move closer together.
                    </li>
                    <li>
                        When traffic flows out of your VPC, the fish move towards the walls of the tank.
                    </li>
                </ul>
                <h2>
                    Applications
                </h2>
                <p>
                    Companies often purchase big TVs and place in the developer spaces to show metrics. They commonly use products like Grafana to graph CPU, RAM, network traffic, etc.
                </p>
                <p>
                    But charts can be complex and boring to look at. There are many more ways to visualize compute metrics, one of which is creating a "computer aquarium". Additionally, Grafana is difficult to configure whereas this project only needs VPC Flow logs to be enabled and pushed to a pub/sub topic.
                </p>
                <h2>
                    How I built it
                </h2>
                <ol>
                    <li>
                        I deployed a VPC with 8 VMs on Google Cloud
                    </li>
                    <li>
                        I created ansible playbooks to configure each VM to randomly send traffic to other VMs
                    </li>
                    <li>
                        I created a Python webserver that listens to Google Cloud Pub/Sub for
                        <a href="https://cloud.google.com/vpc/docs/using-flow-logs" rel="nofollow">
                            VPC Flow logs
                        </a>
                    </li>
                    <li>
                        I designed a UI using Matter.js which displays the fish with realistic physics (so they bounce around the tank)
                    </li>
                </ol>
                <h2>
                    What I learned
                </h2>
                <p>
                    How to configure VPC Flow Logs, how to use pub/sub, how to create good ansible-playbooks, how to serve files
over the same port that's being using for websocket handling.
                </p>
                <h2>
                    What's next for Computer Aquarium
                </h2>
                <ul>
                    <li>
                        Better UI: Matter.js supports drawing sprites, so I could label the fish and actually make them fish-shaped.
                    </li>
                    <li>
                        Efficiency: If your VPC sees a lot of traffic (&gt;1000 rps) then the UI might slow down as it calculates thousands of forces and collisions.
                    </li>
                </ul>
                <h2>
                    Inspiration
                </h2>
                <p>
                    Loosely based on
                    <a href="https://xkcd.com/350/" rel="nofollow">
                        https://xkcd.com/350/
                    </a>
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/google-compute-engine">
                                google-compute-engine
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            matterjs
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/pubsub">
                                pubsub
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/python">
                                python
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/websockets">
                                websockets
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="http://35.212.118.84:8000" rel="nofollow" target="_blank" title="http://35.212.118.84:8000">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                35.212.118.84
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="https://gitlab.com/mac-chaffee/computer-aquarium" rel="nofollow" target="_blank" title="https://gitlab.com/mac-chaffee/computer-aquarium">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                gitlab.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

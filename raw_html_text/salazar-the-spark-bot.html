<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/Z0o6Aqomm5o?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="522054" data-title="Diagram of Salazar the Spark Bot" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/522/054/datas/original.jpg">
                            <img alt="Salazar the Spark Bot &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/522/054/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Diagram of Salazar the Spark Bot
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="524057" data-title="Alexa Demo: https://www.youtube.com/watch?v=bLcePe85mSo" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/524/057/datas/original.jpg">
                            <img alt="Salazar the Spark Bot &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/524/057/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Alexa Demo: https://www.youtube.com/watch?v=bLcePe85mSo
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    I thought about what a sales manager looks for and it boiled down to revenue. Seeing what leads are open, getting their value, and knowing what the month will look like are critical business operations. I was also inspired to make something visually appealing so it gets the point across in a way that words do not. Since the premise is that the user should stay in the Cisco Spark platform, I wanted to make it easy for users to access their Pardot information either by voice or by typing a quick command.
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    The user authenticates with Cisco Spark and Pardot. They are then able to get a monthly forecast of the estimate value of open leads, see the top 5 open leads, and know the probability of those leads closing within the month.
                </p>
                <p>
                    As an added benefit, the user can also have Alexa read the messages aloud, create new rooms, and add new team members, all hands-free.
                </p>
                <p>
                    The information is also shown as an infographic with real-time data from Salesforce Pardot.
                </p>
                <p>
                    There are two prerequisites:
                </p>
                <ol>
                    <li>
                        You must have a Cisco Spark account.
                    </li>
                    <li>
                        You must have a Pardot account.
                    </li>
                </ol>
                <p>
                    Go to
                    <strong>
                        <a href="https://emilytlam.com/pardot.html" rel="nofollow">
                            https://emilytlam.com/pardot.html
                        </a>
                    </strong>
                    to authenticate your Cisco Spark account and Pardot information.
                </p>
                <p>
                    You can say type the following commands:
                    <strong>
                        /opportunities
                    </strong>
                    to get your top 5 leads for this month based on the probability of those leads
                    <strong>
                        /forecast
                    </strong>
                    to get the total amount of leads and sum of the value for this month.
                </p>
                <p>
                    Or you can type
                    <strong>
                        Tell me about my opportunities
                    </strong>
                    and
                    <strong>
                        What's my forecast?
                    </strong>
                </p>
                <p>
                    Then view the infographic to see the pie chart and bar graph that are dynamically rendered.
                </p>
                <p>
                    Easter egg: type
                    <strong>
                        yay!
                    </strong>
                </p>
                <p>
                    To use with Alexa:
                </p>
                <ol>
                    <li>
                        You must link your account with the Sal the Bot Skill in the Alexa app.
                    </li>
                </ol>
                <p>
                    You can say the following:
Alexa....
                    <strong>
                        "list my rooms."
                    </strong>
                    <strong>
                        "read my messages."
                    </strong>
                    <strong>
                        "create a new room."
                    </strong>
                    <strong>
                        "get my teams."
                    </strong>
                    <strong>
                        "create a new team."
                    </strong>
                </p>
                <p>
                    If you get lost at any time, you can say
                    <strong>
                        "menu"
                    </strong>
                    ,
                    <strong>
                        "help"
                    </strong>
                    , or
                    <strong>
                        "stop"
                    </strong>
                    .
                </p>
                <h2>
                    How I built it
                </h2>
                <p>
                    I used an oauth flow to authenticate the user with Cisco Spark and Pardot. Their email and access tokens are stored in a DynamoDB database. API Gateway is used to receive POST messages from Cisco Spark. The webhook is registered to an AWS lambda function that is exposed through API Gateway. This lambda function handles requests from Cisco Spark when new messages are created. The function fetches the user's information from DynamoDB, makes the necessary calls to the Pardot API, and sends a POST message to Cisco Spark using html markdown. From there, the user can click on a link that renders the infographic of the information.
                </p>
                <h2>
                    Challenges I ran into
                </h2>
                <p>
                    I would have liked to render the svg file directly into the Cisco Spark platform but it was not one of the file types supported by the API.
                </p>
                <p>
                    I also had difficulty setting up a bot but once I understood the concept of webhooks it clicked for me. Then I wasn't entirely sure I needed a bot after all because of the limitations (the bot has to be in the chat room, has to be mentioned, etc). The concept of an integration, application, or a bot was differently blurred for me as I traversed between Alexa and my integration that turned into an application but acted like a bot. As a result, It was difficult debugging access tokens because in some cases I wasn't sure if it was Pardot, Cisco, API Gateway, or Lambda, or if an access token had simply expired.
                </p>
                <h2>
                    Accomplishments that I'm proud of
                </h2>
                <p>
                    I'm proud of building an application with many moving parts and calling multiple APIs to not only process information but to render it in a visually pleasing manner. I also focused on a vision and implemented a solution around that concept rather than cobbling together what I could based on what I knew. I wanted my application to be practical, but also visual. And I'm happy to say that when you type in yay!, you will a smiley face. It was to remind me  that in the end, the effort is worth it because I learned to become a better developer.
                </p>
                <h2>
                    What I learned
                </h2>
                <p>
                    I learned a great amount about webhooks, setting up an API to handle POST requests from Cisco Spark via API Gateway, debugging authentication errors (Pardot tokens are only valid for one hour...) and how to use DynamoDB to read and write table entries. Using CloudWatch to debug log messages was crucial. I also learned to deploy lambda functions with Apex which was a huge time saver.
                </p>
                <h2>
                    What's next for Salazar the Spark Bot
                </h2>
                <p>
                    *Making the design flow looking and feel more similar to the Cisco Spark authentication flow.
*Having Salazar make Pardot requests using Alexa. I would also like to incorporate more natural language processing with the Salazar application, especially adding more commands and intents. I also have a Watson sentiment analysis for the Alexa skill that is in development mode.
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/amazon-alexa">
                                amazon-alexa
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/amazon-dynamodb">
                                amazon-dynamodb
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/apex">
                                apex
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            api-gateway
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            aws-lambda
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            cisco-spark-api
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/google-chart">
                                google-chart
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://emilytlam.com/pardot.html" rel="nofollow" target="_blank" title="https://emilytlam.com/pardot.html">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                emilytlam.com
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="https://www.amazon.com/s/ref=nb_sb_noss?url=search-alias%3Dalexa-skills&amp;field-keywords=sal+the+bot" rel="nofollow" target="_blank" title="https://www.amazon.com/s/ref=nb_sb_noss?url=search-alias%3Dalexa-skills&amp;field-keywords=sal+the+bot">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                www.amazon.com
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/hongily25/ciscospark-alexa" rel="nofollow" target="_blank" title="https://github.com/hongily25/ciscospark-alexa">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/hongily25/ciscospark-pardot" rel="nofollow" target="_blank" title="https://github.com/hongily25/ciscospark-pardot">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="https://www.youtube.com/watch?v=bLcePe85mSo" rel="nofollow" target="_blank" title="https://www.youtube.com/watch?v=bLcePe85mSo">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                www.youtube.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/dxSFHd0veSU?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="413419" data-title="Simple plugin. Thats all!" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/413/419/datas/original.png">
                            <img alt="PHP Plugin Builder &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/413/419/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Simple plugin. Thats all!
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="413421" data-title='Plugin console page. $console-&gt;log("Would log anything");' href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/413/421/datas/original.png">
                            <img alt="PHP Plugin Builder &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/413/421/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Plugin console page. $console-&gt;log("Would log anything");
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="403979" data-title="Deploy plugin page" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/403/979/datas/original.png">
                            <img alt="PHP Plugin Builder &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/403/979/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Deploy plugin page
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="403748" data-title="Sample issue with Google Map widget" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/403/748/datas/original.png">
                            <img alt="PHP Plugin Builder &ndash; screenshot 4" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/403/748/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Sample issue with Google Map widget
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="413449" data-title="Settings page for each Jira User" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/413/449/datas/original.png">
                            <img alt="PHP Plugin Builder &ndash; screenshot 5" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/413/449/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Settings page for each Jira User
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="416442" data-title="Independent EC2 instance for each client" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/416/442/datas/original.png">
                            <img alt="PHP Plugin Builder &ndash; screenshot 6" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/416/442/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Independent EC2 instance for each client
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="416444" data-title="1 click install from open sources plugins gallery" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/416/444/datas/original.png">
                            <img alt="PHP Plugin Builder &ndash; screenshot 7" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/416/444/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                1 click install from open sources plugins gallery
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    Sometime Jira admins needs plugins, which could be done in few lines of php code. For example - send pushbullet notifications each time issue changed.
                </p>
                <p>
                    In perfect world creating such a plugin would be executing simple php script each time issue changed. Something like
                </p>
                <pre class="language-nolang"><code>&lt;?php
include "vendor/autoload.php";

$pb = new \Pushbullet\Pushbullet($pushbulletApiKey);
$pb-&gt;allDevices()-&gt;pushNote($issueKey." ".$issueSummary, $issueChangesSummary);

$console-&gt;log("Send notification to pushbullet ".$pushbulletApiKey."\n".$issueKey." ".$issueSummary."\n".$issueChangesSummary);
</code></pre>
                <p>
                    And creating simple configuration which will add pushbulletApiKey for each user and execute php script each time, when some user need to be notified. Something like YAML file
                </p>
                <pre class="language-nolang"><code>settings:
                user:
                -
                variable: pushbulletApiKey
                title: Pushbullet Api key
                help: Its used to send notifications. You can get it &lt;a href='https://www.pushbullet.com/account' target='_blank'&gt;in your account profile&lt;/a&gt;
                required: true
webhooks:
userNotifier:
handler: sendNotification.php
</code></pre>
                <p>
                    In real world Jira admin will need to spend a lot of hours on digging into documentation and creating complex system before he will be able to execute even that simple php script.
                </p>
                <p>
                    Jira Webhooks will not work, because each Jira User will have own pushbullet account and each Jira User will need to store his API key somewhere.
                </p>
                <h2>
                    Plugin builder make everything simple.
                </h2>
                <p>
                    Plugin builder could take your php script and execute it each time issue is changed.
                </p>
                <p>
                    No need for deployment - public git repository with script would be enough. System will deploy your code automatically on your personal Amazon EC2 instance!
                </p>
                <p>
                    Plugin builder also provide common features for your scripts, like User settings interface and Console log.
                </p>
                <p>
                    If you are still confused - I have created tutorial
                    <a href="https://azhilin.atlassian.net/wiki/display/PBFJ/Building+your+first+plugin+for+Jira+with+Plugin+Builder?src=contextnavpagetreemode" rel="nofollow">
                        Building your first plugin for Jira with Plugin Builder
                    </a>
                </p>
                <h2>
                    Something more complex than "execute php each time when issue changed"
                </h2>
                <p>
                    Hm...  What about old Jira Core issue, which is too simple for "real" plugin and too anoying for leaving it AS IS? I am talking about
                    <a href="https://jira.atlassian.com/browse/JRA-7663" rel="nofollow">
                        JRA-7663
                    </a>
                    - Grant permissions to watchers, closed with "Will not fix" with 92 votes and 70 watchers.
                </p>
                <p>
                    Unfortunately, It cant be 100% fixed, because of Jira limitations.
                    <br>
                    But 20 lines of php code with Plugin Builder could simplify your life, if you have similar problem. Custom issue field would be automatically synchronized with watchers.
                </p>
                <pre class="language-nolang"><code>&lt;?php
//$console-&gt;log($json);


if(array_key_exists("changelog",$json) &amp;&amp; array_key_exists("items",$json["changelog"])) {
foreach ($json["changelog"]["items"] as $changes) {
if ($changes["field"] == 'Can see this issue') {
// Format is [user-name-1, user-name-2]. You could use $jira-&gt;parseCustomFieldMultipleUsers($str) to get array of usernames
$previousState = $jira-&gt;parseCustomFieldMultipleUsers($changes["from"]);

$currentState = $jira-&gt;parseCustomFieldMultipleUsers($changes["to"]);

$addedUsers = array_diff($currentState,$previousState);
if(count($addedUsers)) {
foreach ($addedUsers as $addedUserName) {
$jira-&gt;post("/rest/api/2/issue/".$issueKey."/watchers", $addedUserName);
}
$console-&gt;success("Done adding users ".implode(", ",$addedUsers)." to watch list for &lt;a href='".$issueUrl."' target='_blank'&gt;".$issueKey." ".$issueSummary."&lt;/a&gt;!");
}
$removedUsers = array_diff($previousState,$currentState);
if(count($removedUsers )) {
foreach ($removedUsers as $removedUserName) {
$jira-&gt;delete("/rest/api/2/issue/".$issueKey."/watchers?username=".$removedUserName);
}
$console-&gt;error("Done removing users ".implode(", ",$removedUsers)." from watch list for &lt;a href='".$issueUrl."' target='_blank'&gt;".$issueKey." ".$issueSummary."&lt;/a&gt;!");
}
}
}
}
</code></pre>
                <p>
                    More details here -
                    <a href="https://azhilin.atlassian.net/wiki/display/PBFJ/Plugin+-+JRA-7663+fix+-+Sync+watchers+with+custom+field" rel="nofollow">
                        Plugin - JRA-7663 fix - Sync watchers with custom field
                    </a>
                </p>
                <h2>
                    Why do I use git repositories for storing plugins instead of simple file upload?
                </h2>
                <p>
                    I want to make it easy for Jira admins to share their plugins. In future PluginBuilder would have private repositories support, but right now - only public repositories are allowed.
                </p>
                <p>
                    Changing something similar is much more simple, as looking through huge documentation and trying to learn how to build "real" Jira plugin.
                </p>
                <p>
                    Do you want to get telegram notifications? Twillio SMS? Slack chat messages? Fork pushbullet plugin, add library for your system, deploy and enjoy! You could do it within 30 minutes while drinking mornings coffee!
                </p>
                <p>
                    Want to create something more complex? Just contact me and I will create script prototype for you!
                </p>
                <h2>
                    Is it secure? What, if somebody will upload php shell? Do you limit php commands?
                </h2>
                <p>
                    Yes,
                    <strong>
                        its 100% secure.
                    </strong>
                    You can access only your data.
                </p>
                <p>
                    And No.
                    <strong>
                        Php scripts have NO limits on Plugin Builder
                    </strong>
                    .
                </p>
                <p>
                    When you install plugin - new EC2 Amazon instance is created personally for you. Plugin Builder is located on independent instance and its not accessible for user's php script.
                </p>
                <p>
                    Jira doesn't connect to user's EC2 instance. When hook is send - its sent to PluginBuilder, which locate related instance and forward hook data to it with syntax sugar variables like $issueChangesSummary.
                </p>
                <p>
                    It makes system simple, secure and unlimited at the same time!
                </p>
                <h2>
                    What about adding something to Jira UI? Like Google map widget with clients address on issue's sidebar.
                </h2>
                <p>
                    Thats another use-case for plugin builder. Sometime Jira users want to show on issue page something, which is pretty simple to build using php. It could be some client's data from external CMS or even something interactive, like google map.
                </p>
                <p>
                    Adding new UI to Jira is a bit more tricky, its explained here -
                    <a href="https://azhilin.atlassian.net/wiki/display/PBFJ/Enabling+Jira+UI+integrations" rel="nofollow">
                        Enabling Jira UI integrations
                    </a>
                </p>
                <h2>
                    Existing open sources plugins
                </h2>
                <p>
                    You could get actual list from "Open sources plugins" tab on your PluginBuilder settings page.
Right now I did
                </p>
                <ul>
                    <li>
                        pushbullet notifications about issues changes
                        <a href="https://bitbucket.org/plugin-builder-for-jira/pushbullet-notifications/src" rel="nofollow">
                            https://bitbucket.org/plugin-builder-for-jira/pushbullet-notifications/src
                        </a>
                    </li>
                    <li>
                        JRA-7663 improvements - sync watchers with custom field -
                        <a href="https://bitbucket.org/plugin-builder-for-jira/jra-7663-set-permissions-for-watchers/src" rel="nofollow">
                            https://bitbucket.org/plugin-builder-for-jira/jra-7663-set-permissions-for-watchers/src
                        </a>
                    </li>
                    <li>
                        sample widget for issues page - google map -
                        <a href="https://bitbucket.org/plugin-builder-for-jira/issue-sidebar-google-map/src" rel="nofollow">
                            https://bitbucket.org/plugin-builder-for-jira/issue-sidebar-google-map/src
                        </a>
                    </li>
                </ul>
                <h2>
                    What's next for Plugin Builder for Jira Cloud
                </h2>
                <ul>
                    <li>
                        add more sample plugins
                    </li>
                    <li>
                        make plugin deployment asynchronous
                    </li>
                    <li>
                        bitbucket webhooks for automated plugin reloading
                    </li>
                    <li>
                        private git repositories support (via deploy keys), ability to pick git branch/tag
                    </li>
                    <li>
                        more Jira integration points
                    </li>
                    <li>
                        more helpers and samples
                    </li>
                    <li>
                        direct ssh access to amazon EC2 instance
                    </li>
                    <li>
                        ability to use own EC2 instance (more fast, connected with internal infrastructure)
                    </li>
                    <li>
                        automatically detect new public plugins and add them to showcase
                    </li>
                    <li>
                        online php editor with autocompletion. Probably, it would be ace editor
                    </li>
                    <li>
                        add ability to attach own ssl sertificate and load plugin content directly (it will decrease plugin load time)
                    </li>
                </ul>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/amazon-web-services">
                                amazon-web-services
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/php">
                                php
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            symfony2
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://marketplace.atlassian.com/plugins/net.andrewzhilin.cloud.pluginbuilder/cloud/overview" rel="nofollow" target="_blank" title="https://marketplace.atlassian.com/plugins/net.andrewzhilin.cloud.pluginbuilder/cloud/overview">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                marketplace.atlassian.com
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="https://azhilin.atlassian.net/wiki/display/PBFJ" rel="nofollow" target="_blank" title="https://azhilin.atlassian.net/wiki/display/PBFJ">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                azhilin.atlassian.net
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="https://azhilin.atlassian.net/wiki/display/PBFJ/Building+your+first+plugin+for+Jira+with+Plugin+Builder" rel="nofollow" target="_blank" title="https://azhilin.atlassian.net/wiki/display/PBFJ/Building+your+first+plugin+for+Jira+with+Plugin+Builder">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                azhilin.atlassian.net
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="https://bitbucket.org/account/user/plugin-builder-for-jira/projects/SLPL" rel="nofollow" target="_blank" title="https://bitbucket.org/account/user/plugin-builder-for-jira/projects/SLPL">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                bitbucket.org
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/VWcvsKokZ0U?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="442819" data-title="A sample 2D sketch of a room with 3D objects in them." href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/442/819/datas/original.jpg">
                            <img alt="Metropolis &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/442/819/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                A sample 2D sketch of a room with 3D objects in them.
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="442810" data-title="Our system's output given that input image." href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/442/810/datas/original.png">
                            <img alt="Metropolis &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/442/810/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Our system's output given that input image.
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="441710" data-title="A look at the internals of one of the ways in which we analyze images." href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/710/datas/original.png">
                            <img alt="Metropolis &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/710/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                A look at the internals of one of the ways in which we analyze images.
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="441713" data-title="The Gear VR headset we used to experience the scenes we generated." href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/713/datas/original.jpg">
                            <img alt="Metropolis &ndash; screenshot 4" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/441/713/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                The Gear VR headset we used to experience the scenes we generated.
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    One of our team members is currently enrolled in a computational cognitive science class, and he's been learning about this neat idea of inverse graphics. Inverse graphics is both a theory of how vision works in the mind and a computational technique to solve CV problems. We're intrigued at the thought that the algorithm behind inverse graphics is strong enough to solve a diverse array of CV tasks, so we were eager to work on Metropolis, which builds off ideas in the literature.
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    Metropolis accepts as input a single 2D image and outputs a 3D model, ready to seamlessly be explored in a virtual world thanks to the Gear VR headset. Metropolis can accept both rendered images and hand-drawn sketches as input, which means you can draw a room with some basic furniture (simple blocks) and be able to walk around that room _ in seconds _. Metropolis lets you bring your sketches and imagination to life, in the full vigor of the 3rd dimension.
                </p>
                <h2>
                    How we built it
                </h2>
                <p>
                    The majority of Metropolis was build with Python and C#: Python for the backend algorithm and web server and C# for the VR / Unity integration. The first step to using inverse graphics to solve a CV problem is to design a renderer that can render your scenes of interest. There are plenty of off-the-shelf renderers we could have used, but for maximum flexibility and learning, we built our own 3D renderer from scratch.
                </p>
                <p>
                    Once we had the renderer, the next step was to hook in the fundamental algorithms that power inverse graphics. These algorithms tend to be in the MCMC (markov chain monte carlo) family, like Metropolis-Hastings (this project's namesake) and Hamiltonian Monte Carlo. Like we did with our renderer, instead of using any of a number of pre-built probabilistic programming libraries, we opted to implement these algorithms from scratch.
                </p>
                <p>
                    Next, we needed a way to view our 3D models in the Gear VR, so we used Unity to create an Android application that could do just that. We put the Metropolis backend on a Flask server in the cloud and directed our Android app to work with that API. This allowd us to take pictures of sketches with our phone and immediately render the corresponding 3D, VR rooms.
                </p>
                <h2>
                    Challenges we ran into
                </h2>
                <p>
                    The biggest issue we ran into was dealing with Metropolis-Hasting's slow convergence time. We fooled around with alternatives like Hamiltonian Monte Carlo, but in the end, settled on beginning with a pre-optimization optimization step in which we use particle swarm optimization to determine a good starting point for the MH/HMC algorithm. (like most things in this project, we implemented PSO ourselves).
                </p>
                <p>
                    Another issue we had was dealing with slow DNS update times since we registered
                    <a href="https://metropolis.black/" rel="nofollow">
                        https://metropolis.black/
                    </a>
                    for this project and it took some time for DNS to recognize it.
                </p>
                <h2>
                    Accomplishments that we're proud of
                </h2>
                <p>
                    We're very proud of how hard we worked to do much of this project from scratch. We're also especially proud of solving a challenging computer vision problem without resorting to less-interesting, catch-all techniques like neural networks!
                </p>
                <h2>
                    What we learned
                </h2>
                <p>
                    Something we learned was how important it is to iterate. We set out to complete a dozen small milestones this weekend, each leading up in some way to the final product, and we did it. We also learned a lot of fun algorithmic stuff as you can imagine.
                </p>
                <h2>
                    What's next for Metropolis
                </h2>
                <p>
                    Next, we'd like to expand Metropolis to render cool-looking textures and more classes of objects. We did some work inferring the 3D structure of real-life objects during the hackathon, but we didn't have the time to polish this fully so we don't plan on showing it off just yet.
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/android">
                                android
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/c--2">
                                c#
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/flask">
                                flask
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            pillow
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/python">
                                python
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/samsung-gear-vr">
                                samsung-gear-vr
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/unity">
                                unity
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://metropolis.black" rel="nofollow" target="_blank" title="https://metropolis.black">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                metropolis.black
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/turbomaze/metropolis" rel="nofollow" target="_blank" title="https://github.com/turbomaze/metropolis">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/aneeshashutosh/metropolis-unity" rel="nofollow" target="_blank" title="https://github.com/aneeshashutosh/metropolis-unity">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

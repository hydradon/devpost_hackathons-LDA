<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/3dzcnvvSrfo?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="679948" data-title="Alexa-enabled Compost Status Tablet" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/679/948/datas/original.JPG">
                            <img alt="The Compost Professor &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/679/948/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Alexa-enabled Compost Status Tablet
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="679959" data-title="High Level Architecture for the Compost Professor Alexa skill and device cloud" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/679/959/datas/original.jpg">
                            <img alt="The Compost Professor &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/679/959/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                High Level Architecture for the Compost Professor Alexa skill and device cloud
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="679939" data-title="Example gauge chart that provides additional detail" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/679/939/datas/original.png">
                            <img alt="The Compost Professor &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/679/939/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Example gauge chart that provides additional detail
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="679942" data-title="Automated probe and 3D printed enclosure for IoT probe" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/679/942/datas/original.jpg">
                            <img alt="The Compost Professor &ndash; screenshot 4" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/679/942/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Automated probe and 3D printed enclosure for IoT probe
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="679949" data-title="Automated probe and 3D printed enclosure for IoT probe (top open)" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/679/949/datas/original.JPG">
                            <img alt="The Compost Professor &ndash; screenshot 5" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/679/949/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Automated probe and 3D printed enclosure for IoT probe (top open)
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="679943" data-title="PCBs used (in conjunction with Adafriut Feathers) to record and upload temperature and moisture data" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/679/943/datas/original.jpg">
                            <img alt="The Compost Professor &ndash; screenshot 6" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/679/943/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                PCBs used (in conjunction with Adafriut Feathers) to record and upload temperature and moisture data
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="679957" data-title="Work in progress - Alexa-enabled tablet" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/679/957/datas/original.jpeg">
                            <img alt="The Compost Professor &ndash; screenshot 7" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/679/957/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Work in progress - Alexa-enabled tablet
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="679955" data-title="Back of the Alexa-enabled tablet" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/679/955/datas/original.jpeg">
                            <img alt="The Compost Professor &ndash; screenshot 8" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/679/955/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Back of the Alexa-enabled tablet
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    Per the EPA, food scraps and yard waste make up 20-30% of what we throw away. These materials could instead be composted, keeping waste out of landfills and reducing methane gas emissions.
                </p>
                <p>
                    Unfortunately, most do not compost, due to ignorance on the benefits of composting, misunderstanding of what can be composted, or lack of desire to manage compost.
                </p>
                <p>
                    The Compost Professor is a smart composting system that helps to address these issues by making the science of composting simple for today&rsquo;s homeowner. The Compost Professor uses analytics to help anyone successfully create compost with minimal effort.
                </p>
                <p>
                    There are two main types of composting - hot composting (using heat and air to break down the materials) and cold composting (materials decompose on their own over a longer period of time). Hot composting is more beneficial - compost is created is a shorter timeframe and less methane is released into the atmosphere. This skill is built to help users "hot" compost.
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    The Compost Professor gives customized recommendations on making compost. The system uses the temperature, moisture, and weather forecast to give recommendations on what to add and when to turn the compost. It can also tell you to hydrate (water) the compost. Finally, the Compost Professor can track when your compost is ready for use.
                </p>
                <h2>
                    Background
                </h2>
                <p>
                    The Compost Professor is a bit of a passion project for me. I've made three prior versions to this Alexa enabled version - each iteration slightly better, but harder to implement (due to costs and complexity). I wanted to create a solution that was simple to use and customizable for more advanced users.
                </p>
                <p>
                    This version of the Compost Professor is the most simple yet... all you need is Alexa, a thermometer, and your hands to use it. The thermometer is used to get the temperature (duh!); you can use your hands to judge moisture level. This information can be given to Alexa; from there, the user can get customized recommendations for his or her compost.
                </p>
                <p>
                    I also wanted to stay true to my "maker/builder" roots, and provide "upgrade" options. More adventurous users can build a system that automatically measures the temperature and moisture and uploads this data to the Compost Professor cloud (a series of APIs and DynamoDB tables).
                </p>
                <h2>
                    How I built it
                </h2>
                <p>
                    The key inputs for analyzing compost are temperature and moisture. I wanted to create a low barrier for using the system, so these values can be provided verbally (via Alexa). Alternatively, a user can create a simple temperature/moisture monitor that can automatically provide the required information to Alexa.
                </p>
                <p>
                    <img alt="High Level Architecture" data-canonical-url="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/679/959/datas/gallery.jpg" src="https://res.cloudinary.com/devpost/image/fetch/s--4KtvMs90--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/679/959/datas/gallery.jpg" title="High Level Architecture">
                </p>
                <h3>
                    A: Ontaining key user information:
                </h3>
                <p>
                    As stated above, the Compost Professor needs temperature and moisture readings in order to provide a recommendation. Additional user information is needed to refine the analysis and experience
                </p>
                <ol>
                    <li>
                        Postal Code - this is used to determine the precipitation forecast
                    </li>
                    <li>
                        Email - used to send the user detailed instructions on how to take measurements
                    </li>
                    <li>
                        Given Name - used to personalize the experience
                    </li>
                    <li>
                        Temperature Units - C or F (used when confirming the temperature input)
                    </li>
                </ol>
                <h3>
                    B: Saving User Attributes, Times Accessed, Getting required information, etc.:
                </h3>
                <p>
                    I wanted to separate the "compost analysis" functionality from the Alexa skill. The Alexa skill is primarily responsible for interpreting the requests from the user (via intents) and calling the appropriate API. In addition, the Alexa skill is responsible for:
                </p>
                <ol>
                    <li>
                        Obtaining the information listed in Step A
                    </li>
                    <li>
                        Saving the number of times a user has accessed the system (used to provide contextual welcome and help)
                    </li>
                    <li>
                        Saving status of setup (also used to provide contextual welcome and help)
                    </li>
                    <li>
                        Sending instructional emails (via the Amazon Simple Email Service)
                    </li>
                    <li>
                        Creating and storing the API key (used to access the Compost Professor APIs, done via the Amazon API Gateway API)
                    </li>
                    <li>
                        Randomizing greetings and message ("Hello", "Hi", "Welcome back, Darian.", etc).
                    </li>
                </ol>
                <p>
                    Metricas and user data is stored in a
                    <strong>
                        DynamoDB
                    </strong>
                    table. User variables are updated every time the user logs in (in the off chance that the user changes their first name or zip code).
                </p>
                <p>
                    I used
                    <strong>
                        Dialog Management
                    </strong>
                    and
                    <strong>
                        Entity Resolution
                    </strong>
                    to simplify the setup process:
                </p>
                <ul>
                    <li>
                        User is asked the data gathering method (DIY or manual), the type of bin (open or closed), and if they want instructions emailed.
                    </li>
                    <li>
                        Entity resolution is used to match any variations of "do it yourself" (diy, electronics, etc) and manual (verbal, manually provide, etc).
                    </li>
                </ul>
                <p>
                    I also used
                    <strong>
                        Dialog Management
                    </strong>
                    and
                    <strong>
                        Entity Resolution
                    </strong>
                    for data gathering:
                </p>
                <ul>
                    <li>
                        User needs to provide temperature and moisture
                    </li>
                    <li>
                        Moisture is described qualitative - wet, dry, moist, etc, so entity resolution is used to map the description to a moisture level
                    </li>
                    <li>
                        Users do not need to provide the temperature scale (F or C); this data is derived from the Customer Settings API; however, users can "override" that if they verbally provide the scale
                    </li>
                    <li>
                        I confirm the temperature and moisture before processing
                    </li>
                </ul>
                <h3>
                    C: Performing Analysis
                </h3>
                <p>
                    The Compost Professor "cloud" is a series of Lambda functions (with associated DynamoDB tables) that are exposed via API gateway. The APIs require a key; this serves two purposes: 1)allows 'linkage' between the Compost Professor and the Alexa Skill and 2) forces registration to use the skill (and for implementing user limits)
                </p>
                <p>
                    The Lambda functions use the Dark Sky api to determine precipitation forecast. This is needed if the compost is dry and the bin in exposed to the environment. If there is a forecast of rain, then there is no action needed (the user does not need to hydrate the compost manually).
                </p>
                <p>
                    The Regression-JS library is used to determine trend data. Specific actions are needed if compost is drying out, getting wetter, warming up, or cooling down.
                </p>
                <h3>
                    D: Creating Charts
                </h3>
                <p>
                    <img alt="Gauge Chart for Temperature" data-canonical-url="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/679/939/datas/gallery.jpg" src="https://res.cloudinary.com/devpost/image/fetch/s--xr3f8hWs--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/679/939/datas/gallery.jpg">
                </p>
                <p>
                    The Compost Professor collects quite a bit of data (especially if a DIY hardware solution is used). I wanted to expose some of this data back to the user. Google Charts provides a simple, HTML-generated charts. I needed to convert the charts (rendered in HTML) as an image, so I used PhantomJS to take a headless screen-shot of the charts. The screen shots are saved as jpg images to an S3 bucket. The images are then rendered via a screen-enabled device or the Alexa app (when the user asks about the temperature, moisture, battery, or days until the compost is ready).
                </p>
                <p>
                    The PhantomJS-embedded Lambda function takes a few seconds to spin up, so I used AWS Cloud Watch events to keep the lambda function "warm". You can read more about PhnatomJS
                    <a href="https://medium.com/@marco.luethy/running-headless-chrome-on-aws-lambda-fa82ad33a9eb" rel="nofollow">
                        here.
                    </a>
                    , and keeping Lambda warm
                    <a href="https://read.acloud.guru/how-to-keep-your-lambda-functions-warm-9d7e1aa6e2f0" rel="nofollow">
                        here
                    </a>
                </p>
                <h3>
                    E: Automated Do It Yourself Temperature and Moisture Reader
                </h3>
                <p>
                    <img alt="IoT Probe" data-canonical-url="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/679/949/datas/gallery.jpg" src="https://res.cloudinary.com/devpost/image/fetch/s--rdWxvJvA--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/679/949/datas/gallery.jpg">
                </p>
                <p>
                    I designed the Compost Professor to support verbal recording of measurements and automated data updates. A simple IoT (Internet of Things) probe can be created (for about $25-50) to simplify the measurement recording process. The IoT probe measures the temperature and moisture every hour and sends the data to the Compost Professor (via the same APIs that the Alexa skill uses).
                </p>
                <p>
                    Instructions to build the probe are posted on
                    <a href="https://www.hackster.io/darian-johnson/compost-professor-diy-hardware-alexa-version-260b7d" rel="nofollow">
                        Hackster.io.
                    </a>
                </p>
                <h3>
                    F: Alexa-enabled Compost Status Tablet
                </h3>
                <p>
                    <img alt="Tablet" data-canonical-url="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/679/948/datas/gallery.jpg" src="https://res.cloudinary.com/devpost/image/fetch/s--Sytgb4jq--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/679/948/datas/gallery.jpg">
                </p>
                <p>
                    As a bonus, I decided to create a stand alone display that allows a user to quickly get status of their compost w/o asking Alexa (all the user needs to do is push a button on the device). I remixed and merged two Raspberry Pi
                    <a href="https://learn.adafruit.com/7-portable-raspberry-pi-multitouch-tablet" rel="nofollow">
                        tablet
                    </a>
                    and
                    <a href="https://learn.adafruit.com/10-raspberry-pi-desktop" rel="nofollow">
                        computer
                    </a>
                    projects from Adafruit. Given that I was using a Raspberry Pi, I decided to make the tablet Alexa enabled. Here's a high level overview of the tablet
                </p>
                <ol>
                    <li>
                        Screen displays Temperature and Time (similar to Echo Show)
                    </li>
                    <li>
                        User is able to get compost details with a button click
                    </li>
                    <li>
                        Motion detector is used to turn on/off screen
                    </li>
                    <li>
                        LED indicator to provide status of Alexa response, if Alexa is muted, etc
                    </li>
                    <li>
                        Provide displays for weather, and simple questions (that have a card - e.g. "Who is Barack Obama")
                    </li>
                </ol>
                <h2>
                    Challenges I ran into
                </h2>
                <p>
                    The touchscreen, Raspberry Pi, and speaker required more amps that expected. I originally designed the tablet to be battery powered, but kept getting brownouts. I moved to a more robust plug, which temporarily mitigated the problem.
                </p>
                <p>
                    I also struggled to get the templates to display on the screen; I used nodeJS to render the cards, by writing a hack in the AVS C code to output the display card JSON to a file. The nodeJS app continuously looks for any new files, and renders them via a node/HTML app. Going forward, I would write the GUI in C.
                </p>
                <p>
                    Finally, I wanted to add physical buttons for volume and muting, but struggled to get the AVS code to compile once I added code to enable the physical buttons. This is something I plan to look into at a later time.
                </p>
                <h2>
                    Other tidbits
                </h2>
                <ol>
                    <li>
                        Leveraging Amazon Alexa Customer APIs for key information - Amazon just released a number of APIs that simplified getting information about the user (units of measurement, email address, name, etc). In the past, I would need to implement account linking to get this information. Using the new APIs reduces user "friction" and simplifies getting the required inputs.
                    </li>
                    <li>
                        Using APIs extensively - Most of my Alexa skills are self contained; this skill - given that there are multiple ways to input and receive data - needed to allow multiple points of interaction. Building APIs was the route I took.
                    </li>
                    <li>
                        This is my first video enabled skill. I provide instructions for users with video-enabled devices.
                        <a href="https://www.youtube.com/watch?v=qhu9g0ekgmo" rel="nofollow">
                            Manual Instructions
                        </a>
                        ,
                        <a href="https://www.youtube.com/watch?v=L9qI3HbYp4I" rel="nofollow">
                            DIY Instructions
                        </a>
                    </li>
                </ol>
                <h2>
                    What's next for Compost Professor
                </h2>
                <p>
                    I'd like to update the probe to incorporate:
                </p>
                <ul>
                    <li>
                        solar power
                    </li>
                    <li>
                        light measurement
                    </li>
                    <li>
                        ambient temperature measurements
                    </li>
                </ul>
                <p>
                    In addition, I'd like to integrate the Compost Professor hardware into a rotating tumbler, and look into auto hydration and auto turning of the compost.
                </p>
                <p>
                    Finally, using Polly voices seems like a natural evolution for the skill.
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/adafruit">
                                adafruit
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            alexa-skills-kit
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            alexa-voice-service
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/amazon-dynamodb">
                                amazon-dynamodb
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            lambda
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/node-js">
                                node.js
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/raspberry-pi">
                                raspberry-pi
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://www.amazon.com/dp/B07HM58P8L" rel="nofollow" target="_blank" title="https://www.amazon.com/dp/B07HM58P8L">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                www.amazon.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

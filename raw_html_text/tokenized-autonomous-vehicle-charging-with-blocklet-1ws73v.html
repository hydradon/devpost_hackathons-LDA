<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://player.vimeo.com/video/311282600?byline=0&amp;portrait=0&amp;title=0#t=" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="741292" data-title="Charging Station Available" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/741/292/datas/original.jpg">
                            <img alt="Autonomous Vehicle Charging &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/741/292/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Charging Station Available
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="741294" data-title="Charging Station Reserved - Contract Accepted" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/741/294/datas/original.jpg">
                            <img alt="Autonomous Vehicle Charging &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/741/294/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Charging Station Reserved - Contract Accepted
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="741300" data-title="Vehicle Actively Charging" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/741/300/datas/original.jpg">
                            <img alt="Autonomous Vehicle Charging &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/741/300/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Vehicle Actively Charging
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="741301" data-title="Charging Station displaying Vehicle Wallet QR code" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/741/301/datas/original.jpg">
                            <img alt="Autonomous Vehicle Charging &ndash; screenshot 4" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/741/301/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Charging Station displaying Vehicle Wallet QR code
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="741302" data-title="Charging Station displaying its own wallet QR code" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/741/302/datas/original.jpg">
                            <img alt="Autonomous Vehicle Charging &ndash; screenshot 5" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/741/302/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Charging Station displaying its own wallet QR code
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="741305" data-title="Process Sequence Diagram" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/741/305/datas/original.png">
                            <img alt="Autonomous Vehicle Charging &ndash; screenshot 6" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/741/305/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Process Sequence Diagram
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h1>
                    Tokenized Autonomous Vehicle Charging with Filament Blocklet
                </h1>
                <p>
                    Filament's entry for the MOBI 2018 Grand Challenge demonstrates Filament's Blocklet technology in machine-to-machine application where an autonomous electric vehicle exchanges tokenized value for electric charging via an Ethereum Smart Contract.
                </p>
                <h2>
                    Table of Contents
                </h2>
                <ol>
                    <li>
                        Introduction
                    </li>
                    <li>
                        Process Overview
                    </li>
                    <li>
                        Component Overview
                    </li>
                    <li>
                        Process Details
                    </li>
                    <li>
                        Hardware Requirements
                    </li>
                    <li>
                        Team Members
                    </li>
                </ol>
                <h2>
                    Introduction
                </h2>
                <p>
                    The Filament Blocklet USB Enclave provides host systems with blockchain-based identity and authentication services. The device installs in a standard Type A USB 2.0 host port and interfaces to a host device driver for configuration and subsequent operational services. The Blocklet USB Enclave incorporates a trusted execution environment that supports multiple enterprise blockchain platforms including Ethereum, Hyperledger Fabric, and BigchainDB.
                </p>
                <p>
                    In this demonstration, the autonomous electric vehicle is represented by a Roomba Create 2 programmable robot, and the electric charging station is represented by the Roomba&rsquo;s docking station. Both the charging station and the vehicle have small low-powered computers that have Blocklet Enclaves attached and configured to work with Ethereum. No private keys are stored in the file system or on the computer's memory&mdash;all keys protected by Blocklet are unreproducible by any party. At each step of the blockchain interactions, the charging station and vehicle use Blocklet Enclaves to prove and authenticate their identity and the data being transmitted.
                </p>
                <h2>
                    Process Overview
                </h2>
                <p>
                    At the end of a work cycle, the vehicle will automatically seek out an electronic charging station to recharge its onboard battery.
                </p>
                <p>
                    The computer on the vehicle uses its Blocklet Enclave to initiate a payment channel with the Ethereum ledger using a Smart Contract. The Smart Contract defines a process to set up an escrow that allows tokenized transfer of funds at a fixed-rate based on kWh consumed.
                </p>
                <p>
                    This type of smart contract guarantees the vendor (charging station) will be paid for all electricity supplied. Conducting the transaction off-chain also saves both parties from incurring extra costs.
                </p>
                <p>
                    Once the charging station computer independently verifies that the initiated contract is intended for its Blocklet Enclave identity, the charging station signals that the vehicle is allowed to begin charging.
                </p>
                <p>
                    As the vehicle charges, micro-payments are transacted to the payment channel. Once charging is complete and the vehicle has left the station, the charging station finalizes the payment channel and receives the appropriate number of tokens that were placed in escrow.
                </p>
                <h2>
                    Component Overview
                </h2>
                <p>
                    In the provided package, the following code components are provided:
                </p>
                <h3>
                    Vehicle
                </h3>
                <p>
                    The vehicle scripts include:
                </p>
                <ol>
                    <li>
                        Hardware Manager - Written in Python, this script manages the states that the vehicle is currently in, as well as detecting via Bluetooth LE Eddystone which charging station to initiate a contract.
                    </li>
                    <li>
                        Ethereum Manager - Written in JavaScript, this set of scripts manages interactions with Blocklet Enclave, the Ethereum Smart Contract, and sending the charging station the contract information.
                    </li>
                </ol>
                <h4>
                    Payment Channel Smart Contract
                </h4>
                <p>
                    The Smart Contract used by this demonstration was written by Matthew Di Ferrante and is licensed under GNU General Public License v3.0. Mr. Di Ferrante discusses the contract in detail in this article:
                    <a href="https://medium.com/@matthewdif/ethereum-payment-channel-in-50-lines-of-code-a94fad2704bc" rel="nofollow">
                        "Ethereum Payment Channel in 50 Lines of Code"
                    </a>
                    . The code is
                    <a href="https://github.com/mattdf/payment-channel" rel="nofollow">
                        available in this GitHub repository
                    </a>
                    .
                </p>
                <h3>
                    Charging Station
                </h3>
                <p>
                    The charging station scripts include:
                </p>
                <ol>
                    <li>
                        Hardware Manager - Written in Python, this script manages the states that the charger is currently in, broadcasting via Eddystone BLE the availability of the station for charging, and communicating the kWh consumed and contract finalization to the Ethereum Smart Contract.
                    </li>
                    <li>
                        Ethereum Manager - Written in JavaScript, this set of scripts manages interactions with Blocklet Enclave and the Ethereum Smart Contract.
                    </li>
                    <li>
                        Display UI - Written in JavaScript, this web UI displays the status of the charging station. Intended to be displayed full screen on a small, integrated display.
                    </li>
                </ol>
                <h3>
                    Optional - Private Ethereum Test Network
                </h3>
                <p>
                    For ease of development and testing, a locally hosted private Ethereum test network can be set up for the charging station and vehicle to interact with. This private network can work in an accelerated proof of authority mode which utilizes the normal Ethereum primitives at a much faster and consistent rate.
                </p>
                <h2>
                    Process Details
                </h2>
                <ol>
                    <li>
                        The Charging Station Hardware Manager broadcasts via Eddystone BLE its IP address and that is available for vehicles.
                    </li>
                    <li>
                        Once the Vehicle Hardware Manager completes a work cycle, it searches for Eddystone BLE advertisements that indicate availability. Once it finds one that has a high signal strength, then it sends the received IP address to the Vehicle's Ethereum Manager.
                    </li>
                    <li>
                        The Vehicle Ethereum Manager requests the Blocklet Enclave wallet address from the Charging Station Ethereum Manager and initiates a new payment channel to that address using a Smart Contract.
                    </li>
                    <li>
                        Once the contract is instantiated, the Vehicle Ethereum Manager sends the new contract address to the Charging Station Ethereum Manager and signals to the Vehicle Hardware Manager to begin seeking the station.
                    </li>
                    <li>
                        The Charging Station Ethereum Manager independently verifies that the contract is valid and that the vehicle has escrowed sufficient funds for a complete charge cycle, then signals to the Charging Station Hardware Manager that everything is in place for charging to begin.
                    </li>
                    <li>
                        The Charging Station Hardware Manager enables the power supply for the vehicle charging station, thus enabling the IR beacon for the vehicle to find and begin physical docking to charge.
                    </li>
                    <li>
                        Once the vehicle has found the station and physically docked, the Vehicle Hardware Manager periodically submits micropayments signed by Blocklet Enclave for the Vehicle Ethereum Manager to process. The charging station holds these micropayments in reserve until the full transaction is completed or times out.
                    </li>
                    <li>
                        When the vehicle completes its charge cycle, it exits the station.
                    </li>
                    <li>
                        The Charging Station Hardware Manager detects a power drop and signals to the Charging Station Ethereum Manager that it is time to finalize the contract.
                    </li>
                    <li>
                        The Charging Station Ethereum Manager finalizes the contract with the ledger by submitting the highest micropayment with its agreement to the contract, and receives funds from the contract. Any remaining funds that were in escrow that were in excess of actual use are automatically returned to the vehicle's wallet.
                    </li>
                    <li>
                        The Charging Station Hardware Manager broadcasts that it is available for docking, and the Vehicle Hardware Manager begins another work cycle.
                    </li>
                </ol>
                <h2>
                    Hardware Requirements
                </h2>
                <h3>
                    Vehicle
                </h3>
                <ul>
                    <li>
                        Roomba Create 2 Programmable Robot
                    </li>
                    <li>
                        Filament Blocklet USB Enclave
                    </li>
                    <li>
                        Raspberry Pi 3 Model B+
                    </li>
                    <li>
                        32 GB MicroSD Card
                    </li>
                    <li>
                        Voltaic V44 USB Battery Pack
                    </li>
                </ul>
                <h3>
                    Charging Station
                </h3>
                <ul>
                    <li>
                        Roomba Compact Base
                    </li>
                    <li>
                        Filament Blocklet USB Enclave
                    </li>
                    <li>
                        Raspberry Pi 3 Model B+
                    </li>
                    <li>
                        32 GB MicroSD Card
                    </li>
                    <li>
                        waveshare 3.5inch RPi LCD (B) 320x480 Resoution Touch Screen IPS TFT Display
                    </li>
                    <li>
                        AstroPrint Case for Raspberry Pi 3/3.5" Touchscreen
                    </li>
                    <li>
                        WeMo Insight Smart Plug
                    </li>
                </ul>
                <h3>
                    Optional - Private Ethereum Test Network
                </h3>
                <ul>
                    <li>
                        Intel NUC Kit
                    </li>
                </ul>
                <h1>
                    Team Members
                </h1>
                <p>
                    The Filament team for the inaugural Mobi Grand Challenge include:
                </p>
                <ul>
                    <li>
                        Eliot Landrum
                        <a href="mailto:eliot@filament.com" rel="nofollow">
                            eliot@filament.com
                        </a>
                        - Team Lead. Vehicle automation and team management.
                    </li>
                    <li>
                        Thomas Muldowney
                        <a href="mailto:temas@filament.com" rel="nofollow">
                            temas@filament.com
                        </a>
                        - Blocklet and Ethereum integration.
                    </li>
                    <li>
                        Jake Ingman
                        <a href="mailto:jake@filament.com" rel="nofollow">
                            jake@filament.com
                        </a>
                        - Charging station UI.
                    </li>
                    <li>
                        Paul Fechko
                        <a href="mailto:paul@filament.com" rel="nofollow">
                            paul@filament.com
                        </a>
                        - Hardware customization.
                    </li>
                    <li>
                        Greg Ceponis
                        <a href="mailto:greg@filament.com" rel="nofollow">
                            greg@filament.com
                        </a>
                        - Market application and implications.
                    </li>
                    <li>
                        Teresa Kloser
                        <a href="mailto:teresa@filament.com" rel="nofollow">
                            teresa@filament.com
                        </a>
                        - Submission video.
                    </li>
                    <li>
                        Ryan Bennet
                        <a href="mailto:ryan@filament.com" rel="nofollow">
                            ryan@filament.com
                        </a>
                        - Initial concept and technical plan.
                    </li>
                </ul>
                <p>
                    The entire Filament crew has contributed in one way or another to the success of this project.
Thanks to everyone at all of our offices for supporting this project.
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag">
                            blocklet
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            ethereum
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            irobot
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/javascript">
                                javascript
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/python">
                                python
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/solidity">
                                solidity
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
        </div>
    </body>
</html>

<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/8ZGzpwMkmVQ?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="521239" data-title="Here is the graph Terraform generated for my infrastructure on AWS" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/521/239/datas/original.png">
                            <img alt="@Koura &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/521/239/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Here is the graph Terraform generated for my infrastructure on AWS
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="521819" data-title="Add line items to your invoice" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/521/819/datas/original.png">
                            <img alt="@Koura &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/521/819/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Add line items to your invoice
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="521820" data-title="Clients are able to pay invoices online" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/521/820/datas/original.png">
                            <img alt="@Koura &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/521/820/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Clients are able to pay invoices online
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    I have a friend who works on a lot of side projects and he wanted an app that could easily log time spent working for a client.
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    Koura is a Messenger bot that makes it simple for businesses to send invoices to customers. When a customer receives an invoice in their inbox, they can go online to make a payment using a credit card. Once the payment goes through, Koura will let the business owner know that the invoice has been paid. Koura has support for time tracking, which allows users to log hours spent working on a task and then attach a time sheet to their invoice.
                </p>
                <h2>
                    How I built it
                </h2>
                <h3>
                    Frontend
                </h3>
                <ul>
                    <li>
                        Facebook Messenger is the bot's user interface
                    </li>
                </ul>
                <h3>
                    Backend
                </h3>
                <ul>
                    <li>
                        The backend is written in Python 3 and uses Django 1.11
                    </li>
                    <li>
                        I used Docker containers to test my logic before deploying to AWS. Shout out to
                        <a href="https://github.com/lambci/docker-lambda" rel="nofollow">
                            LambCI
                        </a>
                        for providing images that replicate a live AWS Lambda environment.
                    </li>
                    <li>
                        I used
                        <a href="https://github.com/Miserlou/Zappa" rel="nofollow">
                            Zappa
                        </a>
                        to package my Django application into a Lambda-compatible ZIP archive
                    </li>
                    <li>
                        All payment processing is done through
                        <a href="https://stripe.com/" rel="nofollow">
                            Stripe
                        </a>
                    </li>
                </ul>
                <h3>
                    Infrastructure
                </h3>
                <p>
                    I used
                    <a href="https://www.terraform.io/" rel="nofollow">
                        Terraform
                    </a>
                    to deploy all the infrastructure for Koura on AWS. Terraform automatically provisions:
                </p>
                <ul>
                    <li>
                        S3
                    </li>
                    <li>
                        Lambda
                    </li>
                    <li>
                        RDS (Postgresql)
                    </li>
                    <li>
                        ElastiCache (Redis)
                    </li>
                    <li>
                        VPC
                    </li>
                    <li>
                        CloudFront
                    </li>
                    <li>
                        Route 53
                    </li>
                    <li>
                        CloudWatch
                    </li>
                    <li>
                        IAM Roles
                    </li>
                    <li>
                        API Gateway
                    </li>
                    <li>
                        SQS
                    </li>
                </ul>
                <p>
                    Here is the graph Terraform generated for my infrastructure (click to zoom in):
                    <a href="https://s3.amazonaws.com/koura-devpost/graph.png" rel="nofollow">
                        <img data-canonical-url="https://s3.amazonaws.com/koura-devpost/graph.png" src="https://res.cloudinary.com/devpost/image/fetch/s--k4AuH_fb--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://s3.amazonaws.com/koura-devpost/graph.png">
                    </a>
                </p>
                <h2>
                    Challenges I ran into
                </h2>
                <ul>
                    <li>
                        The library that I used to package my Django application,
                        <a href="https://github.com/Miserlou/Zappa" rel="nofollow">
                            Zappa
                        </a>
                        , does not have support for handling Lex events so I had to fork the repository and add my own solution.
                    </li>
                    <li>
                        Initially I used Lex's web interface to configure my bot, but that quickly became a bottleneck. I ended up writing a Python script that takes my bot's configuration in YAML format and automatically creates/updates the bot along with its intents and custom slot types.
                    </li>
                </ul>
                <h2>
                    Accomplishments that I'm proud of
                </h2>
                <ul>
                    <li>
                        It was tricky at first, but I was able to design a FormIntent class that makes it fairly simple to turn standard Django Form objects into Lex intents. This allows me to leverage Django's libraries when I need to validate user input.
                    </li>
                    <li>
                        I used FIFO queues (via SQS) to feed Facebook messages into Lex
                    </li>
                    <li>
                        First time using Terraform
                    </li>
                    <li>
                        First time using Lambda
                    </li>
                    <li>
                        First project using Python 3
                    </li>
                    <li>
                        100% serverless
                    </li>
                    <li>
                        87% test coverage (so close...)
                    </li>
                    <li>
                        243 unit tests (not sure if that is really an accomplishment...)
                    </li>
                </ul>
                <h2>
                    What I learned
                </h2>
                <ul>
                    <li>
                        Terraform makes provisioning infrastructure
                        <strong>
                            much
                        </strong>
                        easier. All my infrastructure is stored in source control, and I don't get slowed down by a GUI if I ever need to make a lot of changes
                    </li>
                    <li>
                        Lambda is amazingly cheap and versatile. I was surprised at how relatively easy it was for me to package a full Django app within a Lambda function
                    </li>
                    <li>
                        Lex is pretty darn smart. Especially when it comes to determining a user's intended actions.
                    </li>
                </ul>
                <h2>
                    What's next for Koura
                </h2>
                <p>
                    There are a
                    <strong>
                        ton
                    </strong>
                    of features I would love to add to this bot. Here are the top ones:
                </p>
                <ul>
                    <li>
                        Switch from using Facebook Messenger to a mobile application built with React Native
                    </li>
                    <li>
                        Add time tracking
                    </li>
                    <li>
                        Add charts for hours worked, cash flow, outstanding payments, etc.
                    </li>
                    <li>
                        Give businesses the option to set up recurring payments
                    </li>
                </ul>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/django">
                                django
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://getkoura.com" rel="nofollow" target="_blank" title="https://getkoura.com">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                getkoura.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

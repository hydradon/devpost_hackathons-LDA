<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/SCjA77l10eg?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="844433" data-title="Class Activation map - It highlights the region in the X- ray corresponding to disease label predicted by our model" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/844/433/datas/original.png">
                            <img alt="Chest X-Ray Computer Aided Diagnosis using Deep Learning &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/844/433/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Class Activation map - It highlights the region in the X- ray corresponding to disease label predicted by our model
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="844434" data-title="Screenshot of my Chest X-ray diagnosis app" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/844/434/datas/original.png">
                            <img alt="Chest X-Ray Computer Aided Diagnosis using Deep Learning &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/844/434/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Screenshot of my Chest X-ray diagnosis app
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="844435" data-title="Screenshot of my Chest X-ray diagnosis app" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/844/435/datas/original.png">
                            <img alt="Chest X-Ray Computer Aided Diagnosis using Deep Learning &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/844/435/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Screenshot of my Chest X-ray diagnosis app
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    Non-uniform accessibility to healthcare across the country and shortage of qualified healthcare professionals are major barriers to both preventive and curative health services. Furthermore, there is glaring disparity between rural and urban India as regards access to medical diagnosis and other healthcare facilities are concerned. 
About 55 million people in India suffer from chronic obstructive pulmonary disease , according to a global study, which noted that people of less developed states are more prone to the disease than those living in developed ones.
Chronic respiratory diseases were responsible for 10.9% of the total deaths and 6.4% of the disability-adjusted-life-years(DALYs) in India in 2016 as compared with 9.5% and 4.5% respectively in 1990. Of the total global DALYs due to chronic respiratory diseases in 2016, 32% were in India. Fast and Cheap Computer aided Diagnosis will prove extremely beneficial for people in rural India where there is acute paucity of trained radiologists and Doctors per capita. An automated AI system that can reliably identify different disorders from Chest X-rays would be invaluable in addressing the problem of reporting backlogs and lack of radiologists in low-resource settings.
Our study will demonstrate that AI based Computer aided diagnosis &ndash; deep learning algorithm trained on  a large quantity of well-labelled data can accurately detect multiple abnormalities on Chest X-rays. As these systems further increase in accuracy, the feasibility of applying deep learning to widen the reach of automatic chest X-ray interpretation and improving reporting efficiency will add tremendous value in radiology workflows and public health screenings in Indian healthcare sector, particularly rural India, which suffers from acute shortage of trained radiologists and doctors
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    Our end-to-end AI based solution addresses the problem of multi-label thorax disease classification on chest X-ray images. Our model will output the predicted scores corresponding to each of the 14 abnormalities associated with thoracic disease and a class activation map that clearly highlights regions in X-rays characteristic of the different abnormalities.
                </p>
                <h2>
                    How I built it
                </h2>
                <p>
                    We have used PyTorch and FastAi library to design our model. We used Chest X-ray 14 dataset by NIH for procuring the data for our model.We trained our model on GTX 1080 ti 
In our approach we have used an ensemble of fine-tuned(Transfer Learning) Xception architecture with DenseNet-121. The fine-tuning is done using state of the art approaches like cyclic learning rate. To address the class imbalance issue we employed recently proposed  _ Class balanced loss_  by Yin Cui, Menglin Jia et. al., 2019
Further, the output of our fine tuned transfer learning model is conected to residual attention network for further improving the accuracy. 
In the previous work by Kapur et. al (CheXNet), all the pathologies are treated equally in classifier learning, i.e., when predicting the labels of each image, all pathologies are given the same weight. Moreover, correlation essentially exists among the labels, for example, the presence of cardiomegaly usually additionally accompanies high risk of pulmonary edema. Therefore, exploring the dependency or correlation among labels could assist to strengthen the intrinsic relationship for some categories. However, considering an individual image, the uncorrelated labels may also introduce unnecessary noise and hinder the classifier from learning powerful features. We wanted to mitigate the interference of uncorrelated classes and preserve correlations among the relevant classes at the same time.
To accomplish the above task we will be using combination of residual attention learning and Spatial Regularization Net. Our model uses a category-wise residual attention mechanism to assign different weights to different feature spatial regions. It will automatically predict the attentive weights to enhance the relevant features and restrain the irrelevant features for a specific pathology.
Unlike the traditional classification problems, where the prediction can be either correct or wrong, the multi-label classification problem is a more challenging task and requires more special evaluation measures since the performance over all labels should be considered.
                    <br>
                    In a multi-label classification problem, a prediction can be fully correct (all predicted labels are correct), partially correct (some of the predicted labels are correct) or fully wrong (all predicted labels are wrong).
We monitored F-beta scores with different values of beta during training and measured AUROC at end of each epoch for validation set.
                    <br>
                    F-beta offers good trade-off between precision and recall. For our problem, F-beta offers more flexibility than plain F1-score as we could adjust the beta value depending upon how much we weigh each of the 14 disease labels.
We measured hamming loss and tried different many other loss functions during experimentation.
                </p>
                <h2>
                    Challenges I ran into
                </h2>
                <p>
                    Perhaps, the major bottleneck was the noisy labels in the dataset. Here, are the few key challenges that highlight a few major challenges:
                </p>
                <p>
                    In the ChestX-ray8 dataset which was used for training the algorithm pathology labels were extracted automatically from the radiology reports by text mining. This also means that the ground truth per se is an individual radiologist&rsquo;s judgment, which in some cases further deteriorated due to the inherent inaccuracies of automated data mining.
                </p>
                <p>
                    A frontal chest x-ray is only the beginning: Already around the time the NIH dataset was released there were concerns about the fact that only frontal views were included. In many cases we use these as standalone tools, but very often we do rely on a very simple yet immensely useful ancillary technique: the lateral view.
                </p>
                <p>
                    The lateral chest x-ray alone is rarely diagnostic, but in conjunction with the frontal view its effect is supra-additive, by helping clear up not only the localization but the etiology of abnormalities first identified on the frontal radiograph.
The labels don&rsquo;t match the images very well. After physical examination of X-ray images, it becomes apparent that many images in this multi-label dataset are inconsistent with the labels.
                </p>
                <p>
                    The labels are internally consistent, so systems trained on them seem to learn to reproduce them (along with their errors)
                    <br>
                    Entity extraction using NLP is not perfect: we try to maximize the recall of finding accurate disease findings by eliminating all possible negations and uncertainties of disease mentions. Terms like &lsquo;It is hard to exclude &hellip;&rsquo; will be treated as uncertainty cases and then the image will be labeled as &lsquo;No finding&rsquo;.
&lsquo;No finding&rsquo; is not equal to &lsquo;normal&rsquo;. Images labeled with &lsquo;No finding&rsquo; could contain disease patterns other than the listed 14 or uncertain findings within the 14 categories.
                </p>
                <h2>
                    Accomplishments that I'm proud of
                </h2>
                <p>
                    Firstly, I'll have to admit that I satrted quite late - almost a fortnight before the deadline. Given a short ampunt of time I learnt a lot about how deep learning could be employed in healthcare sector for solving many problems faced by people with limited access to healthcare. I was able to design a simple UI for my model where any person could use my model for performing Chest X-ray diagnosis with 0.84 AUC score.
                </p>
                <h2>
                    What I learned
                </h2>
                <p>
                    This was my first computer vision project. I undertook this project with the intention of gaining more knowledge about how deep learning is playing a pivotal role in healthcare sector. I used PyTorch and FastAI for the first time for this project and I must concede that I am amazed by the ease of use and flexibility that these frameworks offer. Earlier, I used to use Keras/TensorFlow and was fairly satisfied, but after exploring PyTorch, it will be hard going back. I think that given a short time frame, I learnt a lot. Before this project, I barely knew about computer vision area. I used to work on structured data before and this project proved to be major driving force behind my will to learn about application of DL in health care and computer vision in general. Moreover, the small UI app that I created is also one of my first experiences as regards designing UI is concerned.  I also learnt about how to effectively use GPU for deep learning For example, PyTorch offers plethora of options like pinned memory and asynchronous non_blocking transfer of data from Host to GPU, which greatly speeds up the training time.
                </p>
                <h2>
                    What's next for Chest X-Ray Computer Aided Diagnosis
                </h2>
                <p>
                    Currently, I think I need to acquire a bigger and more 'clean' dataset like CheXpert and MMIC X-ray dataset which has over half a million samples. This will aid in increasing accuracy of my model. Furthermore, I'm interested in studying the effect of combining Chest and heart segmentation with my model. The idea behind doing so is the current model just takes Chest X-ray images with no bounding regions associated with different organs like lungs and heart. By using segmentation via models like U-net, my model should be able to improve further.
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag">
                            1080ti
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            cuda
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            fastai
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/flask">
                                flask
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/nvidia">
                                nvidia
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/python">
                                python
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/pytorch">
                                pytorch
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://bitbucket.org/abhijit038/chest-x-ray-computer-aided-diagnosis-using-deep-learning" rel="nofollow" target="_blank" title="https://bitbucket.org/abhijit038/chest-x-ray-computer-aided-diagnosis-using-deep-learning">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                bitbucket.org
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/KFSSmOrHcaU?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="843123" data-title="App during runtime, side loading a user-written SSH server" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/843/123/datas/original.PNG">
                            <img alt="KTPZ &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/843/123/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                App during runtime, side loading a user-written SSH server
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="843140" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/843/140/datas/original.PNG">
                            <img alt="KTPZ &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/843/140/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="843198" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/843/198/datas/original.png">
                            <img alt="KTPZ &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/843/198/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="843200" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/843/200/datas/original.png">
                            <img alt="KTPZ &ndash; screenshot 4" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/843/200/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="843124" data-title="Credits" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/843/124/datas/original.PNG">
                            <img alt="KTPZ &ndash; screenshot 5" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/843/124/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Credits
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Synopsis
                </h2>
                <p>
                    A few weeks ago I came upon a vulnerability in the iOS kernel, and this morning was able to achieve arbitrary, whatever-I-want code execution on iOS 12 with this and multiple other exploit chains. However, because this is hack for good, when wrapped up with this app I wrote, the kernel exploit allows us to execute arbitrary code developed and built outside of Apple&rsquo;s ecosystem. In effect, we just turned your iPhone into a totally programmable, hyper-fast Arduino, in essence - an environment you can develop on without deep pockets for developer creds and beefy computers.
                </p>
                <p>
                    In essence, KTP0 uses a combination of Azure containers, Google Cloud, and AWS - to which you can push your code - to side load arbitrary binaries onto the phone wirelessly at runtime. This is hugely convenient, and because we&rsquo;re executing arbitrary code at the very base level with a low level exploit, the option for kernel-layer execution can run faster than normal iPhone code and offers a competitive experience at no cost.
                </p>
                <p>
                    The opportunity is endless.
                </p>
                <h2>
                    The Exploit
                </h2>
                <p>
                    KTP0 can be run with multiple exploits. One exploits an incorrectly implemented MiG routine, that doesn't follow proper semantics and exposes a significant reference counting bug. The other exploits a dangling pointer extensively in the iOS TCP stack to gain kernel task port 0, functional on iOS versions up to 12.4.
                </p>
                <p>
                    Once kernel access is gained, KTP0 unsandboxes itself, gains root, and compromises code signing on the phone, allowing for arbitrary code execution. At the same time, the filesystem is maintained in its read-only state to prevent potential malicious action, with an explicit trust routine called for every binary executed. These are pulled from web storage at runtime and can be trusted on the fly.
                </p>
                <h2>
                    What we're proud of
                </h2>
                <p>
                    An SSH server on an iPhone, developed totally without Xcode tools! Also, a fully functional kernel exploit that allows us to install .app files to the Springboard, allowing for testing completely without macOS infrastructure involved.
                </p>
                <h2>
                    What we learned
                </h2>
                <p>
                    The power of a UAF vulnerability....null your pointers kids!
                </p>
                <h2>
                    What's next for KTPZ
                </h2>
                <p>
                    KTPZ not only can run binaries, but is also able to package full .IPA and .APP files for normal runtime. We'd love to expand upon this further, and would like to test this functionality in the coming weeks.
                </p>
                <p>
                    Thanks for everything!
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/amazon-web-services">
                                amazon-web-services
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            assembly
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/c">
                                c
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/objective-c">
                                objective-c
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
        </div>
    </body>
</html>

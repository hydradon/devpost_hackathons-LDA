<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/sWHdCzVag9o?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="925826" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/925/826/datas/original.PNG">
                            <img alt="PocketAngel &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/925/826/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="926111" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/926/111/datas/original.jpg">
                            <img alt="PocketAngel &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/926/111/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <p>
                    <strong>
                        Problem
                    </strong>
                    Students at universities should feel safe when they walk around campus, particularly at night. Unfortunately, it is hard to be on the lookout 24/7 walking around in the public. When we looked at USC's
                    <a href="https://dps.usc.edu/alerts/log/" rel="nofollow">
                        daily crime logs
                    </a>
                    , we noticed that some areas suffered from repeated harassment crimes. For example,  according to USC's crime logs, there have been four harassment incidents clustered around 28th and 29th streets, on 1/30/20, 1/22/20, 1/9/20, and 12/12/19.
                </p>
                <p>
                    <strong>
                        What it does
                    </strong>
                    This app seeks to mitigate the problem by causing the user's mobile device to softly vibrate and for a push notification to pop up when the user enters within 0.0006 latitude and longitude points of an area where a physical harassment crime has occurred in the past three months.
                </p>
                <p>
                    <strong>
                        How we built it
                    </strong>
                    USC's crime logs are published in PDFs, and no API was provided to more easily read USC's crime reports. This meant that the only way to read the crime incidents was to download all the PDFs and parse them. We had our program look through the html code for the
                    <a href="https://dps.usc.edu/alerts/log/" rel="nofollow">
                        USC daily crime logs
                    </a>
                    and use regular expressions to match all the PDFs' download links. Then, our program downloads all the PDFs.
                </p>
                <p>
                    Reading the PDFs was a challenge in itself due to the unstructured nature of these documents (compared to regular text documents). We dug through many Python libraries to find a good way to read text from a PDF. Several libraries that we looked at, such as PyPDF2, were unsuitable for our project because they omitted too many lines of text. Eventually, we settled on tika, which was accurate. Unfortunately, tika returned the lines of text for each incident out of order, but the lines were shuffled around in the exact same way for each incident, so we made a function to reorder these lines of text. Then, from these organized incidents, we filtered out the non-harassment ones and kept the rest as objects.
                </p>
                <p>
                    Next, we had to determine the exact geographical coordinates of the locations these crimes occurred. For example, we had to determine the latitude and longitude of the location "28TH ST &amp; HOOVER ST". The easiest way to do this, we discovered, was Google's Geocode API. We used one of the $50 Google Cloud credit codes we were given to use this API to convert names into latitude and longitude coordinates. Sometimes, the coordinates returned would be inaccurate and far away from USC, on the order of hundreds of miles due to similar location names in other parts of the state and country. We fixed this by adding a "bound" to each API request we sent which would restrict the search area to LA county only.
                </p>
                <p>
                    <strong>
                        Challenges we ran into
                    </strong>
                    In implementing the app, we were stuck, because none of us had any experience at all in app development. The most we were able to get our app to do was to return the user's current latitude and longitude coordinates, shown
                    <a href="https://imgur.com/a/ROaxlz8" rel="nofollow">
                        here
                    </a>
                    . We were confused as to how to program the app to make it send a vibration and a push notification to the user's device. If we had a greater knowledge of React Native, we would most likely have gotten past this issue.
                </p>
                <p>
                    <strong>
                        Accomplishments that we're proud of
                    </strong>
                    We are very happy to have successfully parsed and extracted useful information from completely unstructured PDF documents. Perhaps this can be the beginning of an API for USC's daily crime logs. In addition, this was our first time using a pay-per-use API (Geocode), so we are proud of making our program as efficient as possible to avoid excessive use of it.
                </p>
                <p>
                    <strong>
                        What's next for PocketAngel
                    </strong>
                    The most reasonable next step is to improve the app, but another avenue we could go down is to make an API that can structure each incident in USC's daily crime reports.
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/google-geocoding">
                                google-geocoding
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/python">
                                python
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            tika
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/rayoh123/CrimeWarner" rel="nofollow" target="_blank" title="https://github.com/rayoh123/CrimeWarner">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

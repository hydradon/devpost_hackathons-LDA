<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/DePVdgA0qG0?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="521007" data-title="Chatbot Architecture" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/521/007/datas/original.png">
                            <img alt="The Unofficial Shakira Chatbot &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/521/007/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Chatbot Architecture
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="519999" data-title="banner :) " href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/519/999/datas/original.jpg">
                            <img alt="The Unofficial Shakira Chatbot &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/519/999/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                banner :)
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    More than making a great business case, this chatbot was made to bring the most out of Lex. I wanted to tackle several doubts and issues I ran into while developing a previous (pet-project) chatbot, also, I wanted to really know how the Lex/Polly integration was going to work over Facebook Messenger, all of this of course while making a very fun project for one of my ever favorite artists!
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    It knows all about El Dorado tour (her new album), also about albums, songs, release dates, random gifs, and with the help of Polly it can recite a little snippet of a song, generated on the fly. It can handle properly such normal interactions like "hello" and "thanks", and with the help of Twinword's sentiment analysis API, it can distinguish in the same intent if a given statement is positive, neutral or negative (I love you, you are amazing! Vs. you suck, I hate you!) and respond accordingly.
                </p>
                <p>
                    <strong>
                        Note 1:
                    </strong>
                    Currently this chatbot is not publicly accessible, but it can be used through Facebook ID
                    <em>
                        stef.devpost.1
                    </em>
                    as it was added as a Tester.
                </p>
                <p>
                    <strong>
                        Note 2:
                    </strong>
                    When in doubt of what instructions you can give to the chatbot just type
                    <em>
                        examples
                    </em>
                    or
                    <em>
                        commands
                    </em>
                    ! :)
                </p>
                <h2>
                    How I built it
                </h2>
                <h3>
                    The story
                </h3>
                <p>
                    I started by just playing around with Lex GUI in AWS Console, however, I soon realized this wasn't the most effective way to develop the chatbot. Boto3 helped me a lot there, since it allows me to create a bot from scratch with its intents, custom slot types and the associated lambda function. Little by little, I was adding more services to it... I needed some assets, so I included S3, I wanted my bot to mock some Shakira singing, so I added Polly, of course, roles and policies also where taking into account... Then I remembered about sentiment analysis and thought this could be a fit for processing how people feel about my chatbot.
                </p>
                <p>
                    Concretely, AWS Lex powers up this chatbot through 10 intents:
                </p>
                <table class="responsive">
                    <thead>
                        <tr>
                            <th>
                                Intent name
                            </th>
                            <th>
                                Functionality
                            </th>
                            <th>
                                What's interesting?
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                <code>
                                    Sing
                                </code>
                            </td>
                            <td>
                                Creates an audio file from
                                <code>
                                    AWS Polly
                                </code>
                                on the fly, stores it in a S3 bucket. Uses
                                <code>
                                    ElicitSlot
                                </code>
                                and
                                <code>
                                    SessionAttributes
                                </code>
                                , reproduces the audio file in Facebook Messenger.
                            </td>
                            <td>
                                As of today, in the official Lex docs 'voice' and 'audio' are mentioned, but there aren't any examples. I wanted to include it here just to experiment the whole generate/store/reproduce flow.
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>
                                    DealWithIt
                                </code>
                            </td>
                            <td>
                                This intent is created for the solely purpose of handling hate/love feelings towards the chatbot. I didn't want to create two intents for hate and love, so this one uses a sentiment analysis API.
                            </td>
                            <td>
                                Until developing this project, sentiment analysis felt to me like something very demanding and time-consuming to include in a project. Although, here I do it very simplistic, it wasn't such a hassle to implement.
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>
                                    AboutAlbum
                                </code>
                                ,
                                <code>
                                    AboutSong
                                </code>
                                ,
                                <code>
                                    RandomGif
                                </code>
                                ,
                                <code>
                                    WhenConcert
                                </code>
                            </td>
                            <td>
                                Reply based on context (slots), uses slot validations,
                                <code>
                                    ElicitSlot
                                </code>
                                ,
                                <code>
                                    Close
                                </code>
                                .
                            </td>
                            <td>
                                Custom slot types values generated from the datasource itself.
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <code>
                                    Greeting
                                </code>
                                ,
                                <code>
                                    Helper
                                </code>
                                ,
                                <code>
                                    SocialMedia
                                </code>
                                ,
                                <code>
                                    Thanks
                                </code>
                            </td>
                            <td>
                                These intents provide plain simple answers, necessary to fulfill some basic "human" interactions.
                            </td>
                            <td>
                                IMHO, chatbots should be capable of replying to simple nice human things like "Thanks".
                            </td>
                        </tr>
                    </tbody>
                </table>
                <h3>
                    Architecture
                </h3>
                <p>
                    <img alt="architecture" data-canonical-url="https://raw.githubusercontent.com/imTachu/ShakiraChatbot/master/graphics/architecture.png" src="https://res.cloudinary.com/devpost/image/fetch/s--3IwqYfgL--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://raw.githubusercontent.com/imTachu/ShakiraChatbot/master/graphics/architecture.png">
                </p>
                <h2>
                    Challenges I ran into
                </h2>
                <p>
                    Several! And not just me, I also saw some fellow participants asking some very interesting questions on Slack and the discussion forum. Lex is a new technology, and there will be many more people using it and so I thought it was a good idea to gather (almost) all of them in
                    <a href="https://medium.com/@lorena.salamanca/aws-lex-insights-after-building-my-shakira-chatbot-663f71967902" rel="nofollow">
                        this blog post
                    </a>
                </p>
                <p>
                    P.S. My real issue was taking too long to realize that Response cards are not rendered in the Amazon Lex Test Console!
                </p>
                <h2>
                    Accomplishments that I'm proud of
                </h2>
                <p>
                    I read a lot about the experiences people have had with some chatbots and I'm very proud of tackling the most painful factors for chatbot users; I saw people frustratingly trying to fetch instructions or some guidance on how to use the chatbot. Also, IMHO is not really nice to punish users for expressing as humans (aren't chatbots about it anyway?), and I mean, for example, if my chatbot successfully fulfilled a user's need, and if the user thanks the chatbot for it, the chatbot should also reply warmly to the user, I strongly believe a chatbot should handle the most basic human interactions (hello, please, thanks) and my chatbot conveys it.
                </p>
                <p>
                    Technically speaking, I'm really proud that ALL my chatbot can be setup in a few steps (Everything before the deployment in Facebook Messenger) and I do think it is a very nice reference for other people learning Lex.
                </p>
                <h2>
                    What I learned
                </h2>
                <p>
                    I learned a lot, both technically, because I'm really a noobie about AI, ML, DL, NLP topics, I refreshed a lot my Python, I made a great effort bringing up the chatbot as automated as possible... I made my first sentiment analysis experiment! ...And for a while now, I have a very cool pet project, really, this was a very fun challenge!
                </p>
                <h2>
                    What's next for The Unofficial Shakira Chatbot
                </h2>
                <ul>
                    <li>
                        Somewhere, I have a problem with encoding from Lex to Lambda (Not the other way around) since many of the songs have spanish accents. That really is the very next thing.
                    </li>
                    <li>
                        I should find a way to receive cities in a friendlier way. As of today, people should type, for example, New York, not NYC.
                    </li>
                    <li>
                        Give this bot such a personality and fluency while adding more functionalities that even Shakira herself would like to chat with it!
                    </li>
                </ul>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag">
                            ai
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            boto3
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/facebook-messenger">
                                facebook-messenger
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            lambda
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            lex
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            polly
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/python">
                                python
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/shell">
                                shell
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/imTachu/ShakiraChatbot" rel="nofollow" target="_blank" title="https://github.com/imTachu/ShakiraChatbot">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="https://www.messenger.com/t/484930695187800" rel="nofollow" target="_blank" title="https://www.messenger.com/t/484930695187800">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                www.messenger.com
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="https://medium.com/@lorena.salamanca/aws-lex-insights-after-building-my-shakira-chatbot-663f71967902" rel="nofollow" target="_blank" title="https://medium.com/@lorena.salamanca/aws-lex-insights-after-building-my-shakira-chatbot-663f71967902">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                medium.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

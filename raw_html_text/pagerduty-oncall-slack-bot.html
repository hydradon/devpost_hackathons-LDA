<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/pe7DnMnulUA?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="410058" data-title="/oncall now" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/410/058/datas/original.jpg">
                            <img alt="PagerDuty OnCall Slack bot &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/410/058/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                /oncall now
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="410059" data-title="/oncall at" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/410/059/datas/original.png">
                            <img alt="PagerDuty OnCall Slack bot &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/410/059/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                /oncall at
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    We live in Slack and we rely on PagerDuty to run our support. PagerDuty already has great Slack integration for receiving alerts and resolving them. However we often want to know who is the person rostered on for support right now when we need help, or who will be rostered on for support for a future event. So we built this Slack integration.
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    For the simplest use case, it will list which people are on call in PagerDuty right now for each escalation policy and level, along with the time that their shift will end, expressed in the time zone of the Slack user who requested the information.
                </p>
                <p>
                    It can also list the people on call for a given date and time in the future.
                </p>
                <h2>
                    How I built it
                </h2>
                <p>
                    It is simply node.js using the
                    <code>
                        request
                    </code>
                    node module to call the PagerDuty API and
                    <code>
                        moment-timezone
                    </code>
                    to translate schedules for the Slack user's timezone.
                    <code>
                        serverless
                    </code>
                    is used to deploy the code to AWS Lambda.
                </p>
                <h2>
                    Challenges I ran into
                </h2>
                <p>
                    Using AWS KMS to decrypt API tokens when the Lambda function first starts is often too slow for the Slack 3-second timeout.
                </p>
                <h2>
                    Accomplishments that I'm proud of
                </h2>
                <p>
                    It works!
                </p>
                <h2>
                    What I learned
                </h2>
                <p>
                    To use Slack delayed responses and perform tasks that take longer than 3-seconds involves calling another Lambda function to perform the extra work so the first function call can return within the limit.
                </p>
                <h2>
                    What's next for PagerDuty OnCall Slack bot
                </h2>
                <p>
                    Allowing users to request the PagerDuty schedule for only specific escalation policies or levels.
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag">
                            aws-lambda
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/javascript">
                                javascript
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            serverless
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/section-io/pagerduty-oncall-slack-bot" rel="nofollow" target="_blank" title="https://github.com/section-io/pagerduty-oncall-slack-bot">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

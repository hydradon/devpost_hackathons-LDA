<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li class="text-center">
                        <a data-lightbox="476662" data-title="Search results. Note how in each thumbnail the yellow bars indicate where in the video a cat occurs." href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/476/662/datas/original.png">
                            <img alt="InTube &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/476/662/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Search results. Note how in each thumbnail the yellow bars indicate where in the video a cat occurs.
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="476793" data-title="Adding a video screen. When adding a video, a progress bar updates as each frame is analyzed." href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/476/793/datas/original.png">
                            <img alt="InTube &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/476/793/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Adding a video screen. When adding a video, a progress bar updates as each frame is analyzed.
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    We can search videos on Youtube by their title, description, user, and so on... but why can't we search based off of what's actually IN the video? Current search strategies rely too much on metadata, which often don't correlate with most important factor in video searches: the actual content. If I want a Youtube video of a bicycle that might not necessarily be titled "Bicycle", we should be able to find it by searching over the visual and audio content itself and get relevant matches up to the second.
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    InTube uses Google's Cloud Vision machine learning libraries to analyze frames in YouTube videos for their actual content.
                </p>
                <p>
                    When the user submits a video for processing, InTube gets the storyboard from the video. It then feeds this data - which is essentially a collection of frames - into the Google Cloud Vision API, which intelligently flags each frame with semantic labels of what's happening on screen. This data is then fed into Algolia, which indexes the labels, the videos, and the timestamps where they appear, as well as some additional data about the video. The transcript - the audio - for the video is also parsed and timestamped, so the words can also be indexed.
                </p>
                <p>
                    Finally, the website provides a quick and easy search experience where the user can search for places in the video where the term appears. For example, if the user searches "man", the web interface brings up the exact video frames where a man shows up in Youtube videos. The user can see exactly where a man is seen or heard within in the video and can click to jump exactly to that spot.
                </p>
                <h2>
                    How we built it
                </h2>
                <p>
                    We built InTube with Flask, Bootstrap and Handlebars for rendering the frontend. The Google Cloud Vision API is used heavily to process and tag the videos. Video processing is done through background tasks using Celery and Redis. Algolia is used to index and search through all of the data. Google App Engine is used to deploy and host the project.
                </p>
                <h2>
                    Challenges we ran into
                </h2>
                <p>
                    The very first challenge was grabbing the frames from the video. It turns out Youtube doesn't have a good API for doing this. After poking around, we realized we could use the frames that Youtube generates for the video preview in the seek bar when jumping around in a video. Youtube stores these in mosaics of storyboard images, and we realized we could grab these by scraping the site. We had a similar experience when trying to scrape the text transcript from Youtube.
                </p>
                <p>
                    Another UI challenge was writing good code to run the processing in the background in Flask and send the results back to the frontend to notify the user of progress when processing a video. We learned to use Celery for background processes, and then have an endpoint that could be queried to report state for the background operation.
                </p>
                <h2>
                    Accomplishments that we're proud of
                </h2>
                <p>
                    The project works! It's a smooth way to find out where exactly something occurs in a Youtube video, and it hasn't really been done before. The user can instantly visualize and jump to semantic occurrences.
                </p>
                <h2>
                    What we learned
                </h2>
                <p>
                    This was our first time using Google's machine learning APIs. We now have a really good understanding of how it works! We also solidified our understanding of Flask, particularly using it for background operations.
                </p>
                <h2>
                    What's next for InTube
                </h2>
                <p>
                    We plan to expand out the search capability by indexing out lots more videos (by collecting user submissions), as well as improve the UI significantly. We also plan to try to reduce processing time by making better use of the Cloud Vision API. Most importantly, we want to add the capability for "fuzzy search" where related or synonymous keywords will also show up - for example "cats" if the user searches "kitten."
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/algolia">
                                algolia
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/flask">
                                flask
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/google-cloud">
                                google-cloud
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            google-cloud-vision
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/python">
                                python
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/iRapha/search_within_videos" rel="nofollow" target="_blank" title="https://github.com/iRapha/search_within_videos">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

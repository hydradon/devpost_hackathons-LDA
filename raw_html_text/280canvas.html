<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li class="text-center">
                        <a data-lightbox="566386" data-title="A tweet and its associated visualisation" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/566/386/datas/original.png">
                            <img alt="280canvas &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/566/386/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                A tweet and its associated visualisation
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    We wanted to create a visualisation for data, but eventually settled on a processing-like language that's tweetable (i.e. a very small language) and then publicly displayed on a website.
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    Tweet some code written in the rend language, followed by the hashtag #280canvas. The language is simple:
declare one-letter variables and their initial value
loop interval as   :
statement;
...
                </p>
                <p>
                    The statements available are: clear screen, change colour, draw rectangle|circle|line|arc, variable assignment, and inc/decrement. Values for drawing are interpreted as percentages of the screen, as floats to 1 decimal point (i.e. 500 -&gt; 50.0%), with '%' being used as a shortcut for 1000. Variables can be used, as can a range of operators and JS' Math functions.
                </p>
                <p>
                    The tweets are parsed, interpreted in the web browser, sent to users, and displayed on a HTML canvas.
                </p>
                <h2>
                    How we built it
                </h2>
                <p>
                    In Node, the Twitter Streaming API is used to read any tweets that use the #280canvas hashtag. Lexing and parsing are handled by a Python module via the ANTLR runtime, generated from a grammar. When a part of the language is parsed, relevant JSON code is generated. A standardised JSON notation was developed, so that when an interpreter was built in the clientside TypeScript/JavaScript, it was easy to switch from object notation to commands to the HTML canvas.
                </p>
                <h2>
                    Challenges we ran into
                </h2>
                <p>
                    The biggest challenge proved to be reading tweets and pushing internally stored data (currently rendering programs) to newly connected clients. Ideally, the tweet would have been pushed to the server and then rendering programs pushed to the client, but we had to fall back to polling the Twitter API, and then having the client poll the server when they connect
                </p>
                <h2>
                    Accomplishments that we're proud of
                </h2>
                <p>
                    Creating a language from scratch with a form of type checking, and code generating into another form, is normally a huge task, but thankfully I have some experience in language creation, and the ANTLR library allow rapid iteration of parsers. The interpreter written in TypeScript is quite elegantly written (surprisingly!) and quite fun to write recursive switch statements.
                </p>
                <h2>
                    What we learned
                </h2>
                <p>
                    Time management is a huge skill that really paid off for us. Planning the division of labour before starting saved us a lot of time.
                </p>
                <h2>
                    What's next for 280canvas
                </h2>
                <p>
                    Programmatic numerical representations of different colour systems would be handy, as would more involved standard library functions. Currently drawing feature on site doesn't work.
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag">
                            antlr
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/python">
                                python
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/react">
                                react
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/typescript">
                                typescript
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/280canvas" rel="nofollow" target="_blank" title="https://github.com/280canvas">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

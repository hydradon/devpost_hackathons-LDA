<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/yhd8Eer2uHA?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="882437" data-title="Landing screen on an Echo Show" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/882/437/datas/original.jpg">
                            <img alt="My Pumpkin &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/882/437/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Landing screen on an Echo Show
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="882522" data-title="Complete pumpkin" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/882/522/datas/original.png">
                            <img alt="My Pumpkin &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/882/522/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Complete pumpkin
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    My inspiration was pumpkin carving for Halloween with my kids.  Scenes from the Ironman films where Tony Stark interfaces with the computer by voice to design and modify the Ironman suit were also an inspiration.  Last, but not least, Stuart Packlington's awesome Loop It! skill.
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    My Pumpkin allows the user to create a custom pumpkin carving by voice.
                </p>
                <ul>
                    <li>
                        When the user initiates the "design pumpkin" intent, they will be prompted to choose from a variety of options for the eyes, the nose, the mouth, and teeth.
                    </li>
                    <li>
                        If the user has a screen, they will see their pumpkin design change in real-time as they provide each answer.
                    </li>
                    <li>
                        When the user finishes their design, Alexa will summarize it vocally and send them a card with a picture to their Alexa mobile app.
                    </li>
                </ul>
                <h2>
                    How I built it
                </h2>
                <ul>
                    <li>
                        I used the Alexa Skills Kit SDK for Node.js primarily to develop the skill along with AWS Lambda Layers to bring in node-canvas capabilities.
                    </li>
                    <li>
                        To create the pumpkin eyes, noses, and mouths, I use Inkscape so I could easily reuse the vector shapes to create a display and template version of each.
                    </li>
                </ul>
                <p>
                    Each time the user answers a question about the pumpkin's characteristics a series of operations occur to update the image on Echo devices with a screen:
                </p>
                <ul>
                    <li>
                        The Lambda function draws a background image with a pumpkin matching the user's device resolution to the canvas.
                    </li>
                    <li>
                        It then opens and brings in PNG image elements for the eyes, nose, and mouth to predetermined locations on the canvas, so they line up nicely over the empty pumpkin.
                    </li>
                    <li>
                        It outputs the canvas with the composite pumpkin face and background to a JPEG file in S3.
                    </li>
                    <li>
                        <p>
                            An APL template is then dynamically updated to reference the newly created JPEG image in S3 and output as part of the response.
                        </p>
                    </li>
                    <li>
                        <p>
                            Since the face is generated dynamically at run-time, the skill can easily be expanded without needing to pre-bake every combination of facial characteristics.
                        </p>
                    </li>
                </ul>
                <h2>
                    Challenges I ran into
                </h2>
                <ul>
                    <li>
                        I couldn't find good vector shapes of pumpkin face parts so I had to learn how to use Inkscape to draw them myself.
                    </li>
                    <li>
                        I couldn't find a good stock photo of an uncarved pumpkin with light matching the background I wanted to use so I had to light and shoot my own pumpkin to overlay on the background.
                    </li>
                    <li>
                        The ASK SDK/API wouldn't allow me to render a new APL document on each slot completion so I had to re-work things so that when the user provides an answer, they are actually initiating and completing an intent.  I then keep track of where the user is in the process using session attributes so I know what question they are answering and what I need to ask for next.
                    </li>
                </ul>
                <h2>
                    Accomplishments that I'm proud of
                </h2>
                <p>
                    I am proud and super excited that I got the image of the pumpkin to update in real-time on Echo devices with a screen.
                </p>
                <h2>
                    What I learned
                </h2>
                <ul>
                    <li>
                        Lambda layers
                    </li>
                    <li>
                        APL documents
                    </li>
                    <li>
                        Inkscape
                    </li>
                    <li>
                        New dialog management techniques
                    </li>
                </ul>
                <h2>
                    What's next for My Pumpkin
                </h2>
                <ul>
                    <li>
                        "Alexa, tell my pumpkin to talk like a pirate!"
                    </li>
                    <li>
                        "Alexa, tell my pumpkin to talk like a witch!"
                    </li>
                    <li>
                        "Alexa, animate my pumpkin!"
                    </li>
                    <li>
                        Use Echo Buttons to light the pumpkin with colored lighting and synchronize to a voice or soundtrack.
                    </li>
                </ul>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/alexa">
                                alexa
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            alexa-apl
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            ask-sdk
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            audacity
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            aws-lambda-layers
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/canvas">
                                canvas
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/inkscape">
                                inkscape
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/javascript">
                                javascript
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            lambda
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            node-canvas
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            node-canvas-lambda
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            node-lambda
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            serverless
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://www.amazon.com/Mark-Foster-My-Pumpkin/dp/B07ZQ2KVV7" rel="nofollow" target="_blank" title="https://www.amazon.com/Mark-Foster-My-Pumpkin/dp/B07ZQ2KVV7">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                www.amazon.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/oPvXfDlxHjM?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="569069" data-title="CoolPlant Android app" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/569/069/datas/original.jpeg">
                            <img alt="CoolPlant &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/569/069/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                CoolPlant Android app
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="569083" data-title="Summary after getting plant's details" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/569/083/datas/original.jpeg">
                            <img alt="CoolPlant &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/569/083/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Summary after getting plant's details
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="569267" data-title="Plant + device" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/569/267/datas/original.jpg">
                            <img alt="CoolPlant &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/569/267/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Plant + device
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    As we get busier and busier working and improving ourselves, we end up having less time to take care of, let's say, things that demand less of our attention. This can include our plants, that have need not only for water, but also sunlight (in different intensities). We could create a habit to water the plants at a certain time, but is it really necessary? What if you shouldn't water the plant today, because the soil is already moist or because it will
                    <strong>
                        rain
                    </strong>
                    within one hour?
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    CoolPlant uses 4 sensors - soil moisture, air temperature, air humidity and light - to determine plant's current state, check these values against the optimal values for the plant's species, and if some action is necessary, such as the soil is dry so the user needs to water the plant, the app sends an e-mail to the user or users themselves can check the plant's current status on CoolPlant mobile app, that summarizes how the plant is doing.
                </p>
                <p>
                    When the app sends notification for the user to take an action, it also checks for precipitation, so users can decide whether water or not their gardens.
                </p>
                <p>
                    This app can also be extended to work in groups and cover a bigger area (e.g. a farm or community) making the benefits of saving water much broader.
                </p>
                <h2>
                    How I built it
                </h2>
                <p>
                    I used the ESP32 board to connect the sensors, since it supports (partially) Arduino, has built-in wifi, can be powered by battery and is cheap. The device sends data in JSON format to Amazon IOT, that receives it and forwards to Amazon Kinesis. I used Kinesis Firehose delivery streams to buffer this incoming data and save it periodically to an S3 bucket. Every time an S3 object is changed, an S3 event is fired and I could attach a AWS Lambda function to respond to it, sending an e-mail. In other words, every time CoolPlant has a good amount of data to process, a custom Java function is called, reflecting the scenario: "the plant is communicating and I should check expected/actual data and maybe take an action".
                </p>
                <p>
                    I also created an Android App to allow users to check up-to-date sensor data and weather conditions. For this kind of "consumer" (mobile app, web apps, third-parties, etc) I created an API using API Gateway by simply using another Java Lambda function I created with the goal of returning plant's current status.
                </p>
                <p>
                    The Core of the CoolPlant also uses a Weather API (wunderground) to give additional advice to the user.
                </p>
                <h2>
                    Challenges I ran into
                </h2>
                <p>
                    ESP32 and the temperature/humidity sensor did not work as expected, as the sensor very often returned NaN values, even after hours working fine. I added code there to retry reading the sensor's values for n times (and waiting 2 seconds between attempts) and this improved success rate. I also had to try many different wiring setups on the breadboard, from the first prototype when everything was tidy and small to the last prototype, when I became more pragmatic and just used long wires to make my life easier. During this period I also managed to burn the first board :)
                </p>
                <p>
                    In terms of programming, I wish I had more time to improve the solution, but at least I created some "TODO" comments in code to highlight changes I'd like to implement there, such as logging/metrics.
                </p>
                <h2>
                    Accomplishments that I'm proud of
                </h2>
                <ol>
                    <li>
                        Having the IOT device sending data in a reliable way
                    </li>
                    <li>
                        Being able to get started with the AWS ecosystem, including AWS Lambda, API Gateway, S3 (+events), AWS IOT and Kinesis in a short time period
                    </li>
                    <li>
                        Deploying my first app to Google Play Store
                    </li>
                </ol>
                <h2>
                    What I learned
                </h2>
                <p>
                    +Hardware
                    <br>
                    +Cloud/AWS
                    <br>
                    +Servless apps
                </p>
                <h2>
                    What's next for Cool Plant
                </h2>
                <p>
                    Create a serious database featuring plants and optimal values for temperature, soil moisture and sunlight.
Refactor code to remove hardcoded values and make them configurable by end-users
Improve user experience and mobile apps (including an iOS app)
Additional sensors (e.g. pH)
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/amazon-web-services">
                                amazon-web-services
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/android">
                                android
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            api
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/arduino">
                                arduino
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            aws-iot
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            aws-lambda
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            esp32
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/java">
                                java
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            kinesis
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            mobile
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            s3
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://play.google.com/store/apps/details?id=com.embarcadero.CoolPlant" rel="nofollow" target="_blank" title="https://play.google.com/store/apps/details?id=com.embarcadero.CoolPlant">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                play.google.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

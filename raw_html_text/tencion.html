<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/CvaOT9YYrBk?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="687497" data-title="Model Workflow" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/687/497/datas/original.png">
                            <img alt="@encion &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/687/497/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Model Workflow
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    With the rising of importance in the security field, street corners, blind spots, alleys, hallways, etc..  have never been as tightly monitored as today. As the number screens and cameras increase, security employees have more and more to look at. Staring at a dozen of dull footage for over a long period of time can become tiring and increases the chances of missing little details. Our goal is to bring attention to security guards/ policemen/ law enforcers where needed the most to decrease intervention latency and increase the chances to prevent incidents.
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    Pre-processing multiple videos in order to extract their violence flag (1: violent, 0: non-violent) on intervals of 0.5 seconds. This pre-processing consists of a mix of multiple machine learning algorithms such as: K-Nearest Neighbors and n-decision trees.
                </p>
                <h2>
                    How we built it
                </h2>
                <p>
                    The project consists of two major parts:
                </p>
                <ul>
                    <li>
                        <p>
                            Presentation
                        </p>
                        <ul>
                            <li>
                                Frontend
                                <strong>
                                    VueJs
                                </strong>
                                was used as the framework for the frontend (HTML/CSS/Javascript)
                            </li>
                            <li>
                                Backend
                                <strong>
                                    Django
                                </strong>
                                was used for the backend (Python) for setting up endpoints from the database.
                                <strong>
                                    SQlite
                                </strong>
                                was used as database to store the results of all videos incremented by 0.5s.
                            </li>
                        </ul>
                    </li>
                    <li>
                        <p>
                            Machine Learning
A set of 6 hand labeled "bad/violent" clips and 9 hand labeled "good/non-violent" clips to train our ML model. Each of the clips are analyzed at intervals of 0.5s to extract all necessary data to determine violence/non-violence according to the following criteria
                        </p>
                        <ul>
                            <li>
                                <p>
                                    Brightness
Here we are allocating a danger/violence value to the brightness of a scene. Though there is no direct correlation between the two, we noticed that a violent scene is most likely to appear in a darker environment - ie at night.
                                </p>
                                <ul>
                                    <li>
                                        Tech used:
                                        <ul>
                                            <li>
                                                <strong>
                                                    OpenCV - Python:
                                                </strong>
                                                The OpenCV library was used to convert an image to gray scale then parse out each pixel's brightness level to come to a total sum of a frame's brightness.
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <p>
                                    Pixel Motion
Motion detection in a scene help us make the following correlation: the more motion there is in a scene, the more likely violent action is occurring. Of course, we understand that this is not necessarily always the case, and there are noise in the background such as clouds moving, or cars moving that could create false positives, but generally, in a static environment if there are lots of movement, we can assume that the chances of violence occurrence is higher.
                                </p>
                                <ul>
                                    <li>
                                        Tech used:
                                        <ul>
                                            <li>
                                                <strong>
                                                    OpenCV:
                                                </strong>
                                                Used by taking two frames and subtracting the level of brightness between each pixel to determine how much it has changed, then summing the total amount of pixels changed.
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <p>
                                    Number of People in the Frame
The more people there are in a frame, the more likely a violence occurrence to happen. This is targeted towards detecting large masses of bodies crowding around a center - most likely fighting.
                                </p>
                                <ul>
                                    <li>
                                        Tech used:
                                        <ul>
                                            <li>
                                                <strong>
                                                    OpenPose:
                                                </strong>
                                                One of OpenPose's features is their 2D real-time multi-person keypoint detection. This feature allowed us to determine the number of people in one scene.
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <p>
                                    Velocity
The velocity mentioned here is the velocity a figure has, that is, how much a datapoint displaced from a 0 to 0.5s interval. Here, we make the assumption that the more velocity present in a frame, the more likely violence is occurring. Here we used a decision tree algorithm.
                                </p>
                                <ul>
                                    <li>
                                        Tech used:
                                        <ul>
                                            <li>
                                                <strong>
                                                    OpenPose:
                                                </strong>
                                                Data points taken from OpenPose allow us to map data points to a skeleton on a person's figure (left arm, right arm, left foot, right foot, head) This helps us determining the vector by subtracting the same data points from one frame to another.
                                            </li>
                                        </ul>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <p>
                                    Vocabulary
Knowing what objects were detected in a clip/video, we can associate their connotation with violence level. For example, the word "knife" would more likely correlate to violence/danger than "flower".
                                </p>
                            </li>
                            <li>
                                <p>
                                    Tech used:
                                </p>
                                <ul>
                                    <li>
                                        <strong>
                                            Google Cloud Video Intelligence API:
                                        </strong>
                                        Extracting the objects detected in a video for its entire length.
                                    </li>
                                    <li>
                                        <strong>
                                            Word2Vector:
                                        </strong>
                                        By training a the Word2Vector model with a dataset, we can estimate in which octant and which area the words parsed out by Google API belong to. The closer they are to the 'danger' or 'violent' zone, the more likely the word parsed out has the same connotation.
                                    </li>
                                </ul>
                            </li>
                        </ul>
                        <p>
                            Upon gathering all the data, for each video for each 0.5s interval, we ran a simple (...) to train our dataset with pre-determined (using a decision tree based model), hand labeled violent/ non-violent tags. The model was then applied on arbitrary videos.
                        </p>
                        <p>
                            For a more general model of the workflow, please consult the Figure: Model Workflow
                        </p>
                        <p>
                            In summary, this project made use of 3 pretrained models and 3 self trained models
                        </p>
                        <ul>
                            <li>
                                Pretrained
                                <ul>
                                    <li>
                                        Google Cloud Video Intelligence API
                                    </li>
                                    <li>
                                        Word2Vector
                                    </li>
                                    <li>
                                        OpenPose
                                    </li>
                                </ul>
                            </li>
                            <li>
                                Self Trained
                                <ul>
                                    <li>
                                        Decision tree - For Velocity
                                    </li>
                                    <li>
                                        Decision tree - Envrionment (brightness, number of people) not incorporated in final version
                                    </li>
                                    <li>
                                        KNN - For vocabulary
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ul>
                <h2>
                    Challenges we ran into
                </h2>
                <ul>
                    <li>
                        Building our own dataset is challenging: We had to find a list of violent/danger representing videos and isolate the frames where there were occurences of violence.
                    </li>
                    <li>
                        Implementing 6 ML models is challenging - a lot of organization was implemented and followed.
                    </li>
                    <li>
                        Because of the GPU given, the processing speed was a little slow, hence data collection took a long time (~30min - 1hour)
                    </li>
                </ul>
                <h2>
                    What we learned
                </h2>
                <p>
                    Members of the team that had no previous knowledge of Machine Learning algorithms had the opportunity to get some experience with how Ml works. We also learned how to use Google APIs
                </p>
                <h2>
                    What's next for @tencion
                </h2>
                <p>
                    The ML model and prediction model needs fine tuning, afterwards, the next step would be to have live feed. As mentioned before, the videos displayed are pre-processed. Live feeding video would take more processing power.
                </p>
                <p>
                    We quickly realized that our project can be applied to a broad spectrum of fields. This includes video games, movie monitoring, valet system for cars and security cameras. This software could give an edge over preventing
 dangerous events such as foreseeing terrorism attacks, natural disasters, robberies, etc...
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag">
                            ai
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/django">
                                django
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/machine-learning">
                                machine-learning
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            openpose
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/python">
                                python
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            vuejs
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/xTEddie/Implementai-2018" rel="nofollow" target="_blank" title="https://github.com/xTEddie/Implementai-2018">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

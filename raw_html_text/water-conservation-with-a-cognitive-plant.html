<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/HBT-MHoplLQ?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="522452" data-title="Image 3 Image recognition" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/522/452/datas/original.png">
                            <img alt="Saving water with the Arduino101 &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/522/452/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Image 3 Image recognition
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="522453" data-title="Image 1 Robot" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/522/453/datas/original.jpg">
                            <img alt="Saving water with the Arduino101 &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/522/453/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Image 1 Robot
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="522454" data-title="Image 6 Arduino101 setup 2" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/522/454/datas/original.jpg">
                            <img alt="Saving water with the Arduino101 &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/522/454/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Image 6 Arduino101 setup 2
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="522455" data-title="Image 5 Arduino101 setup 1" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/522/455/datas/original.jpg">
                            <img alt="Saving water with the Arduino101 &ndash; screenshot 4" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/522/455/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Image 5 Arduino101 setup 1
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="522456" data-title="Image 7 Application in cloud" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/522/456/datas/original.png">
                            <img alt="Saving water with the Arduino101 &ndash; screenshot 5" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/522/456/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Image 7 Application in cloud
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="522457" data-title="Image 2 Robot inside" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/522/457/datas/original.jpg">
                            <img alt="Saving water with the Arduino101 &ndash; screenshot 6" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/522/457/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Image 2 Robot inside
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="522458" data-title="Image 8 text to speech" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/522/458/datas/original.png">
                            <img alt="Saving water with the Arduino101 &ndash; screenshot 7" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/522/458/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Image 8 text to speech
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="522459" data-title="Image 4 Arduino101" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/522/459/datas/original.jpg">
                            <img alt="Saving water with the Arduino101 &ndash; screenshot 8" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/522/459/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Image 4 Arduino101
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    Our solution is about water conservation, it is based on a volunteer project called Poseidon. With our concept build with an Arduino101, you optimize the circumstances to grow plants effectively.
Most important of all, you can save enormous amounts of water. With the use of sensors like a soil moisture sensor, you always give the plant the right amount of water, not too much or too less. We added some extra sensors to measure more parameters to see if the environment around the plant has influence on the moisture level of the soil.
                </p>
                <p>
                    You can extend this concept to whole fields of crops where you measure all kinds of parameters to help your crops grow better with exact amount of water and conserve more water.
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    Our solution consists of several components which are working together and are connected. In this section, a step-by-step description is made. In the next paragraph: &ldquo;##How we built it&rdquo;, we explain the steps more in detail
                </p>
                <ol>
                    <li>
                        A picture of the plant is taken and analysis of this picture to determine the plant and the recommended soil moisture level belonging to that plant
2 Reading sensor data including soil moisture and compare it with the recommended soil moisture level
3 Sending real-time data from the sensors to a dashboard and a mobile device
4 Speaking out a welcome message when the owner of the plant approaches the plant and speaking out and tweeting the status of the plant
5 Storing data in database for further analytics on the influence of different parameters around a plant.
                    </li>
                </ol>
                <h2>
                    How we built it
                </h2>
                <p>
                    Step 1. 
Because different plants need different parameters to grow in the most efficient way, we start with taking a picture of a plant. 
To make that happen we created a simple robot (
                    <a href="http://www.instructables.com/howto/tjbot/" rel="nofollow">
                        link
                    </a>
                    )which is based on a Raspberry PI. 
This robot is connected via WIFI and has a speaker and a camera attached. See image 1 and 2 for the robot.
On this robot, we run a Node-RED application (Node-RED is an open source programming tool based on node.js.). 
With this application, we control the camera to take a picture. In the same application, we analyse this picture to determine the type of plant with the use of the Watson Visual Recognition API. With this API, a database is available with a lot of objects, including plants. When we send the picture to the API, the result of this API is a list of objects which are recognized with a certain confidence level. The object with the highest confidence level is spoken out via the speaker. In our case the plant is always recognized with the highest confidence. See image 3 for the application.
When we know the type of plant we know the right soil moisture level.
                </p>
                <p>
                    Step 2.
The heart of our solution is the Arduino101 (see Image 4) with connected sensors to measure data from the plant. The sensors are: Soil Moisture sensor, Temperature sensor, Light sensor, Air pressure sensor. They are all connected with a Grove board to the Arduino101. See image 5 and 6 for the setup. For these sensors, we used different Arduino libraries to read the sensor data. We send some of the sensor data (soil moisture) via the BLE functionality of the Arduino101 to a mobile device. We also combined all the data and send this via MQTT (with an Arduino Wi-Fi-shield) to our Node-RED application running on Bluemix. Bluemix is a cloud developer platform, consisting of different APi&rsquo;s which we can use for free. See image 7 for this application.
                </p>
                <p>
                    This Node-RED application compares the soil moisture level belonging to the plant with the measured soil moisture level coming from the Arduino101. If the soil moisture level is in the right range or it&rsquo;s too low, this result will be send via MQTT to the robot to be spoken out.
                </p>
                <p>
                    Step 3.
To use the retrieved data from the connected sensors, we send the data in two directions:
                </p>
                <p>
                    A. With BLE to a mobile device to see the real-time status of the plant. When the owner of the plant approaches the plant with a mobile device. The Arduino101 automatically connects with this device. In the nrftoolbox app a graph is then visible with the real-time data (soil moisture level) from the plant. Another thing that happens when a connection is made, a signal is send from the Arduino101 via Node-RED in the cloud to Node-RED on the Raspberry Pi (all via MQTT) to speak out a welcome message and the status of the plant. See image 8 for this part of the application.
                </p>
                <p>
                    B. Via MQTT over the connected WIFI-shield, to our Node-RED application in the cloud. We setup the MQTT connection to a broker on the Arduino101 based on PubSub to Node-RED which runs in the cloud. We deployed the Node-RED boilerplate ( [link]
                    <a href="https://console.bluemix.net/catalog/starters/node-red-starter?env_id=ibm:yp:eu-gb" rel="nofollow">
                        https://console.bluemix.net/catalog/starters/node-red-starter?env_id=ibm:yp:eu-gb
                    </a>
                    ) ) in Bluemix which we used as a starting point for our application 
This Node-RED application adapts the data to make it visible on a dashboard. 
We made a MQTT connection to the same broker as where the Arduino101 is connected to with the same topic. Then the data automatically flows into the Node-RED application. We created a JSON string of the dataflow and then parsed the right data to the right graph on the dashboard. We used the Node-RED dashboard extension feature for that.
                </p>
                <p>
                    This JSON string also contains the soil moisture value and the application determines if the value is in the right range or is too low. The result (right or low) is send to MQTT broker with a different topic. The robot is also connected to this topic and receives the value.
                </p>
                <p>
                    Step 4
When someone with a mobile device comes in reach of the BLE signal of the Arduino101, the Arduino101 will automatically connect to this device. The Arduino101 will send the welcome text to a MQTT broker with a certain topic. 
The Node-RED application in the cloud receives this text via this MQTT broker and topic and forwards this via MQTT to the robot and will be spoken out via the Watson Text-to-Speech API.
The welcome text is also send to Twitter.
                </p>
                <p>
                    Step 5
We also store the data in a no-SQL database (Cloudant). We do this in the Node-RED application in the cloud, after we added a time stamp to it. We do this for further analysis to see if measured sensor data has an influence on the growth of the plant.
                </p>
                <h2>
                    Challenges we ran into
                </h2>
                <p>
                    We had a lot of interference between the different sensors, MQTT and BLE and the WIFI-Shield. Sometimes the MQTT connection was unstable. What we did is change the order and changed pin&rsquo;s to get the best results. We wanted to use the air quality sensor as well, but we did not get it to work properly, to get the right data format. In some cases we had to move some code to void.loop() to get things running smoothly.
                </p>
                <h2>
                    Accomplishments that we&rsquo;re proud of
                </h2>
                <p>
                    We are proud that we got this complex setup working in the way we wanted, it is probably not the most efficient way, but it works! When we started we even did not know about the existence of the Arduino101 board and now we know all ins- and outs of it and how to combine it with Grove, sensors, APIi&rsquo;s etc. We are thinking of other projects where we could also use the Arduino101.
                </p>
                <h2>
                    What we learned
                </h2>
                <p>
                    We learned that the BLE feature can be very helpful to extend an app or to add extra features to an app. It is very easy to use with the provide examples. Almost all needed libraries are available for the board and sensors. We found that the Arduino101 is compatible with the grove board and most sensors.
                </p>
                <h2>
                    What's next for Water conservation with a cognitive plant
                </h2>
                <p>
                    Next step is to optimize the code and solution and to extend this solution with more sensors, like measuring the minerals in the soil, etc. to gain more data and do more extensive analytics. In this case, you can determine the optimal environment for the plant to grow. Another thing we like to do, is adding a valve to the solution to automatically water the plant. Finally, we would like to extend our solution to a field of crops, with more sensors in the ground to see if we can optimize growth of a field of crops as well. This way we could really make a difference in saving water!
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag">
                            airpressure-sensor
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            arduino-101
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            arduino101
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            ble
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/c--3">
                                c++
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/cloudant">
                                cloudant
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            cognitive
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            data-analytics
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            grove
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/ibm-watson">
                                ibm-watson
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            light-intensity-sensor
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            mqtt
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/node-red">
                                node-red
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/node-js">
                                node.js
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/pubsub">
                                pubsub
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/raspberry-pi">
                                raspberry-pi
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            soil-moisture-sensor
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            temperature-sensor
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            text-to-speech
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            visual-recognition
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            wifi
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/hansb001/CognitivePlant_Arduino101" rel="nofollow" target="_blank" title="https://github.com/hansb001/CognitivePlant_Arduino101">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="http://cognitiveplant.eu-gb.mybluemix.net/ui/#/0" rel="nofollow" target="_blank" title="http://cognitiveplant.eu-gb.mybluemix.net/ui/#/0">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                cognitiveplant.eu-gb.mybluemix.net
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

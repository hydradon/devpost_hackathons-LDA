<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/nks0DS2IwnU?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="496002" data-title="One device controls the camera, and one device controls the motion of the drone." href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/496/002/datas/original.png">
                            <img alt="RubberNeck &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/496/002/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                One device controls the camera, and one device controls the motion of the drone.
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="496003" data-title="Controller is designed so that up and down buttons can be used without looking." href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/496/003/datas/original.png">
                            <img alt="RubberNeck &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/496/003/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Controller is designed so that up and down buttons can be used without looking.
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="496009" data-title="View from the drone." href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/496/009/datas/original.png">
                            <img alt="RubberNeck &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/496/009/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                View from the drone.
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    Imagine that, when you were driving, your eyes were fixed facing forward so that you had to change your direction of motion to look around. This is what it is normally like to fly a fixed-camera drone.
                </p>
                <h2>
                    User Experience:
                </h2>
                <p>
                    Normally, a user directly controls the pitch, yaw, and roll of a drone, and all motion is relative to the direction of the camera.
                </p>
                <p>
                    In our app, the user simply turns the viewing device in the direction he wants to look, and the drone faces that direction. The user points a separate controller in the direction they want the drone to move, and the drone moves in that direction, even if it is completely different from the direction the drone is facing!
                </p>
                <h2>
                    How it works:
                </h2>
                <p>
                    Pitch and Roll: To make the drone move in whatever direction the user is pointing, we came up with the following formula for pitch and roll:
                </p>
                <p>
                    Theta = ControllerAzimuth - DroneHeading
                </p>
                <p>
                    AbsoulteForce = tan(AbsoluteTilt)
                </p>
                <p>
                    Pitch = aTan(AbsoulteForce * cos(Theta))
                </p>
                <p>
                    Roll = aTan(AbsoulteForce * sin(Theta))
                </p>
                <p>
                    Yaw: There is no built-in command to make the drone face a certain direction, so we automatically adjust the rate of yaw until the drone is facing the same direction as the controller. This required slowing the yaw as we approach the correct heading in order to prevent oscillation.
                </p>
                <p>
                    Calibration: We use three calibration values for the azimuth of the controller, viewing device, and drone. Calibration is user friendly: the user simply points all three devices in the same direction and presses &ldquo;calibrate.&rdquo;
                </p>
                <h2>
                    What we used:
                </h2>
                <ol>
                    <li>
                        ARDroneSDK3 is used to control the drone.
                    </li>
                    <li>
                        The Android Sensor Orientation Library is used to integrate gyroscope, magnetometer, and accelerometer data.
                    </li>
                    <li>
                        Data is sent from the controller to the viewing device over Bluetooth sockets.
                    </li>
                    <li>
                        Lots of trigonometry, and lots of spinning around in circles staring at numbers on our phones.
                    </li>
                </ol>
                <h2>
                    What we learned:
                </h2>
                <p>
                    Drones are awesome. Working with three-dimensional orientation data in three different frames of reference is hard. The Android Sensor Orientation Library is very powerful.
                </p>
                <h2>
                    What&rsquo;s next for RubberNeck:
                </h2>
                <p>
                    Use the viewing device in a VR headset, and integrate alternate pointing devices such as a Myo Armband.
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag">
                            android-sensor-orientation-library
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            ardronesdk3
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            bebop-drone
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/bluetooth">
                                bluetooth
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/JZHeadley/DroneProject" rel="nofollow" target="_blank" title="https://github.com/JZHeadley/DroneProject">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li class="text-center">
                        <a data-lightbox="798750" data-title="Webpage UI" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/798/750/datas/original.png">
                            <img alt="SmartSketch &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/798/750/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Webpage UI
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="797053" data-title="Example sketch #1" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/797/053/datas/original.jpg">
                            <img alt="SmartSketch &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/797/053/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Example sketch #1
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="797057" data-title="Example sketch #2" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/797/057/datas/original.jpg">
                            <img alt="SmartSketch &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/797/057/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Example sketch #2
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="797058" data-title="Example sketch #3" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/797/058/datas/original.jpg">
                            <img alt="SmartSketch &ndash; screenshot 4" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/797/058/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Example sketch #3
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="796971" data-title="high level overview of backend" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/796/971/datas/original.png">
                            <img alt="SmartSketch &ndash; screenshot 5" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/796/971/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                high level overview of backend
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h1>
                    SmartSketch
                </h1>
                <h2>
                    Supercharge your creativity with state of the art image synthesis
                </h2>
                <h3>
                    Background
                </h3>
                <p>
                    A few months ago, some of us saw
                    <a href="https://www.youtube.com/watch?v=p5U4NgVGAwg&amp;feature=youtu.be" rel="nofollow">
                        the NVIDIA demo of their GuaGAN model
                    </a>
                    for semantic image synthesis. It blew us away. Unfortunately, unlike their StyleGAN model, they did not quickly release the source code, and everyone was left wanting more of this breakthrough tech.
                </p>
                <p>
                    Fortunately, whilst one group member was playing on their phone on the bus to the hackathon, they noticed a repo called "SPADE" that had just been made public by NVIDIA research on GitHub. It turns out this contained all their code, along with some pretrained models using GuaGAN! The repo was made public Friday, April 12th.
                </p>
                <p>
                    For those inclinded, the paper (which has gotten accepted as an oral presentation to CVPR) can be found
                    <a href="https://arxiv.org/pdf/1903.07291.pdf" rel="nofollow">
                        here
                    </a>
                    .
                </p>
                <h3>
                    Tech description
                </h3>
                <p>
                    The user draws an image using given colors. Each of these colors represents a "segment" or type of object being present at that pixel. When they are satisfied with their sketch, they can click a button and the image will be uploaded into the backend of our program hosted on the Google Cloud. The program converts the image to a more readable form and passes it into a folder where we use NVIDIA's pre-trained models to create a synthesized image using learned traits about each texture and object and the pixel map the user submitted. This image is then displayed on the website for the user to see.
                </p>
                <p>
                    ...
                </p>
                <p>
                    One thing our program does not do is generate an instance map. The instance map segments the image into different instances of objects - and makes sure that if two of the same object are overlapping each other, they have different pixel values. Detecting and working past overlapping images is a hard problem for computer vision, and this helps generate higher fidelity images. However, we thought that the end user would not enjoy having to sketch another image, and would probably not be submitting very complex drawing with many overlapping figures, so we omitted using this in the model.
                </p>
                <h3>
                    Challenges
                </h3>
                <ul>
                    <li>
                        The repo was made public the day we started working on it, so there was not much documentation
                    </li>
                    <li>
                        The code had few comments
                    </li>
                    <li>
                        The actual running of the model was tightly coupled with their testing function, and would have taken too much time to decouple. This means we had to run a modified version of their testing script to actually use it, which was not desirable.
                    </li>
                    <li>
                        Passing files around in the backend is difficult, as the NVIDIA model runs assuming certain directory configurations
                    </li>
                    <li>
                        We were going to use react for the frontend but ran into difficulties with the canvas, so had to scrap that at the last minute
                    </li>
                    <li>
                        It turns out that there are bugs in the source code for the NVIDIA models, so we could only use the model trained on the COCO dataset - we spent some time trying to debug the other models but saw on GitHub that other people were also having the same issues
                    </li>
                    <li>
                        We wanted to run the model on a vm with GPUs, as this would speed up running the model. However, late last night we got a hefty VM set up in the Google Cloud Engine, but we discovered some conflicting CUDA versions. Even without GPU acceleration, the model still runs decently fast!
                    </li>
                </ul>
                <h3>
                    Future Ideas
                </h3>
                <ul>
                    <li>
                        Real-time sketches like in the video demo
                    </li>
                    <li>
                        More colors and textures
                    </li>
                    <li>
                        Hooking into the models deeper, so we do not have to use their testing code to run them
                    </li>
                    <li>
                        Evaluating different pre-trained models (ade20k, cityscapes, etc)
                    </li>
                    <li>
                        Making the server stateless (save images to a shared file store), run the models on another VM that is dedicated to that (with more GPUs etc)
                    </li>
                    <li>
                        Enable better concurrent connections (this comes with running the models natively in our server)
                    </li>
                </ul>
                <h4>
                    Credits
                </h4>
                <ul>
                    <li>
                        <a href="https://nvlabs.github.io/SPADE/" rel="nofollow">
                            https://nvlabs.github.io/SPADE/
                        </a>
                    </li>
                    <li>
                        <a href="https://arxiv.org/abs/1903.07291" rel="nofollow">
                            https://arxiv.org/abs/1903.07291
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/nvlabs/spade/" rel="nofollow">
                            https://github.com/nvlabs/spade/
                        </a>
                    </li>
                </ul>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/bootstrap">
                                bootstrap
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/css">
                                css
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            cuda
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/html">
                                html
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/javascript">
                                javascript
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/python">
                                python
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/pytorch">
                                pytorch
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/react">
                                react
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            tensorflow
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/tornado">
                                tornado
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/noyoshi/smart-sketch" rel="nofollow" target="_blank" title="https://github.com/noyoshi/smart-sketch">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

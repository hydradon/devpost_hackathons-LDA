<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/nwtJflxY560?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="397701" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/397/701/datas/original.jpg">
                            <img alt="Whaleprint &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/397/701/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h1>
                    Whaleprint
                </h1>
                <p>
                    <img alt="whaleprint" data-canonical-url="https://github.com/mantika/whaleprint/raw/master/blue2.jpg" src="https://res.cloudinary.com/devpost/image/fetch/s--i5C-4RBU--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://github.com/mantika/whaleprint/raw/master/blue2.jpg">
                </p>
                <p>
                    Whaleprint allows to manage DAB (distributed application bundle) as service blueprints for docker swarm mode
                </p>
                <h2>
                    Rationale
                </h2>
                <p>
                    After playing around with docker experimental
                    <a href="https://github.com/docker/docker/blob/master/experimental/docker-stacks-and-bundles.md" rel="nofollow">
                        DAB's
                    </a>
                    we realized
that even though the concept looks promising, the tooling around it was somehow poor and pretty much useless. The only thing that you can do with this as today is 
generate a DAB from a
                    <code>
                        docker-compose
                    </code>
                    yml file and then run
                    <code>
                        docker stack deploy
                    </code>
                    or
                    <code>
                        docker deploy
                    </code>
                    in order to deploy it to your swarm mode cluster and that's pretty much it.
                </p>
                <p>
                    We immediately started thinking of different ways to enhance the dev &amp; ops experience with this new feature and we came up with some nice ideas that makes this possible.
The main concept behind this project is that we believe service stack deployments (specially in production) should be
                    <strong>
                        transparent
                    </strong>
                    ,
                    <strong>
                        reliable
                    </strong>
                    and above all
                    <a href="https://en.wikipedia.org/wiki/Declarative_programming#Definition" rel="nofollow">
                        <strong>
                            declarative
                        </strong>
                        and not imperative
                    </a>
                    .
                </p>
                <p>
                    Whaleprint makes possible to use your current DAB files as swarm mode blueprints and will show you with
                    <strong>
                        extreme detail
                    </strong>
                    <strong>
                        exactly
                    </strong>
                    which and how your services will be deployed/removed. 
At the same time it will also handle service update diffs describing precisely what things will change and what will be their new updated value.
                </p>
                <p>
                    Check it out!:
                </p>
                <p>
                    <a href="https://asciinema.org/a/9a7oq68a9eoilwqwq459xdr3t" rel="nofollow">
                        <img alt="asciicast" data-canonical-url="https://asciinema.org/a/9a7oq68a9eoilwqwq459xdr3t.png" src="https://res.cloudinary.com/devpost/image/fetch/s--Gm2ULt2t--/c_limit,f_auto,fl_lossy,q_auto:eco,w_900/https://asciinema.org/a/9a7oq68a9eoilwqwq459xdr3t.png">
                    </a>
                </p>
                <h2>
                    What other things does whaleprint do?
                </h2>
                <ul>
                    <li>
                        Preview and apply your DAB changesets (duh!)
                    </li>
                    <li>
                        Extend the current DAB format to support MOAR features. (
                        <a href="https://github.com/mantika/whaleprint/issues/7" rel="nofollow">
                            #7
                        </a>
                        )
                    </li>
                    <li>
                        Manage multiple stacks simultaneously
                    </li>
                    <li>
                        Fetch  DAB's from an URL
                    </li>
                    <li>
                        Remove and deploy service stacks entirely
                    </li>
                    <li>
                        Allow to apply specific service update through the
                        <code>
                            --target
                        </code>
                        option
                    </li>
                    <li>
                        Outputs relevant computed stack information like Published ports
                    </li>
                    <li>
                        Alternatively print complete plan detail instead of changesets only
                    </li>
                </ul>
                <h2>
                    Installing whaleprint
                </h2>
                <p>
                    Just download the binary for your platform from the
                    <a href="https://github.com/mantika/whaleprint/releases" rel="nofollow">
                        Releases
                    </a>
                    section, put it anywher in your PATH and enjoy!
                </p>
                <h2>
                    Extending DAB
                </h2>
                <p>
                    Whaleprint not only supports current DAB format but it also extends it in a backward-compatible way and allows to specify some other properties like 
Replicas and Constraints (more features to come).
                </p>
                <p>
                    Here's an example:
                </p>
                <pre class="language-javascript"><code>{
        "services": {
        "vote": {
        "Image": "docker/example-voting-app-vote@sha256:20faa449b42b5f0797b1b1a3028a2dd7ac0ece00b0d100b19e6dff4d1a0af2e3",
        "EndpointMode": "dnsrr", // Here we set the endpoint mode
        "Constraints": [
        "engine.labels.disk == ssd" // We can also add custom constraints
        ],
        "Replicas": 5, // And set the number of replicas
        "Networks": [
        "fruta"
        ]
        }
  },
  "version": "0.1"
}
</code></pre>
                <p>
                    As you can see
                    <strong>
                        Replicas
                    </strong>
                    ,
                    <strong>
                        Constraints
                    </strong>
                    and
                    <strong>
                        EndpoitMode
                    </strong>
                    are extended features that are not currently supported in the current
                    <a href="https://github.com/docker/docker/blob/master/experimental/docker-stacks-and-bundles.md" rel="nofollow">
                        DAB specification
                    </a>
                    . Some other features like setting service
                    <strong>
                        PublishedPorts
                    </strong>
                    is also possible.
                </p>
                <h2>
                    FAQ
                </h2>
                <h4>
                    Do I need some custom docker configuration or version for this?
                </h4>
                <p>
                    No, it just works out of the box with your current docker installation
                </p>
                <h4>
                    This is cool, in which docker version/platform does it work?
                </h4>
                <p>
                    Whaleprint works in
                    <strong>
                        any
                    </strong>
                    OS that's currently running docker 1.12 RC
                </p>
                <h4>
                    I'm getting connection errors when trying to use whaleprint.
                </h4>
                <p>
                    In OSX this might happen because of an
                    <a href="https://github.com/docker/engine-api/pull/320" rel="nofollow">
                        issue
                    </a>
                    in engine-api.
In the meantime just set your
                    <code>
                        DOCKER_HOST
                    </code>
                    env variable to your unix socket or TCP connection and you should be ok
                </p>
                <h4>
                    What about performance?.
                </h4>
                <p>
                    It's designed to show results instantly even with a large amount of services.
                </p>
                <h2>
                    Side notes
                </h2>
                <p>
                    While working on whaleprint we learnt a lot from docker internals as well as the new
                    <code>
                        swarm mode
                    </code>
                    and
                    <code>
                        swarmkit
                    </code>
                    core principles. We also found some issues
(
                    <a href="https://github.com/docker/swarmkit/issues/1171" rel="nofollow">
                        #1171
                    </a>
                    ) and sent some PR's fixing small bugs (
                    <a href="https://github.com/docker/engine-api/pull/320" rel="nofollow">
                        #320
                    </a>
                    ,
                    <a href="https://github.com/docker/swarmkit/pull/1207" rel="nofollow">
                        #1207
                    </a>
                    ).
                </p>
                <p>
                    Some of the concepts and ideas behind Whaleprint are inspired by some other products/companies like HashiCorp terraform who we admire for their excellence and ability to build amazing stuff.
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag">
                            apis
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/golang">
                                golang
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            swarmkit
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/mantika/whaleprint" rel="nofollow" target="_blank" title="https://github.com/mantika/whaleprint">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

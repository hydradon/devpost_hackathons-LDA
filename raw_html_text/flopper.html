<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/QqTGgQ-xPzg?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="553242" data-title="assembled floppys" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/553/242/datas/original.jpg">
                            <img alt="Flopperatus &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/553/242/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                assembled floppys
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="553243" data-title="wiring of the TI TM4123G" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/553/243/datas/original.jpg">
                            <img alt="Flopperatus &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/553/243/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                wiring of the TI TM4123G
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="553244" data-title="wiring of the power supply" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/553/244/datas/original.jpg">
                            <img alt="Flopperatus &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/553/244/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                wiring of the power supply
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="553245" data-title="power supply we made using a computer power source" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/553/245/datas/original.jpg">
                            <img alt="Flopperatus &ndash; screenshot 4" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/553/245/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                power supply we made using a computer power source
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="553246" data-title="stain finish of the resonation chamber" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/553/246/datas/original.jpg">
                            <img alt="Flopperatus &ndash; screenshot 5" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/553/246/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                stain finish of the resonation chamber
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    After hearing music being played on retro hardware, we decided to create our own instrument.
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    Our project takes 10 floppy drives and uses them to produce sounds. This happens due to the motor oscillating frequency resonating to create a sound wave. We harness this capability to produce different notes by moving the motor at set frequencies and intern are able to produce music.
                </p>
                <h2>
                    How we built it
                </h2>
                <p>
                    Our project was divided into 2 distinct groups. Josh and Tim took on the hardware construction. Jake and Justin worked on the software.
                </p>
                <p>
                    Hardware:
In order properly amplify the sound from the floppy drives, we had to figure out the structure that the floppys would sit on. This brought us to the Helmholtz resonance equation, which gave us a relationship between frequency resonated, volume of the box and the port opening of the box. We had a range of frequencies that were expected. From there, we bracketed the volume of the box so that it would not be huge but that there still was enough room for the drives to sit properly. The calculations yielded some surprising results. The area of the port hole had to be of reasonable size or the volume had to be of reasonable size. As it turns out, we were calculating frequencies higher than what the drives ended up creating. This allowed for more reasonable dimensions. Instead of trying to have multiple port holes or some weird shape port hole, we came up with a radial design. This allows for simpler calculations, as well as making it more like an acoustic guitar.
                </p>
                <p>
                    Our first challenge came when going to Lowe's to source material. We could not find a thin enough plywood that would bend easily to wrap as the outside of the enclosure. We settled on some 1/8th inch oak plywood and attempted to "steam" the it, in order to make it more malleable. This failed twice before we switched gears. The wood just did not want to be bend to the radius we needed. Since it was late into the night, we just needed a solution. Therefore, we just cut the piece that was supposed to be wrapped around into slats that would still give a circular profile and structural support.
                </p>
                <p>
                    Once the enclosure was assembled, it was glued for more rigidity over night. It was cleaned up with a nice sanding to smooth out the rough edges and clean up the overall appearance. Next, we stained the whole thing to give it a protective coating and enhance the natural color of the beautiful oak wood.
                </p>
                <p>
                    Floppy drives were cleaned and prepped for their installation while the stain was drying. They were given some glue and secured further with the zip ties. We found that the tighter bond that the floppy had with the wood, the better sound that we could get from it. This is the reason for all the security of the drives to the top surface.
                </p>
                <p>
                    Next was to wire up the drives with power and input signals. This proved tedious because each drive needed a +5 volt source, ground, step signal input, direction signal input, and a jumper for the front LEDs to turn on. With great caution, we soldered the wires right to the pins and ran each bundle of wires underneath the top with the help of the zip ties that were already in place. Then, all the common grounds and +5 volts were soldered together. The input signals were soldered to the TI M4123G board. Banana plug connectors were added for a cleaner connection to the power supply and a hole was drilled for the micro-USB cable to pass through for easy hook up to a computer. Troubleshooting the code began and a final debug was under way.
                </p>
                <p>
                    Software:
We used C for the ARM chip controlling the floppy drives and Python to decode midi files and transmit them from a computer to the device over a serial port. The device software generates 10 independent square waves for the stepper motors inside the floppy drives. By toggling an output pin of the micro controller at certain frequency, different notes can be achieved as the floppy drive motor resonates and amplifies through the resonator box. The communication with the commanding PC is done through two bytes commands. The first byte represents the pitch of the note and second byte represents which drive is supposed to play the note and also general mute/unmute bit.
                </p>
                <p>
                    Decoding the midi files took two versions. It took a lot of research on how the files were structured. In the first version, we tried reading the file byte by byte which made it hard to achieve all the necessary data in the given time.  For that reason, we decided to use an API which helped acquire the contents from the midi files more efficiently.
                </p>
                <h2>
                    Challenges we ran into
                </h2>
                <p>
                    Parsing MIDI flies were a difficult task. The files are stored in big endian format while most modern architectures are little endian. While building the resonation chamber we initially planned on creating a circle by bending a small piece of plywood. Unfortunately it kept cracking and we had to rebuild using narrow strips to get our circle shape.
                </p>
                <h2>
                    Accomplishments that we're proud of
                </h2>
                <p>
                    In the end we were able to decode a MIDI file and play it on 10 floppys.
                </p>
                <h2>
                    What we learned
                </h2>
                <p>
                    Wood doesn't bend easily. MIDI music file structure.
                </p>
                <h2>
                    What's next for Flopper
                </h2>
                <p>
                    Tons of youtube videos playing songs on request. Adding more LED lights. Voice syntonization. Hard Drive Drum. 8 bit concerts.
                </p>
                <p>
                    test
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/c">
                                c
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            nails
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/python">
                                python
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            saw
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            wood
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/jakeh12/hackisu2018-flopper" rel="nofollow" target="_blank" title="https://github.com/jakeh12/hackisu2018-flopper">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

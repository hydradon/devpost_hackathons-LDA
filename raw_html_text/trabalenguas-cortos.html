<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/ZquHIyQvJt4?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="742588" data-title="Opening screen with a random hint" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/742/588/datas/original.png">
                            <img alt="Trabalenguas Cortos &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/742/588/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Opening screen with a random hint
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="742589" data-title="Voice commands and touch buttons" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/742/589/datas/original.png">
                            <img alt="Trabalenguas Cortos &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/742/589/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Voice commands and touch buttons
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="742590" data-title="Tongue twisters have speech/text synchronization" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/742/590/datas/original.png">
                            <img alt="Trabalenguas Cortos &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/742/590/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Tongue twisters have speech/text synchronization
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="742591" data-title="Echo Spot layout" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/742/591/datas/original.png">
                            <img alt="Trabalenguas Cortos &ndash; screenshot 4" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/742/591/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Echo Spot layout
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="742592" data-title="Good-bye screen" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/742/592/datas/original.png">
                            <img alt="Trabalenguas Cortos &ndash; screenshot 5" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/742/592/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Good-bye screen
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    I wanted to do something for kids and about education because I think Alexa can help kids learn a lot of things in a fun way. Tongue twisters are a great (and fun) way for memorizing a new word and practice its pronunciation, so I thought that a skill that not only repeats the tongue twister but also could say it at slower and faster speeds would be really helpful.
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    It allows you to listen to tongue twisters in Spanish at normal, slower, and faster speeds. Users can choose tongue twisters with two options, the tongue twister of the day (there's one for every day of the year) or a random tongue twister.
                </p>
                <p>
                    The slower speed option is great to learn the tongue twister. The faster speed option is great if the users want to test if they have mastered the tongue twister (in addition, some of them are funny to listen to at a fast speed).
                </p>
                <p>
                    The voice experience is the same across all Alexa devices. The added value of screen devices is that users can see the tongue twister said by Alexa (with text/audio synchronization) and there are buttons for the most common options.
                </p>
                <h2>
                    How I built it
                </h2>
                <h3>
                    Tech stack used
                </h3>
                <ul>
                    <li>
                        Node.js (
                        <a href="https://github.com/alexa/alexa-skills-kit-sdk-for-nodejs" rel="nofollow">
                            ASK SDK v2 for Node.js
                        </a>
                        )
                    </li>
                    <li>
                        AWS Lambda (as the backend)
                    </li>
                    <li>
                        AWS S3 (to host the images)
                    </li>
                </ul>
                <p>
                    I used the
                    <a href="https://www.npmjs.com/package/ask-cli" rel="nofollow">
                        Node.js. ASK CLI
                    </a>
                    to build and deploy the project.
                </p>
                <p>
                    I started with the voice experience (no visuals). I did a lot of iterations and put a lot of thought on the interaction model to make it as best as I could.
                </p>
                <p>
                    I created 5 custom intents with all the utterances I could think of (that sounded natural or that I thought the user could say to activate the intent).
                </p>
                <p>
                    At first, I was using the SSML tag
                    <code>
                        &lt;prosody rate="45%"&gt;
                    </code>
                    to make Alexa say the tongue twister slowly. However, it didn't sound good. So I thought that maybe I could insert a
                    <code>
                        &lt;break&gt;
                    </code>
                    with a 400/500 ms pause after every word to make it sound better. And there you have it, it's not perfect but it sounds a lot better.
                </p>
                <p>
                    To say the tongue twister faster, I do use a
                    <a href="https://developer.amazon.com/docs/custom-skills/speech-synthesis-markup-language-ssml-reference.html#prosody" rel="nofollow">
                        prosody
                    </a>
                    tag at a 130% rate.
                </p>
                <p>
                    For almost every response Alexa says (or question Alexa asks) I have more than one alternative and so a random one can be chosen every time. Also, for variety, I made four background images with different colors.
                </p>
                <p>
                    I also included some logic to avoid errors like asking Alexa to say a tongue twister faster when there's no tongue twister selected (for example, if the faster intent is invoked when the skill is opened, either by mistake or on purpose).
                </p>
                <p>
                    For the Repeat intent, I implemented an interceptor that saves the last response of every intent (with the exception of the Repeat intent) in a session attribute.
                </p>
                <p>
                    Only when I had the voice right, I started building the APL responses using the APL authoring tool.
                </p>
                <p>
                    I have three APL templates:
                </p>
                <ul>
                    <li>
                        One for the main (first) screen.
                    </li>
                    <li>
                        One for the tongue twister that uses a Pager component with two elements, one for the text and another one for the buttons. Using APL Commands (
                        <a href="https://developer.amazon.com/docs/alexa-presentation-language/apl-standard-commands.html#sequential-command" rel="nofollow">
                            Sequential
                        </a>
                        ,
                        <a href="https://developer.amazon.com/docs/alexa-presentation-language/apl-standard-commands.html#speakitem-command" rel="nofollow">
                            SpeakItem
                        </a>
                        , and
                        <a href="https://developer.amazon.com/docs/alexa-presentation-language/apl-standard-commands.html#setpage-command" rel="nofollow">
                            SetPage
                        </a>
                        , in particular), I tell Alexa to say the text and show the next page of the Pager component when it finishes.
                    </li>
                    <li>
                        One for the help and good-bye screens that just shows some text.
                    </li>
                </ul>
                <p>
                    After I had a first version of the screens, I tested on a device (Echo Spot) and fix all the errors (more about this on the next section).
                </p>
                <p>
                    Next, I started gathering all the tongue twister. I didn't use a database, just a JavaScript file with an array.
                </p>
                <p>
                    Finally, I tested the skill many times to fix errors, change responses (or add alternative responses), button labels, and even the title and invocation name of the skill (it was called "Trabalenguas Infantiles" at first or "Tongue Twisters for Children).
                </p>
                <h2>
                    Challenges I ran into
                </h2>
                <ul>
                    <li>
                        Time. I learned about the contest early in January 2019, so I had to learn how to developed Alexa skills and APL in a proper way in about one week. It took me another week to build the skill. I have previously watched some talks about developing Alexa skills, but I had never tried building one until now. This is my first skill.
                    </li>
                    <li>
                        The APL Authoring tool vs Real device. I started building the layout of the screens with the online authoring tool and just when I finished, I thought of buying an Echo Spot to test on a real device, the perfect excuse to buy one ;) (this device is the only one with a screen that is sold in Mexico at the moment). Thank God I did that. The layout was broken when I tested on the device. Apparently, the styles were the problem. I defined them in the
                        <code>
                            styles
                        </code>
                        section of the APL document and some of them were not being evaluated, so I had to define them inline, with the component. I don't know if this was because I'm doing something or it's a bug of the authoring tool, but it works fine on the device now.
                    </li>
                    <li>
                        Using APL Commands and the Pager component. I had a hard time implementing the text/speech synchronization and changing the page displayed in a Pager component with a command. It wasn't working, I spent an afternoon trying to figure the error out. I was about to give up when at last, I discovered the problem by reading the pager documentation.
                        <em>
                            When there are N pages in the pager, the first is index 0 and the last has index N-1.
                        </em>
                        I was using
                        <code>
                            1
                        </code>
                        as the first index.
                    </li>
                </ul>
                <h2>
                    Accomplishments that I'm proud of
                </h2>
                <p>
                    There's a lot of room for improvement, but I'm proud I overcame the challenges I run into to build the skill in a short period of time (one week). Also, my oldest kid (8 years old) has been trying the skill and he likes it, he said it was fun!
                </p>
                <h2>
                    What I learned
                </h2>
                <ul>
                    <li>
                        Always test on the real device.
                    </li>
                    <li>
                        Read the documentation more thoroughly.
                    </li>
                    <li>
                        I discovered the
                        <a href="https://www.twitch.tv/amazonalexa" rel="nofollow">
                            Amazon Alexa Twitch channel
                        </a>
                        . Office hours are great!
                    </li>
                </ul>
                <h2>
                    What's next for Trabalenguas Cortos
                </h2>
                <ul>
                    <li>
                        Add more tongue twisters.
                    </li>
                    <li>
                        I'm not exactly sure how to make the skill available to other locales (like Spanish-ES), but publishing the skill to the Spain Skill store is definitely on this list.
                    </li>
                    <li>
                        Pay attention to user's feedback to improve the functionality and the interaction model.
                    </li>
                </ul>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/amazon-alexa">
                                amazon-alexa
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            apl
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            lambda
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/node-js">
                                node.js
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            s3
                        </span>
                    </li>
                </ul>
            </div>
        </div>
    </body>
</html>

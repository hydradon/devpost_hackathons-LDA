<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/C2yT-SVJgZU?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="636910" data-title="Gardena R40Li robotic lawn mower starting to mow" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/636/910/datas/original.jpg">
                            <img alt="Robonect lawn mower Alexa Skill &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/636/910/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Gardena R40Li robotic lawn mower starting to mow
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="636909" data-title="Gardena R40Li robotic lawn mower mowing" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/636/909/datas/original.jpg">
                            <img alt="Robonect lawn mower Alexa Skill &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/636/909/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Gardena R40Li robotic lawn mower mowing
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="636911" data-title="Alexa on Echo dot listening to voice commands" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/636/911/datas/original.jpg">
                            <img alt="Robonect lawn mower Alexa Skill &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/636/911/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Alexa on Echo dot listening to voice commands
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Does your robotic lawn mower do a good job mowing your lawn, but it just won't listen to you?
                </h2>
                <p>
                    With the "Robonect lawn mower" Alexa skill, it is possible to make your robotic lawn mower* follow voice commands.
                </p>
                <p>
                    (*) Robonect module (compatible with models from Husqvarna, Gardena, Flymo and McCulloch), or Husqvarna/Gardena "smart" model robotic lawn mower (e.g. "Sileno smart") required.
                </p>
                <h2>
                    How did it all start?
                </h2>
                <p>
                    Last year, I bought a robotic lawn mower (model: Gardena R40Li). I read about a custom 3rd party upgrade module called "Robonect" that allows to control the (otherwise) non-smart lawn mower through a web interface. Since it also offers an open API, I quickly had the idea to build an Alexa skill for it. And so I did.
                </p>
                <h2>
                    What Alexa commands are currently available?
                </h2>
                <ul>
                    <li>
                        "Alexa, start lawn mower" or "Alexa, ask lawn mower for the status" to request the current status
                    </li>
                    <li>
                        "Alexa, tell lawn mower to set the mode to auto|manual|home|end of day" to set the mode to auto|manual|home|end of day
                    </li>
                    <li>
                        "Alexa, tell lawn mower to call it a day" to set the mode to end of day
                    </li>
                    <li>
                        "Alexa, tell lawn mower to start mowing" to assign a job and set the mode to end of day afterwards
                    </li>
                    <li>
                        "Alexa, ask lawn mower for help" sends a list of commands to your Alexa app
                    </li>
                </ul>
                <p>
                    (and some variations of these commands)
                </p>
                <h2>
                    How does the skill work?
                </h2>
                <p>
                    The original skill accessed only the Robonect-API to get status information and change the mode of the device.
For this challenge, I have enhanced the skill to also be able to communicate with Husqvarna's/Gardena's Smart System directly (i.e. the "smart" lawnmower models, e.g. "Sileno smart") through the use of their own API.
Accessing the Husqvarna API is quite different to accessing the Robonect API. Nevertheless, I kept the Alexa commands identical, however their meaning had to be slightly adapted according to the Smart System's functionality:
                </p>
                <ul>
                    <li>
                        "Alexa, start lawn mower" or "Alexa, ask lawn mower for the status" to request the current status
                    </li>
                    <li>
                        "Alexa, tell lawn mower to set the mode to auto|manual|home|end of day" to set the mode to auto|manual|home|end of day with: auto=according to timer settings, manual=mow for one hour, then continue according to the timer settings, home=park until further notice, end of day=park until next timer-driven start
                    </li>
                    <li>
                        "Alexa, tell lawn mower to call it a day" to set the mode to 'park until next timer-driven start'
                    </li>
                    <li>
                        "Alexa, tell lawn mower to start mowing" to set the mode to 'mow for one hour, then continue according to the timer settings'
                    </li>
                    <li>
                        "Alexa, ask lawn mower for help" sends a list of commands to your Alexa app
                    </li>
                </ul>
                <h2>
                    What were the major challenges?
                </h2>
                <p>
                    Since every Alexa user wants to control their own robotic lawn mower (instead of everyone controlling the same lawn mower), there has to be a connection between the Alexa user and their robotic lawn mower. As I only need to map user credentials (either to Robonect or the Husqvarna/Gardena Smart System), I did not want to force my users having to create another username/password and apply Alexa account linking to that. Instead, upon first start (and/or through the skill's help) the Alexa skill just spells out its current Alexa-ID (last 16 digits), which has to be entered on a linking website together with the Robonect or Husqvarna/Gardena account information. Everytime when the skill is started, it first makes a request to this linking website to determine if a linked entry is available and - in case there is, get the account information for the Robonect (or Husqvarna/Gardena) API. Only afterwards, the Robonect (or Husqvarna/Gardena) API is accessed.
If no linked entry is found, the user is asked to link his/her own Alexa-ID (also being spelled out and sent to the Alexa app) and the Robonect/Husqvarna credentials through the linking website.
                </p>
                <h2>
                    Demo instructions
                </h2>
                <p>
                    "Alexa, activate lawn mower", visit the account linking website (
                    <a href="https://robonect.michael-eckel.de" rel="nofollow">
                        https://robonect.michael-eckel.de
                    </a>
                    ) and enter your Alexa-ID and "demo" as Robonect-URL
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/alexa">
                                alexa
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            echo
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            echo-dot
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            gardena-api
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            husqvarna-api
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/mysql">
                                mysql
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/node-js">
                                node.js
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/php">
                                php
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            robonect-api
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://www.amazon.com/Michael-Eckel-Robonect-lawn-mower/dp/B072PXYSQ9" rel="nofollow" target="_blank" title="https://www.amazon.com/Michael-Eckel-Robonect-lawn-mower/dp/B072PXYSQ9">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                www.amazon.com
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="https://robonect.michael-eckel.de" rel="nofollow" target="_blank" title="https://robonect.michael-eckel.de">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                robonect.michael-eckel.de
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

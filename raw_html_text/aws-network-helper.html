<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/KB74FRAYTX4?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                </ul>
            </div>
            <div>
                <h1>
                    AWS Network Helper
                </h1>
                <p>
                    Project for submission to the 2016 AWS Serverless Chatbot Competition
                    <a href="https://youtu.be/KB74FRAYTX4" rel="nofollow">
                        AWS Network Helper Demo Video
                    </a>
                </p>
                <h2>
                    Goals &amp; Features
                </h2>
                <p>
                    The goal of this project is to provide an AWS network troubleshooting script that runs on a serverless architecture, and can be interacted with via Slack as a chat bot. In simple terms, the goal is to be able to respond to input like:
                </p>
                <ul>
                    <li>
                        Why can&rsquo;t I connect to ec2-instance-A from ec2-instance-B?
                    </li>
                    <li>
                        Troubleshoot connection between ec2-instance-B and rds-instance-C on port 5432
                    </li>
                    <li>
                        I cannot connect to S3 from ec2-instance-A
                    </li>
                    <li>
                        Help me connect to ec2-instance-B
                    </li>
                </ul>
                <p>
                    In order to respond to inputs like these, the script must be able to analyze these network elements:
                </p>
                <ul>
                    <li>
                        Ingress and Egress Security Groups
                    </li>
                    <li>
                        Ingress and Egress Network ACLs
                    </li>
                    <li>
                        Route Tables
                    </li>
                    <li>
                        NAT and Internet Gateways
                    </li>
                </ul>
                <p>
                    Also, since information like instance type, port, and ephemeral ports may or may not be provided, the code must be able to look through metadata for these values, or at least make reasonable assumptions for what the user is most likely trying to accomplish.
                </p>
                <p>
                    The code is currently able to understand all of the statements above, as well as small variations in the wording. It can troubleshoot network settings for the following types of connections in both directions:
                </p>
                <table class="responsive">
                    <thead>
                        <tr>
                            <th>
                                Instance A
                            </th>
                            <th>
                                Instance B
                            </th>
                            <th>
                                Complexities
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>
                                EC2
                            </td>
                            <td>
                                EC2
                            </td>
                            <td>
                                Supports Windows and Linux
                            </td>
                        </tr>
                        <tr>
                            <td>
                                EC2
                            </td>
                            <td>
                                RDS
                            </td>
                            <td>
                                All RDS engine types supported
                            </td>
                        </tr>
                        <tr>
                            <td>
                                EC2
                            </td>
                            <td>
                                The Internet
                            </td>
                            <td>
                                Supports instances behind both Internet and NAT Gateways
                            </td>
                        </tr>
                        <tr>
                            <td>
                                RDS
                            </td>
                            <td>
                                The Internet
                            </td>
                            <td>
                                Supports instances behind both Internet and NAT Gateways
                            </td>
                        </tr>
                        <tr>
                            <td>
                                EC2
                            </td>
                            <td>
                                AWS Services
                            </td>
                            <td>
                                S3, DynamoDB, KMS, SNS, SQS, etc.
                            </td>
                        </tr>
                    </tbody>
                </table>
                <p>
                    Wherever possible, the code should also not limit the scope of this project to only use Slack as the messaging interface.
                </p>
                <h2>
                    Architecture
                </h2>
                <p>
                    AWS Services Used:
                </p>
                <ul>
                    <li>
                        API Gateway
                    </li>
                    <li>
                        SNS
                    </li>
                    <li>
                        S3
                    </li>
                    <li>
                        Lambda
                    </li>
                    <li>
                        IAM &amp; KMS
                    </li>
                </ul>
                <p>
                    <img alt="Architecture Diagram" data-canonical-url="/docs/AWS%20Network%20Helper%20Architecture.png?raw=true" src="/docs/AWS%20Network%20Helper%20Architecture.png?raw=true" title="AWS Network Helper Architecture Diagram">
                </p>
                <p>
                    An SNS topic is used between the Slack listener Lambda and the network helper Lambda so that in the future, different listeners could be deployed that use interfaces other than Slack. Other interfaces could include, but are not limited to:
                </p>
                <ul>
                    <li>
                        A web app
                    </li>
                    <li>
                        A scheduled batch job for auditing network settings
                    </li>
                    <li>
                        A command line tool
                    </li>
                    <li>
                        A Python module
                    </li>
                </ul>
                <p>
                    S3 is used to provide the user with an externalized configuration file for easier changes. The Slack token, SNS ARN, slash command, and other variables can be changed without re-compiling your Lambda
                </p>
                <p>
                    KMS is used to decrypt the Slack token stored in the configuration file upon use, and is also used to encrypt/decrypt the response URL as it gets passed through SNS. This is an added layer of security.
                </p>
                <h2>
                    Installation
                </h2>
                <p>
                    Please follow the installation instructions in the AWS Network Helper documentation:
                    <a href="/docs/AWS%20Network%20Helper.docx" rel="nofollow">
                        AWS Network Helper Documentation
                    </a>
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/python">
                                python
                            </a>
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/ngmcfarland/aws-network-helper" rel="nofollow" target="_blank" title="https://github.com/ngmcfarland/aws-network-helper">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

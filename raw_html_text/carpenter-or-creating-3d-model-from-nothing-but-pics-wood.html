<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/Z-Xac4qrLDA?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="826604" data-title="3D scan result" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/826/604/datas/original.png">
                            <img alt="Carpenter: creating 3D model from nothing but pics &amp; wood &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/826/604/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                3D scan result
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="826605" data-title="3D scan result" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/826/605/datas/original.png">
                            <img alt="Carpenter: creating 3D model from nothing but pics &amp; wood &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/826/605/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                3D scan result
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="826622" data-title="Platform with Aduino" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/826/622/datas/original.jpg">
                            <img alt="Carpenter: creating 3D model from nothing but pics &amp; wood &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/826/622/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Platform with Aduino
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="826623" data-title="Stand" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/826/623/datas/original.jpg">
                            <img alt="Carpenter: creating 3D model from nothing but pics &amp; wood &ndash; screenshot 4" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/826/623/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Stand
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="826624" data-title="Masked sample input" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/826/624/datas/original.jpg">
                            <img alt="Carpenter: creating 3D model from nothing but pics &amp; wood &ndash; screenshot 5" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/826/624/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Masked sample input
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="826625" data-title="Sample input" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/826/625/datas/original.jpg">
                            <img alt="Carpenter: creating 3D model from nothing but pics &amp; wood &ndash; screenshot 6" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/826/625/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Sample input
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="826663" data-title="Sparse point cloud" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/826/663/datas/original.png">
                            <img alt="Carpenter: creating 3D model from nothing but pics &amp; wood &ndash; screenshot 7" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/826/663/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Sparse point cloud
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="826664" data-title="3D model without textures" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/826/664/datas/original.png">
                            <img alt="Carpenter: creating 3D model from nothing but pics &amp; wood &ndash; screenshot 8" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/826/664/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                3D model without textures
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="826665" data-title="Dense point cloud" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/826/665/datas/original.png">
                            <img alt="Carpenter: creating 3D model from nothing but pics &amp; wood &ndash; screenshot 9" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/826/665/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Dense point cloud
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Product description
                </h2>
                <p>
                    With the increasing graphical computational power, there are more interactions between real life and the digitised world built by machines. The world has experienced this through the introduction of AR &amp; VR, 3D printing, video games, all of which bridge real life with a virtual environment. However, the creation of 3D models act as an obstable, which is often expensive and time comsuming (requiring years of experience and expensive working environment), preventing everyday users participating directly in the creation process of the above activities.
                </p>
                <p>
                    However, during this hackathon we have proposed a complete and automated pipeline for 3D scanning. Contrary to most commercial solutions, which often require multiple depth cameras and/or lasers, our solution only needs one camera (the prototyped used a cellphone camear). This greatly reduced the cost of the pipeline. Furthermore, their software components are often covoluted and lack documentation, as they are designed for technical purposes. However, we have automated this process, and the model is automatically constructed with a click of a button. The only required user input is placement of the camera at our designated position.
                </p>
                <p>
                    Combining the above 2 factors, we have made 3D scanning accessible to a wider audience. This can may be integrated in existing 3D model creation workflows to increase the speed of prototyping. Alternatively, small museums may use this technology to digitise art with a greatly reduced expense. Individuals who desperatly need to replace a niche broken part may no longer need to waste time searching for it; they can simply scan it and 3D print it. The advantages this bring is immeasurable, and we are proud to showcase our solution today.
                </p>
                <h2>
                    How to use it
                </h2>
                <p>
                    A rotating platform with a designated calibration pattern is setup, and a camera (phone) is placed on a fixed stand. The position of the stand is adjusted such that the entire platform is in the field of view. The web frontend is loaded up, and a calibration image is automatically taken with a click of a button. If satisfied, the object is placed in the center of the platform, and another button is pressed to begin the process. Depending on the object, it may take up to 10 minutes to create the model. However, the user is constanting updated, with photoes or models constantly updating to reflect the current progress. At the end, a .obj file is created, which can be imported into 3D design softwares for further refinement.
                </p>
                <h2>
                    How it works
                </h2>
                <h3>
                    Hardware
                </h3>
                <p>
                    Rotating platform and stand: wood, pins, and the occasional glue to stabilise the structure; the platform is connected to a step motor, which is connected to the driver board and an aduino. The aduino is connected to the computer and loaded with a custom firmware for data transfer and control. On the rotating platform, a calibration image is drawn. It is designed to be non-symmetric, different colors, and have a high contrast with the background. This allows easy identification later.
                </p>
                <p>
                    Camera: An android phone is used as the camera. It is connected to the computer with debugging mode enabled, allowing fulling control over the phone using adb.
                </p>
                <p>
                    When the scan begins, the platform is rotated 360/n degrees each time, where n is the number of photos required. The photos are received by sending an unlocking command to the phone, opening the camera app, focusing it to to the middle of the field of view, taking a photo, and finally transfering it to the working directory on the computer for further processing.
                </p>
                <h3>
                    Image processing
                </h3>
                <p>
                    Each photo taken is compared to the reference image, and the difference mask is taken. The mask for all the images are added together and the contour with the largest area is taken. This is assumed to be the outline of the platform + object. The contour is then filled in to create a mask. The mask is then applied to all the images, as it can filter out a lot of background, which may influence results downsteam and increase computation complexity.
                </p>
                <p>
                    With the image preprocessed, it is then processed. Features from images were first extracted, and images were matched to see find overlaps in features. This allows creation of a sparse point cloud using the algorithm from the 2013 paper "Global Fusion of Relative Motionsfor Robust, Accurate and Scalable Structure from Motion" from Moulon et al. The sparse point cloud can then be used to created a mesh, which is then textured using the images. This algorithm is known for a long time and widely used.
                </p>
                <p>
                    Fortunately, there exists implementations of the above algorithms, and we used the libraries openMVG and openMVS library. openMVG is used to create a sparse point cloud, and openMVS converts a sparse point cloud into a 3D mesh. As both these pipelines are independent from each other, a bridging program was written.
                </p>
                <p>
                    However, we modified openMVG as it was not suitable for our use case. OpenMVG was designed for scanning large historical buildings, and lacked the the resolution for small objects. We modified the library to increase resolution with the comprimise of noise. Furthremore, their solution involved rotation of the viewer rather than the object. Thus, the program was modified to reduce the effect of it. The functions in the library required many different parameters, and we calculated the best value for our use case.
                </p>
                <p>
                    The resultant file was a custom .mvs file, and we converted it to the more universal .obj format for easier further processing and portability. This concludes the back-end component of the processing. During the entire back-end computation process, data at each stage is transfered to the front end using websockets to update the users the current progress.
                </p>
                <h3>
                    Front-end
                </h3>
                <p>
                    The intuitive front-end UI is powered by React and @Material-UI  and WebSocket is used to communicate with the backend. It is elegantly designed to display all the intermediate steps so that user don't need to deal with annoying command lines. User will first need to capture a reference image by clicking a button. This reference image can be retaken if desired. Then it will display all the image while they are being captured. Then all sorts of fancy processing will take place and there will be comments displayed on the right. Finally, once all computations are complete, the model is rendered using OpenGL and the user can view and interact with the model in real-time.
                </p>
                <h2>
                    Challenges I ran into
                </h2>
                <h2>
                    What's next for Carpenter or: creating 3D model from nothing but pics &amp; wood
                </h2>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag">
                            adb
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/arduino">
                                arduino
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/c">
                                c
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            glue
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/opencv">
                                opencv
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            openmvg
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            openmvs
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/python">
                                python
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/react">
                                react
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            wood
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/cdcseacave/openMVS" rel="nofollow" target="_blank" title="https://github.com/cdcseacave/openMVS">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/openMVG/openMVG" rel="nofollow" target="_blank" title="https://github.com/openMVG/openMVG">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="https://github.com/trulyspinach/sur_recons" rel="nofollow" target="_blank" title="https://github.com/trulyspinach/sur_recons">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

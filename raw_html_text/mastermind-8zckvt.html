<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li class="text-center">
                        <a data-lightbox="389512" data-title="API Game Test" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/389/512/datas/original.png">
                            <img alt="Axiom Zen - Mastermind API &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/389/512/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                API Game Test
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="389577" data-title="Results" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/389/577/datas/original.png">
                            <img alt="Axiom Zen - Mastermind API &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/389/577/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Results
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="389607" data-title="Debug API" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/389/607/datas/original.png">
                            <img alt="Axiom Zen - Mastermind API &ndash; screenshot 3" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/389/607/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Debug API
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <p>
                    This is a JAVA API to play Mastermind made with spring-webmvc to process the endpoints, and I did a front-end webapp just to test the API.
                </p>
                <h2>
                    How it works? (Single Player)
                </h2>
                <p>
                    To start a new single player game you need to post to this endpoint first to get gameId and playerId:
                </p>
                <pre class="language-nolang"><code>/endpoints/startNewGame
</code></pre>
                <p>
                    with these information Ex:
                </p>
                <pre class="language-nolang"><code>{"players": 1, "allowDuplicates": false, "name": "Leandro Berbel"}
</code></pre>
                <p>
                    Players: 1, allowDuplicates: true/false and player's name.
                </p>
                <p>
                    The API will return to you:
                </p>
                <pre class="language-nolang"><code>{
"gameId":"501a4c30-7114-4b91-8e14-d4fe33d70544",
"playerId":"0f566b3b-72f5-4aaa-82cf-0a1a946db383",
"status":"STARTED",
"start":1463947123395,
"maxAttempts":10,
"positions":8,
"colors":["red","green","blue","yellow","brown","orange","purple","cyan"]
}
</code></pre>
                <p>
                    Now you can post the player guesses to this endpoint:
                </p>
                <pre class="language-nolang"><code>/endpoints/guessColors
</code></pre>
                <p>
                    With these information: gameId, playerId and your guess using the colors you receveid from startNewGame:
                </p>
                <pre class="language-nolang"><code>{
"gameId": "501a4c30-7114-4b91-8e14-d4fe33d70544", 
"playerId": "0f566b3b-72f5-4aaa-82cf-0a1a946db383", 
"colorPattern": ["red","green","blue","yellow","brown","orange","purple","cyan"]
}
</code></pre>
                <p>
                    The API will return to you:
                </p>
                <pre class="language-nolang"><code>{
"attempts":1,
"solved":false,
"result":["black","white","white","white","white","white","white","white"]
}
</code></pre>
                <p>
                    Black = Correct color, correct position
                </p>
                <p>
                    White = Correct color, wrong position
                </p>
                <p>
                    The player can try until get solved = true or its attempts reaches maxAttempts from startNewGame (10).
                </p>
                <p>
                    When it ends, you need to get from this endpoint the results:
                </p>
                <pre class="language-nolang"><code>endpoints/finishStats/{gameId}
</code></pre>
                <p>
                    Ex:
                </p>
                <pre class="language-nolang"><code>endpoints/finishStats/501a4c30-7114-4b91-8e14-d4fe33d70544
</code></pre>
                <p>
                    The API will return to you:
                </p>
                <pre class="language-nolang"><code>{
"game":
{
"status":"ENDED",
"uuid":"501a4c30-7114-4b91-8e14-d4fe33d70544",
"players":1,
"allowDuplicates":false,
"start":1463947123395,
"end":1463948185693,
"colorPattern":["cyan","purple","red","brown","yellow","orange","green","blue"],
"playersList":[
{"uuid":"0f566b3b-72f5-4aaa-82cf-0a1a946db383",
"name":"Leandro Berbel",
"attempts":4,
"end":1463948185692,
"solved":true,
"history":[
["red","green","blue","yellow","brown","orange","purple","cyan"],
["blue","green","brown","orange","purple","cyan","yellow","blue"],
["red","blue","green","brown","orange","cyan","brown","yellow"],
["cyan","purple","red","brown","yellow","orange","green","blue"]
]
}
]
},
"player": {
"uuid":"0f566b3b-72f5-4aaa-82cf-0a1a946db383",
"name":"Leandro Berbel",
"attempts":4,
"end":1463948185692,
"solved":true,
"history":[
["red","green","blue","yellow","brown","orange","purple","cyan"],
["blue","green","brown","orange","purple","cyan","yellow","blue"],
["red","blue","green","brown","orange","cyan","brown","yellow"],
["cyan","purple","red","brown","yellow","orange","green","blue"]
]
}
}
</code></pre>
                <p>
                    <strong>
                        game:
                    </strong>
                    all information about the played game
                </p>
                <p>
                    <strong>
                        player:
                    </strong>
                    the winner player (if exists)
                </p>
                <h2>
                    How it works? (Multiplayer)
                </h2>
                <p>
                    To start a new multiplayer game you need to post to this endpoint first to get gameId and playerId:
                </p>
                <pre class="language-nolang"><code>/endpoints/startNewGame
</code></pre>
                <p>
                    with these information Ex:
                </p>
                <pre class="language-nolang"><code>{"players": 2, "allowDuplicates": false, "name": "Leandro Berbel"}
</code></pre>
                <p>
                    Players: 2, allowDuplicates: true/false and player's name.
                </p>
                <p>
                    The API will search for opened games with the same number of players and same preference for allowDuplicates.
                </p>
                <p>
                    If you are the first player, the API will return to you:
                </p>
                <pre class="language-nolang"><code>{
"gameId":"80714383-769a-4e96-bd7f-7c9e3e45b634",
"playerId":"c43d1be4-532e-431e-ab77-e1ab2c88f90a",
"status":"WAITING",
"start":null,
"maxAttempts":10,
"positions":8,
"colors":["red","green","blue","yellow","brown","orange","purple","cyan"]
}
</code></pre>
                <p>
                    <strong>
                        Status = WAITING
                    </strong>
                </p>
                <p>
                    Now you need to wait for another player, and get from this endpoint the confirmation from API when there is another player ready to play:
                </p>
                <pre class="language-nolang"><code>endpoints/checkMultiplayer/{gameId}
</code></pre>
                <p>
                    Ex:
                </p>
                <pre class="language-nolang"><code>endpoints/checkMultiplayer/80714383-769a-4e96-bd7f-7c9e3e45b634
</code></pre>
                <p>
                    The client needs to check until get another player ready to play, on front-end test, the interval is 1s for each check.
                </p>
                <p>
                    The API will return to you:
                </p>
                <pre class="language-nolang"><code>{
"gameId":"80714383-769a-4e96-bd7f-7c9e3e45b634",
"start":null,
"playersList":[
{
"uuid":"c43d1be4-532e-431e-ab77-e1ab2c88f90a",
"name":"Leandro Berbel",
"attempts":0,
"end":null,
"solved":false,
"history":[]
}],
"status":"WAITING"
}
</code></pre>
                <p>
                    When another player connect to API and send a post to startNewGame, the
                    <strong>
                        second
                    </strong>
                    player will receive this from startNewGame endpoint:
                </p>
                <p>
                    Post:
                </p>
                <pre class="language-nolang"><code>{"players": 2, "allowDuplicates": false, "name": "Player 2"}
</code></pre>
                <p>
                    Return from API:
                </p>
                <pre class="language-nolang"><code>{
"gameId":"80714383-769a-4e96-bd7f-7c9e3e45b634",
"playerId":"8a9dfef8-55f2-47e6-9010-3ec12cc56d58",
"status":"STARTED",
"start":1463949644641,
"maxAttempts":10,
"positions":8,
"colors":["red","green","blue","yellow","brown","orange","purple","cyan"]}
]
</code></pre>
                <p>
                    <strong>
                        Status = STARTED
                    </strong>
                </p>
                <p>
                    The API add 30 seconds to start date, for both clients start together, so the start date is the date when the game will start for both players, the client needs to implement a countdown until this date. On the front-end test webapp, this countdown occurs each 1s.
                </p>
                <p>
                    After that, when the client of
                    <strong>
                        first
                    </strong>
                    player check the endpoint:
                </p>
                <pre class="language-nolang"><code>checkMultiplayer/{gameId}
</code></pre>
                <p>
                    The API will return to you:
                </p>
                <pre class="language-nolang"><code>{
"gameId":"80714383-769a-4e96-bd7f-7c9e3e45b634",
"start":1463949644641,
"playersList":
[{
"uuid":"c43d1be4-532e-431e-ab77-e1ab2c88f90a",
"name":"Leandro Berbel",
"attempts":0,
"end":null,
"solved":false,
"history":[]
},
{
"uuid":"8a9dfef8-55f2-47e6-9010-3ec12cc56d58",
"name":"Player 2",
"attempts":0,
"end":null,
"solved":false,
"history":[]
}]
,"status":"STARTED"
}
</code></pre>
                <p>
                    <strong>
                        Status = STARTED
                    </strong>
                </p>
                <p>
                    The API add 30 seconds to start date, for both clients start together, so the start date is the date when the game will start for both players, the client needs to implement a countdown until this date. On the front-end test webapp, this countdown occurs each 1s.
                </p>
                <p>
                    After countdown is over, both clients can post the player guesses to this endpoint:
                </p>
                <pre class="language-nolang"><code>/endpoints/guessColors
</code></pre>
                <p>
                    With these information: gameId, playerId and your guess using the colors you receveid from startNewGame:
                </p>
                <pre class="language-nolang"><code>{
"gameId": "501a4c30-7114-4b91-8e14-d4fe33d70544", 
"playerId": "0f566b3b-72f5-4aaa-82cf-0a1a946db383", 
"colorPattern": ["red","green","blue","yellow","brown","orange","purple","cyan"]
}
</code></pre>
                <p>
                    The API will return to you:
                </p>
                <pre class="language-nolang"><code>{
"attempts":1,
"solved":false,
"result":["black","white","white","white","white","white","white","white"]
}
</code></pre>
                <p>
                    Black = Correct color, correct position
                </p>
                <p>
                    White = Correct color, wrong position
                </p>
                <p>
                    The players can try until get solved = true or its attempts reaches maxAttempts from startNewGame (10).
                </p>
                <p>
                    When both players end (the client needs to wait it checking finishStats), you need to get from this endpoint the results:
                </p>
                <pre class="language-nolang"><code>endpoints/finishStats/{gameId}
</code></pre>
                <p>
                    Ex:
                </p>
                <pre class="language-nolang"><code>endpoints/finishStats/501a4c30-7114-4b91-8e14-d4fe33d70544
</code></pre>
                <p>
                    The API will return to you:
                </p>
                <pre class="language-nolang"><code>{
"game":{
"status":"ENDED",
"uuid":"ea78e92f-d92b-4cc4-99f5-db82acfba4c1",
"players":2,
"allowDuplicates":false,
"start":1463951060641,
"end":1463951296926,
"colorPattern":["red","orange","green","cyan","purple","yellow","blue","brown"],
"playersList":[{
"uuid":"8ebb1813-4e9f-464a-856a-f9f087cbd03e",
"name":"Leandro Berbel",
"attempts":5,
"end":1463951222726,
"solved":true,
"history":[
["red","green","blue","yellow","brown","orange","purple","cyan"],
["red","green","blue","yellow","brown","orange","purple","cyan"],
["cyan","orange","purple","brown","orange","yellow","brown","blue"],
["red","blue","green","brown","yellow","orange","purple","cyan"],
["red","orange","green","cyan","purple","yellow","blue","brown"]
]},
{
"uuid":"ae8fafd1-f807-4180-adfc-5df6ffdc5e42",
"name":"Player 2",
"attempts":10,
"end":1463951296926,
"solved":false,
"history":[
["red","green","yellow","orange","brown","purple","cyan","orange"],
["cyan","purple","orange","brown","yellow","blue","green","red"],
["red","green","blue","yellow","brown","orange","purple","cyan"],
["red","green","blue","yellow","brown","orange","cyan","purple"],
["cyan","orange","purple","yellow","brown","green","blue","red"],
["red","yellow","brown","orange","blue","green","purple","orange"],
["red","blue","green","yellow","purple","orange","cyan","brown"],
["red","yellow","green","blue","brown","orange","yellow","cyan"],
["cyan","orange","purple","brown","yellow","blue","green","red"],
["red","blue","brown","orange","brown","yellow","purple","cyan"]
]
}]
},
"player":{
"uuid":"8ebb1813-4e9f-464a-856a-f9f087cbd03e",
"name":"Leandro Berbel",
"attempts":5,
"end":1463951222726,
"solved":true,
"history":[
["red","green","blue","yellow","brown","orange","purple","cyan"],
["red","green","blue","yellow","brown","orange","purple","cyan"],
["cyan","orange","purple","brown","orange","yellow","brown","blue"],
["red","blue","green","brown","yellow","orange","purple","cyan"],
["red","orange","green","cyan","purple","yellow","blue","brown"]
]}
}
</code></pre>
                <p>
                    <strong>
                        game:
                    </strong>
                    all information about the played game
                </p>
                <p>
                    <strong>
                        player:
                    </strong>
                    the winner player (if exists)
                </p>
                <h2>
                    Bonus: Color pattern
                </h2>
                <p>
                    You can check the color pattern getting it from this endpoint:
                </p>
                <pre class="language-nolang"><code>endpoints/viewPattern/#{gameId}
</code></pre>
                <p>
                    Ex:
                </p>
                <pre class="language-nolang"><code>endpoints/viewPattern/319b13d0-485f-4965-9974-c9c3d7ffcc00
</code></pre>
                <p>
                    The API will return to you, Ex:
                </p>
                <pre class="language-nolang"><code>["orange","yellow","blue","green","purple","cyan","red","brown"]
</code></pre>
                <h2>
                    1. What was the hardest part?
                </h2>
                <p>
                    Implementing the multiplayer and the exceptions.
                </p>
                <h2>
                    2. If you could go back and give yourself advice at the beginning of the project, what would it be?
                </h2>
                <p>
                    Don't forget the exceptions.
                </p>
                <h2>
                    3. If you could change something about this challenge, what would it be?
                </h2>
                <p>
                    Possibility to play with 3 or more players. However, the API is ready for it :)
                </p>
                <h2>
                    How to compile and run
                </h2>
                <p>
                    You need to get the project from github, and you need to have maven 3.x in your machine.
                </p>
                <pre class="language-nolang"><code>https://github.com/lberbel/mastermind
</code></pre>
                <pre class="language-nolang"><code>mvn clean install
</code></pre>
                <p>
                    This command generates a war archive in /target folder.
                </p>
                <p>
                    After that, you can publish on any container you want, TomCat, Jboss, WildFly, etc... The live demo is running on WildFly 10.
                </p>
                <p>
                    This API doesn't require any database.
                </p>
                <h1>
                    Live Demo
                </h1>
                <p>
                    You can check the live demo at:
                </p>
                <pre class="language-nolang"><code>http://www.lberbel.com.br/mastermind
</code></pre>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/ajax">
                                ajax
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/css3">
                                css3
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/html5">
                                html5
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/java">
                                java
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/javascript">
                                javascript
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/jquery">
                                jquery
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            jsf2
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag recognized-tag">
                            <a href="https://devpost.com/software/built-with/json">
                                json
                            </a>
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            richfaces
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            spring-framework
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            spring-webmvc
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/lberbel/mastermind" rel="nofollow" target="_blank" title="https://github.com/lberbel/mastermind">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                    <li>
                        <a href="http://www.lberbel.com.br/mastermind" rel="nofollow" target="_blank" title="http://www.lberbel.com.br/mastermind">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                www.lberbel.com.br
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

<html>
    <head>
    </head>
    <body>
        <div class="large-9 columns" id="app-details-left">
            <div id="gallery">
                <ul>
                    <li>
                        <div class="flex-video">
                            <iframe allowfullscreen="allowfullscreen" allowscriptaccess="always" class="video-embed" frameborder="0" height="371" mode="transparent" src="https://www.youtube.com/embed/fy8n_Dvz1Y0?enablejsapi=1&amp;hl=en_US&amp;rel=0&amp;start=&amp;version=3&amp;wmode=transparent" type="text/html" webkitallowfullscreen="true" width="660" wmode="transparent">
                            </iframe>
                        </div>
                    </li>
                    <li class="text-center">
                        <a data-lightbox="589952" data-title="Lisp Interpreter inside browser: calculating area of circle" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/589/952/datas/original.png">
                            <img alt="hack-browser &ndash; screenshot 1" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/589/952/datas/gallery.jpg">
                        </a>
                        <span class="expand-tag">
                            <i class="fas fa-expand">
                            </i>
                        </span>
                        <p>
                            <i>
                                Lisp Interpreter inside browser: calculating area of circle
                            </i>
                        </p>
                    </li>
                    <li class="text-center">
                        <a data-gif-player="true" href="https://challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/589/982/datas/original.gif">
                            <img alt="hack-browser &ndash; screenshot 2" class="software_photo_image image-replacement" onerror="this.onerror=null;this.src='https://devpost-challengepost.netdna-ssl.com/assets/defaults/thumbnail-placeholder-42bcab8d8178b413922ae2877d8b0868.gif';" src="//challengepost-s3-challengepost.netdna-ssl.com/photos/production/software_photos/000/589/982/datas/gallery.jpg">
                        </a>
                        <span class="gif-tag">
                            GIF
                        </span>
                        <a class="gif-play">
                            <i class="fas fa-play">
                            </i>
                        </a>
                        <p>
                            <i>
                                hide navbar demo
                            </i>
                        </p>
                    </li>
                </ul>
            </div>
            <div>
                <h2>
                    Inspiration
                </h2>
                <p>
                    Firefox in OSX does allow you to go truly "full" screen - the navigation bar, bookmarks bar are still visible. There are many scripts which run without our knowledge which track us, show us advertisement and in some cases even mine crypto coins. Hack browser is an attempt to get our browser back- to customize and control each and every detail of our web browser.
                </p>
                <p>
                    Hack browser is inspired by Emacs where in user customization code runs at same privilege level as the application code itself. Like Emacs, it has a Lisp (ClojureScript) interpreter embedded in itself. The code for browser is written in ClojureScript which is in turn executed by the same interpreter. This gives Hack browser the power to change everything about itself dynamically.
                </p>
                <p>
                    Hack browser can also be used by companies to automate testing and profiling of websites programmatically.
                </p>
                <h2>
                    What it does
                </h2>
                <p>
                    Hack browser gives you a console which pops up like "Developer tools" in Chrome. You can type in ClojureScript in this console which will be evaluated by interpreter which interpreted the code for browser itself.
                </p>
                <p>
                    Using this console you can customize everything:
                </p>
                <ul>
                    <li>
                        looks of the browser (chrome): which tool bars are shown, how keyboard bindings are made
                    </li>
                    <li>
                        how requests are made: filtering and blocking of incoming and outgoing requests
                    </li>
                    <li>
                        how cookies are handled
                    </li>
                    <li>
                        tracing resource consumption of browser: measure and log bandwidth, time taken to load
                    </li>
                    <li>
                        access to file system using nodejs: inside the console you have access to nodejs object using which you can have access to file system, execute shell commands (imagine piping the contents of your web blog to
                        <code>
                            grep
                        </code>
                        and then piping to
                        <code>
                            wc
                        </code>
                        ) and electron object which gives access to all Chrome APIs.
                    </li>
                </ul>
                <h2>
                    How I built it
                </h2>
                <p>
                    I used Electronjs to render the web pages and ClojureScript (Lisp) to build API wrapper around it, CodeMirror to build the console which highlights syntax and aids in editing by highlighting matching brackets.
                </p>
                <h2>
                    Challenges I ran into
                </h2>
                <p>
                    Dynamically loading and interpreting browser ClojureScript code was a big challenge which I haven't completely solved:
                    <code>
                        eval
                    </code>
                    function in ClojureScript require
                    <code>
                        state
                    </code>
                    in which the expressions must be evaluated. This state must be passed to every expression executed by user on console. Now the browser code itself must also be evaluated using
                    <code>
                        eval
                    </code>
                    to
                    <em>
                        collect
                    </em>
                    the state so that subsequent user expressions can be evaluated in the same state.
                </p>
                <p>
                    This, my guess is, will require use of Clojure reader (
                    <code>
                        clojure.tools.reader
                    </code>
                    ) to read Clojure code from file and then converting it to Clojure code and then passed to
                    <code>
                        eval
                    </code>
                    . Currently I'm reading file as string as passing to
                    <code>
                        eval
                    </code>
                </p>
                <h2>
                    Accomplishments that I'm proud of
                </h2>
                <p>
                    A working Lisp interpreter inside browser
                </p>
                <h2>
                    What I learned
                </h2>
                <p>
                    ClojureScript and Electronjs - this is my first project using these two things.
                </p>
                <h2>
                    What's next for hack-browser
                </h2>
                <p>
                    More APIs so that user can control more things from console easily.
Reading ~/hack_browser.cljs similar to ~/.emacsd
                </p>
            </div>
            <div class="" id="built-with">
                <h2>
                    Built With
                </h2>
                <ul class="no-bullet inline-list">
                    <li>
                        <span class="cp-tag">
                            clojurescript
                        </span>
                    </li>
                    <li>
                        <span class="cp-tag">
                            electron
                        </span>
                    </li>
                </ul>
            </div>
            <nav class="app-links section">
                <h2>
                    Try it out
                </h2>
                <ul class="no-bullet" data-role="software-urls">
                    <li>
                        <a href="https://github.com/anuragpeshne/hack-browser" rel="nofollow" target="_blank" title="https://github.com/anuragpeshne/hack-browser">
                            <i class="ss-icon ss-link">
                            </i>
                            <span>
                                github.com
                            </span>
                        </a>
                    </li>
                </ul>
            </nav>
        </div>
    </body>
</html>

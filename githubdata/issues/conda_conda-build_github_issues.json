[
    {
        "url": "https://api.github.com/repos/conda/conda-build/issues/3879",
        "repository_url": "https://api.github.com/repos/conda/conda-build",
        "labels_url": "https://api.github.com/repos/conda/conda-build/issues/3879/labels{/name}",
        "comments_url": "https://api.github.com/repos/conda/conda-build/issues/3879/comments",
        "events_url": "https://api.github.com/repos/conda/conda-build/issues/3879/events",
        "html_url": "https://github.com/conda/conda-build/pull/3879",
        "id": 564258579,
        "node_id": "MDExOlB1bGxSZXF1ZXN0Mzc0NTIyNDEz",
        "number": 3879,
        "title": "remove docs on features from bdist_conda and env vars",
        "user": {
            "login": "msarahan",
            "id": 38393,
            "node_id": "MDQ6VXNlcjM4Mzkz",
            "avatar_url": "https://avatars3.githubusercontent.com/u/38393?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/msarahan",
            "html_url": "https://github.com/msarahan",
            "followers_url": "https://api.github.com/users/msarahan/followers",
            "following_url": "https://api.github.com/users/msarahan/following{/other_user}",
            "gists_url": "https://api.github.com/users/msarahan/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/msarahan/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/msarahan/subscriptions",
            "organizations_url": "https://api.github.com/users/msarahan/orgs",
            "repos_url": "https://api.github.com/users/msarahan/repos",
            "events_url": "https://api.github.com/users/msarahan/events{/privacy}",
            "received_events_url": "https://api.github.com/users/msarahan/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 1545628549,
                "node_id": "MDU6TGFiZWwxNTQ1NjI4NTQ5",
                "url": "https://api.github.com/repos/conda/conda-build/labels/cla-signed",
                "name": "cla-signed",
                "color": "ededed",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2020-02-12T20:42:32Z",
        "updated_at": "2020-02-12T20:42:34Z",
        "closed_at": null,
        "author_association": "MEMBER",
        "pull_request": {
            "url": "https://api.github.com/repos/conda/conda-build/pulls/3879",
            "html_url": "https://github.com/conda/conda-build/pull/3879",
            "diff_url": "https://github.com/conda/conda-build/pull/3879.diff",
            "patch_url": "https://github.com/conda/conda-build/pull/3879.patch"
        },
        "body": "Leave code intact, but no docs\r\n\r\nMutex metapackages are the documented preferred approach: https://docs.conda.io/projects/conda/en/latest/user-guide/concepts/packages.html#mutex-metapackages"
    },
    {
        "url": "https://api.github.com/repos/conda/conda-build/issues/3878",
        "repository_url": "https://api.github.com/repos/conda/conda-build",
        "labels_url": "https://api.github.com/repos/conda/conda-build/issues/3878/labels{/name}",
        "comments_url": "https://api.github.com/repos/conda/conda-build/issues/3878/comments",
        "events_url": "https://api.github.com/repos/conda/conda-build/issues/3878/events",
        "html_url": "https://github.com/conda/conda-build/pull/3878",
        "id": 564248075,
        "node_id": "MDExOlB1bGxSZXF1ZXN0Mzc0NTEzNTI1",
        "number": 3878,
        "title": "add some detail to run_constrained doc",
        "user": {
            "login": "msarahan",
            "id": 38393,
            "node_id": "MDQ6VXNlcjM4Mzkz",
            "avatar_url": "https://avatars3.githubusercontent.com/u/38393?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/msarahan",
            "html_url": "https://github.com/msarahan",
            "followers_url": "https://api.github.com/users/msarahan/followers",
            "following_url": "https://api.github.com/users/msarahan/following{/other_user}",
            "gists_url": "https://api.github.com/users/msarahan/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/msarahan/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/msarahan/subscriptions",
            "organizations_url": "https://api.github.com/users/msarahan/orgs",
            "repos_url": "https://api.github.com/users/msarahan/repos",
            "events_url": "https://api.github.com/users/msarahan/events{/privacy}",
            "received_events_url": "https://api.github.com/users/msarahan/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 1545628549,
                "node_id": "MDU6TGFiZWwxNTQ1NjI4NTQ5",
                "url": "https://api.github.com/repos/conda/conda-build/labels/cla-signed",
                "name": "cla-signed",
                "color": "ededed",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2020-02-12T20:22:55Z",
        "updated_at": "2020-02-12T20:22:57Z",
        "closed_at": null,
        "author_association": "MEMBER",
        "pull_request": {
            "url": "https://api.github.com/repos/conda/conda-build/pulls/3878",
            "html_url": "https://github.com/conda/conda-build/pull/3878",
            "diff_url": "https://github.com/conda/conda-build/pull/3878.diff",
            "patch_url": "https://github.com/conda/conda-build/pull/3878.patch"
        },
        "body": "<!---\r\nThanks for opening a PR on conda-build!\r\n\r\nPlease include a news entry with your PR to help keep our changelog up to date!\r\nThere are instructions available at: https://regro.github.io/rever-docs/news.html\r\n\r\nIf there is specific issue / feature request that this PR is addressing,\r\nplease link to the corresponding issue by using the `#issuenumber` syntax.\r\n\r\nThanks again!\r\n-->\r\n"
    },
    {
        "url": "https://api.github.com/repos/conda/conda-build/issues/3877",
        "repository_url": "https://api.github.com/repos/conda/conda-build",
        "labels_url": "https://api.github.com/repos/conda/conda-build/issues/3877/labels{/name}",
        "comments_url": "https://api.github.com/repos/conda/conda-build/issues/3877/comments",
        "events_url": "https://api.github.com/repos/conda/conda-build/issues/3877/events",
        "html_url": "https://github.com/conda/conda-build/pull/3877",
        "id": 564088306,
        "node_id": "MDExOlB1bGxSZXF1ZXN0Mzc0MzgxMTI1",
        "number": 3877,
        "title": "extend docs on generating index",
        "user": {
            "login": "msarahan",
            "id": 38393,
            "node_id": "MDQ6VXNlcjM4Mzkz",
            "avatar_url": "https://avatars3.githubusercontent.com/u/38393?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/msarahan",
            "html_url": "https://github.com/msarahan",
            "followers_url": "https://api.github.com/users/msarahan/followers",
            "following_url": "https://api.github.com/users/msarahan/following{/other_user}",
            "gists_url": "https://api.github.com/users/msarahan/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/msarahan/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/msarahan/subscriptions",
            "organizations_url": "https://api.github.com/users/msarahan/orgs",
            "repos_url": "https://api.github.com/users/msarahan/repos",
            "events_url": "https://api.github.com/users/msarahan/events{/privacy}",
            "received_events_url": "https://api.github.com/users/msarahan/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 1545628549,
                "node_id": "MDU6TGFiZWwxNTQ1NjI4NTQ5",
                "url": "https://api.github.com/repos/conda/conda-build/labels/cla-signed",
                "name": "cla-signed",
                "color": "ededed",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2020-02-12T15:46:01Z",
        "updated_at": "2020-02-12T15:46:05Z",
        "closed_at": null,
        "author_association": "MEMBER",
        "pull_request": {
            "url": "https://api.github.com/repos/conda/conda-build/pulls/3877",
            "html_url": "https://github.com/conda/conda-build/pull/3877",
            "diff_url": "https://github.com/conda/conda-build/pull/3877.diff",
            "patch_url": "https://github.com/conda/conda-build/pull/3877.patch"
        },
        "body": "<!---\r\nThanks for opening a PR on conda-build!\r\n\r\nPlease include a news entry with your PR to help keep our changelog up to date!\r\nThere are instructions available at: https://regro.github.io/rever-docs/news.html\r\n\r\nIf there is specific issue / feature request that this PR is addressing,\r\nplease link to the corresponding issue by using the `#issuenumber` syntax.\r\n\r\nThanks again!\r\n-->\r\n"
    },
    {
        "url": "https://api.github.com/repos/conda/conda-build/issues/3876",
        "repository_url": "https://api.github.com/repos/conda/conda-build",
        "labels_url": "https://api.github.com/repos/conda/conda-build/issues/3876/labels{/name}",
        "comments_url": "https://api.github.com/repos/conda/conda-build/issues/3876/comments",
        "events_url": "https://api.github.com/repos/conda/conda-build/issues/3876/events",
        "html_url": "https://github.com/conda/conda-build/issues/3876",
        "id": 563553902,
        "node_id": "MDU6SXNzdWU1NjM1NTM5MDI=",
        "number": 3876,
        "title": "Merging compatible build string pinning doesn't work.",
        "user": {
            "login": "isuruf",
            "id": 5234427,
            "node_id": "MDQ6VXNlcjUyMzQ0Mjc=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/5234427?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/isuruf",
            "html_url": "https://github.com/isuruf",
            "followers_url": "https://api.github.com/users/isuruf/followers",
            "following_url": "https://api.github.com/users/isuruf/following{/other_user}",
            "gists_url": "https://api.github.com/users/isuruf/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/isuruf/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/isuruf/subscriptions",
            "organizations_url": "https://api.github.com/users/isuruf/orgs",
            "repos_url": "https://api.github.com/users/isuruf/repos",
            "events_url": "https://api.github.com/users/isuruf/events{/privacy}",
            "received_events_url": "https://api.github.com/users/isuruf/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2020-02-11T22:44:01Z",
        "updated_at": "2020-02-11T22:44:01Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "body": "```\r\nAdding in variants from internal_defaults\r\nINFO conda_build.variants:_combine_spec_dictionaries(188): Adding in variants from internal_defaults\r\nINFO conda_build.variants:_combine_spec_dictionaries(188): Adding in variants from /opt/conda/conda_build_config.yaml\r\nINFO conda_build.variants:_combine_spec_dictionaries(188): Adding in variants from /home/conda/.ci_support/linux64.yaml\r\nINFO conda_build.variants:_combine_spec_dictionaries(188): Adding in variants from config.variant\r\nAdding in variants from /opt/conda/conda_build_config.yaml\r\nAdding in variants from /home/conda/.ci_support/linux64.yaml\r\nAdding in variants from config.variant\r\nAttempting to finalize metadata for cartopy_offlinedata\r\n    % (self.raw_value, other.raw_value))\r\nValueError: Incompatible component merge:\r\n  - '*_cp*'\r\n  - '*_cp35m'\r\n```"
    },
    {
        "url": "https://api.github.com/repos/conda/conda-build/issues/3875",
        "repository_url": "https://api.github.com/repos/conda/conda-build",
        "labels_url": "https://api.github.com/repos/conda/conda-build/issues/3875/labels{/name}",
        "comments_url": "https://api.github.com/repos/conda/conda-build/issues/3875/comments",
        "events_url": "https://api.github.com/repos/conda/conda-build/issues/3875/events",
        "html_url": "https://github.com/conda/conda-build/pull/3875",
        "id": 563320071,
        "node_id": "MDExOlB1bGxSZXF1ZXN0MzczNzUyMDEw",
        "number": 3875,
        "title": "allow passing in post-metadata-augmenting function",
        "user": {
            "login": "msarahan",
            "id": 38393,
            "node_id": "MDQ6VXNlcjM4Mzkz",
            "avatar_url": "https://avatars3.githubusercontent.com/u/38393?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/msarahan",
            "html_url": "https://github.com/msarahan",
            "followers_url": "https://api.github.com/users/msarahan/followers",
            "following_url": "https://api.github.com/users/msarahan/following{/other_user}",
            "gists_url": "https://api.github.com/users/msarahan/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/msarahan/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/msarahan/subscriptions",
            "organizations_url": "https://api.github.com/users/msarahan/orgs",
            "repos_url": "https://api.github.com/users/msarahan/repos",
            "events_url": "https://api.github.com/users/msarahan/events{/privacy}",
            "received_events_url": "https://api.github.com/users/msarahan/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 1545628549,
                "node_id": "MDU6TGFiZWwxNTQ1NjI4NTQ5",
                "url": "https://api.github.com/repos/conda/conda-build/labels/cla-signed",
                "name": "cla-signed",
                "color": "ededed",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2020-02-11T16:21:37Z",
        "updated_at": "2020-02-11T16:21:40Z",
        "closed_at": null,
        "author_association": "MEMBER",
        "pull_request": {
            "url": "https://api.github.com/repos/conda/conda-build/pulls/3875",
            "html_url": "https://github.com/conda/conda-build/pull/3875",
            "diff_url": "https://github.com/conda/conda-build/pull/3875.diff",
            "patch_url": "https://github.com/conda/conda-build/pull/3875.patch"
        },
        "body": "This is for Anaconda-internal use.  We use it to add additional metadata beyond what the normal post-metadata adds."
    },
    {
        "url": "https://api.github.com/repos/conda/conda-build/issues/3874",
        "repository_url": "https://api.github.com/repos/conda/conda-build",
        "labels_url": "https://api.github.com/repos/conda/conda-build/issues/3874/labels{/name}",
        "comments_url": "https://api.github.com/repos/conda/conda-build/issues/3874/comments",
        "events_url": "https://api.github.com/repos/conda/conda-build/issues/3874/events",
        "html_url": "https://github.com/conda/conda-build/pull/3874",
        "id": 563036567,
        "node_id": "MDExOlB1bGxSZXF1ZXN0MzczNTIxNTc0",
        "number": 3874,
        "title": "The build_number could be a long too.",
        "user": {
            "login": "svaningelgem",
            "id": 199434,
            "node_id": "MDQ6VXNlcjE5OTQzNA==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/199434?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/svaningelgem",
            "html_url": "https://github.com/svaningelgem",
            "followers_url": "https://api.github.com/users/svaningelgem/followers",
            "following_url": "https://api.github.com/users/svaningelgem/following{/other_user}",
            "gists_url": "https://api.github.com/users/svaningelgem/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/svaningelgem/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/svaningelgem/subscriptions",
            "organizations_url": "https://api.github.com/users/svaningelgem/orgs",
            "repos_url": "https://api.github.com/users/svaningelgem/repos",
            "events_url": "https://api.github.com/users/svaningelgem/events{/privacy}",
            "received_events_url": "https://api.github.com/users/svaningelgem/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2020-02-11T08:07:09Z",
        "updated_at": "2020-02-11T09:04:41Z",
        "closed_at": null,
        "author_association": "NONE",
        "pull_request": {
            "url": "https://api.github.com/repos/conda/conda-build/pulls/3874",
            "html_url": "https://github.com/conda/conda-build/pull/3874",
            "diff_url": "https://github.com/conda/conda-build/pull/3874.diff",
            "patch_url": "https://github.com/conda/conda-build/pull/3874.patch"
        },
        "body": "Very small tweak for something that we just encountered here.\r\nWe are using timestamps for the last number. On Windows10 + Python 3.6.10 this was giving issues due to that number being a long (instead of an int).\r\n"
    },
    {
        "url": "https://api.github.com/repos/conda/conda-build/issues/3871",
        "repository_url": "https://api.github.com/repos/conda/conda-build",
        "labels_url": "https://api.github.com/repos/conda/conda-build/issues/3871/labels{/name}",
        "comments_url": "https://api.github.com/repos/conda/conda-build/issues/3871/comments",
        "events_url": "https://api.github.com/repos/conda/conda-build/issues/3871/events",
        "html_url": "https://github.com/conda/conda-build/issues/3871",
        "id": 561779917,
        "node_id": "MDU6SXNzdWU1NjE3Nzk5MTc=",
        "number": 3871,
        "title": "ENH: Validating Python package dependencies",
        "user": {
            "login": "jakirkham",
            "id": 3019665,
            "node_id": "MDQ6VXNlcjMwMTk2NjU=",
            "avatar_url": "https://avatars1.githubusercontent.com/u/3019665?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jakirkham",
            "html_url": "https://github.com/jakirkham",
            "followers_url": "https://api.github.com/users/jakirkham/followers",
            "following_url": "https://api.github.com/users/jakirkham/following{/other_user}",
            "gists_url": "https://api.github.com/users/jakirkham/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jakirkham/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jakirkham/subscriptions",
            "organizations_url": "https://api.github.com/users/jakirkham/orgs",
            "repos_url": "https://api.github.com/users/jakirkham/repos",
            "events_url": "https://api.github.com/users/jakirkham/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jakirkham/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 5,
        "created_at": "2020-02-07T17:42:29Z",
        "updated_at": "2020-02-10T18:24:06Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "body": "Much as `conda-build` provides checks on library linkages, it would be useful to have a test time check of Python packages that validates all dependencies are accounted for. This would be analogous to `pip check`, but ideally could be done without `pip` (or at least using `pip` from the `base` environment) so that dependencies like `pkg_resources` can be accounted for without pulling in `setuptools` (except as a package dependency)."
    },
    {
        "url": "https://api.github.com/repos/conda/conda-build/issues/3868",
        "repository_url": "https://api.github.com/repos/conda/conda-build",
        "labels_url": "https://api.github.com/repos/conda/conda-build/issues/3868/labels{/name}",
        "comments_url": "https://api.github.com/repos/conda/conda-build/issues/3868/comments",
        "events_url": "https://api.github.com/repos/conda/conda-build/issues/3868/events",
        "html_url": "https://github.com/conda/conda-build/pull/3868",
        "id": 560099033,
        "node_id": "MDExOlB1bGxSZXF1ZXN0MzcxMTUwNjc3",
        "number": 3868,
        "title": "PyPy fixes",
        "user": {
            "login": "isuruf",
            "id": 5234427,
            "node_id": "MDQ6VXNlcjUyMzQ0Mjc=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/5234427?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/isuruf",
            "html_url": "https://github.com/isuruf",
            "followers_url": "https://api.github.com/users/isuruf/followers",
            "following_url": "https://api.github.com/users/isuruf/following{/other_user}",
            "gists_url": "https://api.github.com/users/isuruf/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/isuruf/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/isuruf/subscriptions",
            "organizations_url": "https://api.github.com/users/isuruf/orgs",
            "repos_url": "https://api.github.com/users/isuruf/repos",
            "events_url": "https://api.github.com/users/isuruf/events{/privacy}",
            "received_events_url": "https://api.github.com/users/isuruf/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 1545628549,
                "node_id": "MDU6TGFiZWwxNTQ1NjI4NTQ5",
                "url": "https://api.github.com/repos/conda/conda-build/labels/cla-signed",
                "name": "cla-signed",
                "color": "ededed",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 11,
        "created_at": "2020-02-05T02:18:14Z",
        "updated_at": "2020-02-10T16:24:51Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "pull_request": {
            "url": "https://api.github.com/repos/conda/conda-build/pulls/3868",
            "html_url": "https://github.com/conda/conda-build/pull/3868",
            "diff_url": "https://github.com/conda/conda-build/pull/3868.diff",
            "patch_url": "https://github.com/conda/conda-build/pull/3868.patch"
        },
        "body": "See commit messages for details."
    },
    {
        "url": "https://api.github.com/repos/conda/conda-build/issues/3867",
        "repository_url": "https://api.github.com/repos/conda/conda-build",
        "labels_url": "https://api.github.com/repos/conda/conda-build/issues/3867/labels{/name}",
        "comments_url": "https://api.github.com/repos/conda/conda-build/issues/3867/comments",
        "events_url": "https://api.github.com/repos/conda/conda-build/issues/3867/events",
        "html_url": "https://github.com/conda/conda-build/issues/3867",
        "id": 559858950,
        "node_id": "MDU6SXNzdWU1NTk4NTg5NTA=",
        "number": 3867,
        "title": "Installed requirements in meta.yaml not accessible during conda-build ",
        "user": {
            "login": "mikecormier",
            "id": 35238534,
            "node_id": "MDQ6VXNlcjM1MjM4NTM0",
            "avatar_url": "https://avatars2.githubusercontent.com/u/35238534?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mikecormier",
            "html_url": "https://github.com/mikecormier",
            "followers_url": "https://api.github.com/users/mikecormier/followers",
            "following_url": "https://api.github.com/users/mikecormier/following{/other_user}",
            "gists_url": "https://api.github.com/users/mikecormier/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mikecormier/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mikecormier/subscriptions",
            "organizations_url": "https://api.github.com/users/mikecormier/orgs",
            "repos_url": "https://api.github.com/users/mikecormier/repos",
            "events_url": "https://api.github.com/users/mikecormier/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mikecormier/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2020-02-04T17:09:20Z",
        "updated_at": "2020-02-04T19:00:17Z",
        "closed_at": null,
        "author_association": "NONE",
        "body": "<!--\r\nThanks for opening an issue! A few things to keep in mind:\r\n\r\n- This issue tracker is for issues with or enhancements for conda-build.\r\n\r\nAnaconda Community Code of Conduct: https://www.anaconda.com/community-code-of-conduct/\r\n\r\nFor conda issues, you should open an issue at https://github.com/conda/conda/issues\r\nFor Anaconda issues, you should open an issue at https://github.com/ContinuumIO/anaconda-issues/issues\r\nFor an issue with a particular conda-forge package, you should open an issue on the \r\ncorresponding feedstock: https://github.com/conda-forge\r\n-->\r\n\r\n### Actual Behavior\r\n\r\n<!-- What actually happens? -->\r\nRunning `conda build` on a new recipe results in a failed run because the requirements in the meta.yaml are not installed. \r\n\r\n### Expected Behavior\r\n\r\n<!-- What do you think should happen? -->\r\n\r\nThe requirements outlined in the meta.yaml are installed.\r\n\r\n### Steps to Reproduce\r\n\r\n<!-- Steps to reproduce issue. -->\r\n\r\nconda build <recipe-name> \r\n\r\nrequirements section in meta.yaml\r\n```\r\nrequirements:\r\n  build:\r\n  - python \r\n  - bioawk\r\n  run:\r\n  - python\r\n  - bioawk\r\n```\r\n\r\nError: \r\n```\r\n==> stderr <==\r\n/home/circleci/project/anaconda/pkgs/<recipe-name>: bioawk: command not found\r\n```\r\n\r\n##### `Output of conda info`\r\n<!-- Between the ticks below, paste the output of 'conda info' -->\r\n```\r\n     active environment : None\r\n       user config file : /home/circleci/.condarc\r\n populated config files : /home/circleci/project/anaconda/.condarc\r\n          conda version : 4.6.14\r\n    conda-build version : 3.18.9\r\n         python version : 3.7.1.final.0\r\n       base environment : /home/circleci/project/anaconda  (writable)\r\n           channel URLs : file:///home/circleci/project/anaconda/conda-bld/linux-64\r\n                          file:///home/circleci/project/anaconda/conda-bld/noarch\r\n                          https://conda.anaconda.org/ggd-genomics/linux-64\r\n                          https://conda.anaconda.org/ggd-genomics/noarch\r\n                          https://conda.anaconda.org/conda-forge/linux-64\r\n                          https://conda.anaconda.org/conda-forge/noarch\r\n                          https://conda.anaconda.org/bioconda/linux-64\r\n                          https://conda.anaconda.org/bioconda/noarch\r\n                          https://repo.anaconda.com/pkgs/main/linux-64\r\n                          https://repo.anaconda.com/pkgs/main/noarch\r\n                          https://repo.anaconda.com/pkgs/free/linux-64\r\n                          https://repo.anaconda.com/pkgs/free/noarch\r\n                          https://repo.anaconda.com/pkgs/r/linux-64\r\n                          https://repo.anaconda.com/pkgs/r/noarch\r\n          package cache : /home/circleci/project/anaconda/pkgs\r\n                          /home/circleci/.conda/pkgs\r\n       envs directories : /home/circleci/project/anaconda/envs\r\n                          /home/circleci/.conda/envs\r\n               platform : linux-64\r\n             user-agent : conda/4.6.14 requests/2.20.1 CPython/3.7.1 Linux/4.4.0-96-generic ubuntu/14.04.5 glibc/2.19\r\n                UID:GID : 1001:1002\r\n             netrc file : None\r\n           offline mode : False\r\n```\r\n\r\n"
    },
    {
        "url": "https://api.github.com/repos/conda/conda-build/issues/3866",
        "repository_url": "https://api.github.com/repos/conda/conda-build",
        "labels_url": "https://api.github.com/repos/conda/conda-build/issues/3866/labels{/name}",
        "comments_url": "https://api.github.com/repos/conda/conda-build/issues/3866/comments",
        "events_url": "https://api.github.com/repos/conda/conda-build/issues/3866/events",
        "html_url": "https://github.com/conda/conda-build/pull/3866",
        "id": 559039735,
        "node_id": "MDExOlB1bGxSZXF1ZXN0MzcwMjgyMzg1",
        "number": 3866,
        "title": "Fixed typos in FIELDS list",
        "user": {
            "login": "duncanmmacleod",
            "id": 1618530,
            "node_id": "MDQ6VXNlcjE2MTg1MzA=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/1618530?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/duncanmmacleod",
            "html_url": "https://github.com/duncanmmacleod",
            "followers_url": "https://api.github.com/users/duncanmmacleod/followers",
            "following_url": "https://api.github.com/users/duncanmmacleod/following{/other_user}",
            "gists_url": "https://api.github.com/users/duncanmmacleod/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/duncanmmacleod/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/duncanmmacleod/subscriptions",
            "organizations_url": "https://api.github.com/users/duncanmmacleod/orgs",
            "repos_url": "https://api.github.com/users/duncanmmacleod/repos",
            "events_url": "https://api.github.com/users/duncanmmacleod/events{/privacy}",
            "received_events_url": "https://api.github.com/users/duncanmmacleod/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 1545628549,
                "node_id": "MDU6TGFiZWwxNTQ1NjI4NTQ5",
                "url": "https://api.github.com/repos/conda/conda-build/labels/cla-signed",
                "name": "cla-signed",
                "color": "ededed",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2020-02-03T12:03:25Z",
        "updated_at": "2020-02-03T16:41:42Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "pull_request": {
            "url": "https://api.github.com/repos/conda/conda-build/pulls/3866",
            "html_url": "https://github.com/conda/conda-build/pull/3866",
            "diff_url": "https://github.com/conda/conda-build/pull/3866.diff",
            "patch_url": "https://github.com/conda/conda-build/pull/3866.patch"
        },
        "body": "This PR corrects a typo from 7fdaff4e96be98e9656786378cd4930f87226450 (#3762) by replacing `error-over{depending,linking}` with `error_over{depending,linking}`.\r\n\r\n<!---\r\nThanks for opening a PR on conda-build!\r\n\r\nPlease include a news entry with your PR to help keep our changelog up to date!\r\nThere are instructions available at: https://regro.github.io/rever-docs/news.html\r\n\r\nIf there is specific issue / feature request that this PR is addressing,\r\nplease link to the corresponding issue by using the `#issuenumber` syntax.\r\n\r\nThanks again!\r\n-->\r\n"
    },
    {
        "url": "https://api.github.com/repos/conda/conda-build/issues/3865",
        "repository_url": "https://api.github.com/repos/conda/conda-build",
        "labels_url": "https://api.github.com/repos/conda/conda-build/issues/3865/labels{/name}",
        "comments_url": "https://api.github.com/repos/conda/conda-build/issues/3865/comments",
        "events_url": "https://api.github.com/repos/conda/conda-build/issues/3865/events",
        "html_url": "https://github.com/conda/conda-build/issues/3865",
        "id": 558483236,
        "node_id": "MDU6SXNzdWU1NTg0ODMyMzY=",
        "number": 3865,
        "title": "conda-build ignores track_features in the meta.yaml while considers irrelevant package in the repo",
        "user": {
            "login": "wenjuno",
            "id": 4373187,
            "node_id": "MDQ6VXNlcjQzNzMxODc=",
            "avatar_url": "https://avatars1.githubusercontent.com/u/4373187?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/wenjuno",
            "html_url": "https://github.com/wenjuno",
            "followers_url": "https://api.github.com/users/wenjuno/followers",
            "following_url": "https://api.github.com/users/wenjuno/following{/other_user}",
            "gists_url": "https://api.github.com/users/wenjuno/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/wenjuno/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/wenjuno/subscriptions",
            "organizations_url": "https://api.github.com/users/wenjuno/orgs",
            "repos_url": "https://api.github.com/users/wenjuno/repos",
            "events_url": "https://api.github.com/users/wenjuno/events{/privacy}",
            "received_events_url": "https://api.github.com/users/wenjuno/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2020-02-01T05:09:52Z",
        "updated_at": "2020-02-01T05:09:52Z",
        "closed_at": null,
        "author_association": "NONE",
        "body": "### Scenario 1\r\n\r\nI have two packages to build:\r\n```\r\npackage:\r\n    name: test_package1\r\n    version: 1.0.0\r\nbuild:\r\n    features:\r\n        - mydebug\r\n```\r\n```\r\npackage:\r\n    name: test_package2\r\n    version: 1.0.0\r\nbuild:\r\n    track_features:\r\n        - mydebug\r\nrequirements:\r\n    run:\r\n        - test_package1 >=1,<2\r\n```\r\nThe first package builds fine but the second package fails to build with error:\r\n```\r\nNo numpy version specified in conda_build_config.yaml.  Falling back to default numpy value of 1.11\r\nWARNING:conda_build.metadata:No numpy version specified in conda_build_config.yaml.  Falling back to default numpy value\r\n of 1.11\r\nAdding in variants from internal_defaults\r\nINFO:conda_build.variants:Adding in variants from internal_defaults\r\nAttempting to finalize metadata for test_package2\r\nINFO:conda_build.metadata:Attempting to finalize metadata for test_package2\r\nBUILD START: ['test_package2-1.0.0-0.tar.bz2']\r\nCollecting package metadata (repodata.json): ...working... done\r\nSolving environment: ...working...\r\nFound conflicts! Looking for incompatible packages.\r\nThis can take several minutes.  Press CTRL-C to abort.\r\nfailed\r\nTraceback (most recent call last):\r\n  File \"/home/wenjun/miniconda3/bin/conda-build\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/home/wenjun/miniconda3/lib/python3.7/site-packages/conda_build/cli/main_build.py\", line 469, in main\r\n    execute(sys.argv[1:])\r\n  File \"/home/wenjun/miniconda3/lib/python3.7/site-packages/conda_build/cli/main_build.py\", line 460, in execute\r\n    verify=args.verify, variants=args.variants)\r\n  File \"/home/wenjun/miniconda3/lib/python3.7/site-packages/conda_build/api.py\", line 209, in build\r\n    notest=notest, need_source_download=need_source_download, variants=variants)\r\n  File \"/home/wenjun/miniconda3/lib/python3.7/site-packages/conda_build/build.py\", line 2344, in build_tree\r\n    notest=notest,\r\n  File \"/home/wenjun/miniconda3/lib/python3.7/site-packages/conda_build/build.py\", line 1408, in build\r\n    create_build_envs(top_level_pkg, notest)\r\n  File \"/home/wenjun/miniconda3/lib/python3.7/site-packages/conda_build/build.py\", line 1282, in create_build_envs\r\n    channel_urls=tuple(m.config.channel_urls))\r\n  File \"/home/wenjun/miniconda3/lib/python3.7/site-packages/conda_build/environ.py\", line 757, in get_install_actions\r\n    actions = install_actions(prefix, index, specs, force=True)\r\n  File \"/home/wenjun/miniconda3/lib/python3.7/site-packages/conda/common/io.py\", line 88, in decorated\r\n    return f(*args, **kwds)\r\n  File \"/home/wenjun/miniconda3/lib/python3.7/site-packages/conda/plan.py\", line 474, in install_actions\r\n    txn = solver.solve_for_transaction(prune=prune, ignore_pinned=not pinned)\r\n  File \"/home/wenjun/miniconda3/lib/python3.7/site-packages/conda/core/solve.py\", line 117, in solve_for_transaction\r\n    should_retry_solve)\r\n  File \"/home/wenjun/miniconda3/lib/python3.7/site-packages/conda/core/solve.py\", line 158, in solve_for_diff\r\n    force_remove, should_retry_solve)\r\n  File \"/home/wenjun/miniconda3/lib/python3.7/site-packages/conda/core/solve.py\", line 281, in solve_final_state\r\n    ssc = self._run_sat(ssc)\r\n  File \"/home/wenjun/miniconda3/lib/python3.7/site-packages/conda/common/io.py\", line 88, in decorated\r\n    return f(*args, **kwds)\r\n  File \"/home/wenjun/miniconda3/lib/python3.7/site-packages/conda/core/solve.py\", line 805, in _run_sat\r\n    should_retry_solve=ssc.should_retry_solve\r\n  File \"/home/wenjun/miniconda3/lib/python3.7/site-packages/conda/common/io.py\", line 88, in decorated\r\n    return f(*args, **kwds)\r\n  File \"/home/wenjun/miniconda3/lib/python3.7/site-packages/conda/resolve.py\", line 1249, in solve\r\n    self.find_conflicts(specs, specs_to_add, history_specs)\r\n  File \"/home/wenjun/miniconda3/lib/python3.7/site-packages/conda/resolve.py\", line 347, in find_conflicts\r\n    bad_deps = self.build_conflict_map(specs, specs_to_add, history_specs)\r\n  File \"/home/wenjun/miniconda3/lib/python3.7/site-packages/conda/resolve.py\", line 498, in build_conflict_map\r\n    deps = set.union(*[set(self.ms_depends_.get(prec) or []) for prec in precs])\r\nTypeError: descriptor 'union' of 'set' object needs an argument\r\n```\r\nIt seems `conda-build` ignores the `track_features` in `test_package2`. Is `test_package2` spec ill-formed such that the package must not track the feature its dependencies have? Or is it a bug?\r\n\r\n### Scenario 2\r\n\r\nContinue on scenario 1, I build a package just to track the feature:\r\n```\r\npackage:\r\n    name: test_mydebug\r\n    version: 1.0.0\r\nbuild:\r\n    track_features:\r\n        - mydebug\r\n```\r\nNow I go back to build `test_package2` and surprisingly it builds successfully. It seems `conda-build` will consider the `track_features` of packages in the repo even though `test_mydebug` doesn't have dependency relationship with `test_package1` and `test_package2`.\r\n\r\n### Scenario 3\r\n\r\nI try to build a package without the `track_feature` at all and it builds successfully:\r\n```\r\npackage:\r\n    name: test_package3\r\n    version: 1.0.0\r\nrequirements:\r\n    run:\r\n        - test_package1 >=1,<2\r\n```\r\nI would consider this a bug because this opens up a door to building inconsistent environments.\r\n\r\n### Scenario 4\r\n\r\nI go back to build a version `2.0.0` of `test_package1`. I also build a version `2.0.0` of `test_package3` but the dependency changes to `test_package1 >=2,<3`. Then I add `track_features: [mydebug]` to my `.condarc` in order to create an environment with `test_package3` in it (note that I install version 1 first so I can try upgrading to version 2):\r\n```\r\nconda create -n test test_package3=1 --use-local\r\n```\r\nNow if I try to install `test_package3` version 2 into the environment it doesn't install the package neither fail with error but says the package is already installed:\r\n```\r\n$ conda install -n test test_package3=2 --use-local\r\n\r\nCollecting package metadata (current_repodata.json): done\r\nSolving environment: -\r\nThe environment is inconsistent, please check the package plan carefully\r\nThe following packages are causing the inconsistency:\r\n\r\n  - local/linux-64::test_package3==1.0.0=0\r\n  - local/linux-64::test_package1==1.0.0=mydebug_0\r\ndone\r\n\r\n# All requested packages already installed.\r\n```\r\nThe environment is considered inconsistent because there is no package tracking the feature `mydebug` but `test_package1` has this feature. `conda` doesn't take into account the `track_features` in the `.condarc`, which I feel is a bug of `conda` because I think `conda` should either consider the `track_features` in the `.condarc` or throw an error. But I wouldn't have run into the inconsistent environment if `conda-build` didn't allow me to build `test_package3` in the first place.\r\n\r\n### Scenario 5 - The Working Scenario\r\n\r\nTo make both `conda` and `conda-build` happy, I need to make a package that doesn't track the feature but depends on a package that tracks it:\r\n```\r\npackage:\r\n    name: test_package4\r\n    version: 1.0.0\r\nrequirements:\r\n    run:\r\n        - test_mydebug\r\n        - test_package1 >=1,<2\r\n```\r\n\r\nThanks for your patience for reading my long story and I will appreciate it if `conda` and `conda-build` developers can come to an agreement on when the `track_features` in the `.condarc` should be considered and close this door to the inconsistent environments.\r\n\r\n### `Output of conda info`\r\n\r\n```\r\n     active environment : base\r\n    active env location : /home/wenjun/miniconda3\r\n            shell level : 1\r\n       user config file : /home/wenjun/.condarc\r\n populated config files :\r\n          conda version : 4.8.1\r\n    conda-build version : 3.18.11\r\n         python version : 3.7.4.final.0\r\n       virtual packages : __glibc=2.27\r\n       base environment : /home/wenjun/miniconda3  (writable)\r\n           channel URLs : https://repo.anaconda.com/pkgs/main/linux-64\r\n                          https://repo.anaconda.com/pkgs/main/noarch\r\n                          https://repo.anaconda.com/pkgs/r/linux-64\r\n                          https://repo.anaconda.com/pkgs/r/noarch\r\n          package cache : /home/wenjun/miniconda3/pkgs\r\n                          /home/wenjun/.conda/pkgs\r\n       envs directories : /home/wenjun/miniconda3/envs\r\n                          /home/wenjun/.conda/envs\r\n               platform : linux-64\r\n             user-agent : conda/4.8.1 requests/2.22.0 CPython/3.7.4 Linux/4.15.0-76-generic ubuntu/18.04.3 glibc/2.27\r\n                UID:GID : 1000:1000\r\n             netrc file : None\r\n           offline mode : False\r\n```"
    },
    {
        "url": "https://api.github.com/repos/conda/conda-build/issues/3863",
        "repository_url": "https://api.github.com/repos/conda/conda-build",
        "labels_url": "https://api.github.com/repos/conda/conda-build/issues/3863/labels{/name}",
        "comments_url": "https://api.github.com/repos/conda/conda-build/issues/3863/comments",
        "events_url": "https://api.github.com/repos/conda/conda-build/issues/3863/events",
        "html_url": "https://github.com/conda/conda-build/pull/3863",
        "id": 558065870,
        "node_id": "MDExOlB1bGxSZXF1ZXN0MzY5NTI5NTY5",
        "number": 3863,
        "title": "Be robust against spaces in %SRC_DIR%.",
        "user": {
            "login": "anntzer",
            "id": 1322974,
            "node_id": "MDQ6VXNlcjEzMjI5NzQ=",
            "avatar_url": "https://avatars0.githubusercontent.com/u/1322974?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/anntzer",
            "html_url": "https://github.com/anntzer",
            "followers_url": "https://api.github.com/users/anntzer/followers",
            "following_url": "https://api.github.com/users/anntzer/following{/other_user}",
            "gists_url": "https://api.github.com/users/anntzer/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/anntzer/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/anntzer/subscriptions",
            "organizations_url": "https://api.github.com/users/anntzer/orgs",
            "repos_url": "https://api.github.com/users/anntzer/repos",
            "events_url": "https://api.github.com/users/anntzer/events{/privacy}",
            "received_events_url": "https://api.github.com/users/anntzer/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2020-01-31T11:07:15Z",
        "updated_at": "2020-01-31T11:07:17Z",
        "closed_at": null,
        "author_association": "NONE",
        "pull_request": {
            "url": "https://api.github.com/repos/conda/conda-build/pulls/3863",
            "html_url": "https://github.com/conda/conda-build/pull/3863",
            "diff_url": "https://github.com/conda/conda-build/pull/3863.diff",
            "patch_url": "https://github.com/conda/conda-build/pull/3863.patch"
        },
        "body": "The build directory simply needs to be quoted.\r\nThis can be tested by trying to build any recipe after installing conda\r\nin a path that contains spaces (e.g., if your username contains spaces).\r\n\r\n<!---\r\nThanks for opening a PR on conda-build!\r\n\r\nPlease include a news entry with your PR to help keep our changelog up to date!\r\nThere are instructions available at: https://regro.github.io/rever-docs/news.html\r\n\r\nIf there is specific issue / feature request that this PR is addressing,\r\nplease link to the corresponding issue by using the `#issuenumber` syntax.\r\n\r\nThanks again!\r\n-->\r\n"
    },
    {
        "url": "https://api.github.com/repos/conda/conda-build/issues/3862",
        "repository_url": "https://api.github.com/repos/conda/conda-build",
        "labels_url": "https://api.github.com/repos/conda/conda-build/issues/3862/labels{/name}",
        "comments_url": "https://api.github.com/repos/conda/conda-build/issues/3862/comments",
        "events_url": "https://api.github.com/repos/conda/conda-build/issues/3862/events",
        "html_url": "https://github.com/conda/conda-build/issues/3862",
        "id": 557571348,
        "node_id": "MDU6SXNzdWU1NTc1NzEzNDg=",
        "number": 3862,
        "title": "metapackage TypeError",
        "user": {
            "login": "zeneofa",
            "id": 5684085,
            "node_id": "MDQ6VXNlcjU2ODQwODU=",
            "avatar_url": "https://avatars1.githubusercontent.com/u/5684085?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/zeneofa",
            "html_url": "https://github.com/zeneofa",
            "followers_url": "https://api.github.com/users/zeneofa/followers",
            "following_url": "https://api.github.com/users/zeneofa/following{/other_user}",
            "gists_url": "https://api.github.com/users/zeneofa/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/zeneofa/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/zeneofa/subscriptions",
            "organizations_url": "https://api.github.com/users/zeneofa/orgs",
            "repos_url": "https://api.github.com/users/zeneofa/repos",
            "events_url": "https://api.github.com/users/zeneofa/events{/privacy}",
            "received_events_url": "https://api.github.com/users/zeneofa/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2020-01-30T15:31:32Z",
        "updated_at": "2020-01-30T15:31:32Z",
        "closed_at": null,
        "author_association": "NONE",
        "body": "I am trying to create a metapackage for a set of system libraries, so that other packages that depend on these libraries use the system ones instead of a conda associated one. I am running into a TypeError. Not sure if I am doing something wrong, just being an idiot, or if there is something I am missing? Any advice or help would be greatly appreciated. \r\n\r\nSome system specifics:\r\n`conda-build 3.18.11`\r\n`Python 3.7.3`\r\n`conda 4.8.2`\r\n\r\n```\r\n  Operating System: elementary OS 5.1 Hera\r\n            Kernel: Linux 5.0.0-37-generic\r\n      Architecture: x86-64\r\n```\r\n\r\n### Actual Behavior\r\n```\r\n(base) zen@elysium:~/work/conda-recipes$ conda metapackage poppler 1.0\r\nAdding in variants from internal_defaults\r\nINFO:conda_build.variants:Adding in variants from internal_defaults\r\nNo numpy version specified in conda_build_config.yaml.  Falling back to default numpy value of 1.11\r\nWARNING:conda_build.metadata:No numpy version specified in conda_build_config.yaml.  Falling back to default numpy value of 1.11\r\nTraceback (most recent call last):\r\n  File \"/home/zen/miniconda3/bin/conda-metapackage\", line 11, in <module>\r\n    sys.exit(main())\r\n  File \"/home/zen/miniconda3/lib/python3.7/site-packages/conda_build/cli/main_metapackage.py\", line 125, in main\r\n    return execute(sys.argv[1:])\r\n  File \"/home/zen/miniconda3/lib/python3.7/site-packages/conda_build/cli/main_metapackage.py\", line 121, in execute\r\n    api.create_metapackage(channel_urls=channel_urls, **args.__dict__)\r\n  File \"/home/zen/miniconda3/lib/python3.7/site-packages/conda_build/api.py\", line 376, in create_metapackage\r\n    license_name=license_name, summary=summary, config=config)\r\n  File \"/home/zen/miniconda3/lib/python3.7/site-packages/conda_build/metapackage.py\", line 29, in create_metapackage\r\n    return build(m, config=config, need_source_download=False)\r\n  File \"/home/zen/miniconda3/lib/python3.7/site-packages/conda_build/api.py\", line 209, in build\r\n    notest=notest, need_source_download=need_source_download, variants=variants)\r\n  File \"/home/zen/miniconda3/lib/python3.7/site-packages/conda_build/build.py\", line 2344, in build_tree\r\n    notest=notest,\r\n  File \"/home/zen/miniconda3/lib/python3.7/site-packages/conda_build/build.py\", line 1335, in build\r\n    output_metas = expand_outputs([(m, need_source_download, need_reparse_in_env)])\r\n  File \"/home/zen/miniconda3/lib/python3.7/site-packages/conda_build/render.py\", line 746, in expand_outputs\r\n    for (output_dict, m) in _m.copy().get_output_metadata_set(permit_unsatisfiable_variants=False):\r\n  File \"/home/zen/miniconda3/lib/python3.7/site-packages/conda_build/metadata.py\", line 2016, in get_output_metadata_set\r\n    render_order = toposort(out_metadata_map)\r\n  File \"/home/zen/miniconda3/lib/python3.7/site-packages/conda_build/metadata.py\", line 638, in toposort\r\n    output_m.get_value('requirements/host', [])]\r\nTypeError: can only concatenate tuple (not \"list\") to tuple\r\n```\r\n\r\n\r\n### Expected Behavior\r\n\r\nI was expecting a metapackage recipe to be created. \r\n\r\n\r\n\r\n##### `Output of conda info`\r\n<!-- Between the ticks below, paste the output of 'conda info' -->\r\n```     active environment : base\r\n    active env location : /home/zen/miniconda3\r\n            shell level : 1\r\n       user config file : /home/zen/.condarc\r\n populated config files : \r\n          conda version : 4.8.2\r\n    conda-build version : 3.18.11\r\n         python version : 3.7.3.final.0\r\n       virtual packages : __glibc=2.27\r\n       base environment : /home/zen/miniconda3  (writable)\r\n           channel URLs : https://repo.anaconda.com/pkgs/main/linux-64\r\n                          https://repo.anaconda.com/pkgs/main/noarch\r\n                          https://repo.anaconda.com/pkgs/r/linux-64\r\n                          https://repo.anaconda.com/pkgs/r/noarch\r\n          package cache : /home/zen/miniconda3/pkgs\r\n                          /home/zen/.conda/pkgs\r\n       envs directories : /home/zen/miniconda3/envs\r\n                          /home/zen/.conda/envs\r\n               platform : linux-64\r\n             user-agent : conda/4.8.2 requests/2.22.0 CPython/3.7.3 Linux/5.0.0-37-generic elementary/5.1 glibc/2.27\r\n                UID:GID : 1000:1000\r\n             netrc file : None\r\n           offline mode : False\r\n\r\n```\r\n\r\n"
    },
    {
        "url": "https://api.github.com/repos/conda/conda-build/issues/3860",
        "repository_url": "https://api.github.com/repos/conda/conda-build",
        "labels_url": "https://api.github.com/repos/conda/conda-build/issues/3860/labels{/name}",
        "comments_url": "https://api.github.com/repos/conda/conda-build/issues/3860/comments",
        "events_url": "https://api.github.com/repos/conda/conda-build/issues/3860/events",
        "html_url": "https://github.com/conda/conda-build/issues/3860",
        "id": 557425136,
        "node_id": "MDU6SXNzdWU1NTc0MjUxMzY=",
        "number": 3860,
        "title": "Couldn't extract raw recipe text for <package> output",
        "user": {
            "login": "seanyen",
            "id": 25241284,
            "node_id": "MDQ6VXNlcjI1MjQxMjg0",
            "avatar_url": "https://avatars2.githubusercontent.com/u/25241284?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/seanyen",
            "html_url": "https://github.com/seanyen",
            "followers_url": "https://api.github.com/users/seanyen/followers",
            "following_url": "https://api.github.com/users/seanyen/following{/other_user}",
            "gists_url": "https://api.github.com/users/seanyen/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/seanyen/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/seanyen/subscriptions",
            "organizations_url": "https://api.github.com/users/seanyen/orgs",
            "repos_url": "https://api.github.com/users/seanyen/repos",
            "events_url": "https://api.github.com/users/seanyen/events{/privacy}",
            "received_events_url": "https://api.github.com/users/seanyen/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2020-01-30T11:14:31Z",
        "updated_at": "2020-02-04T08:50:55Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "body": "I am using `conda-build 3.18.11` and when I was working on a recipe with multiple outputs. `conda build` fails to continue with this error:\r\n\r\n`Couldn't extract raw recipe text for <package> output`\r\n\r\nAnd here is a minimum `meta.yml` to repro this issue.\r\n\r\n```yaml\r\npackage:\r\n  name: ros\r\n  version: 0.0.1\r\n\r\nsource:\r\n  - url: https://github.com/ros-gbp/catkin-release/archive/release/melodic/catkin/0.7.20-1.tar.gz\r\n    folder: ros-melodic-catkin\r\n\r\nbuild:\r\n  number: 0\r\n\r\noutputs:\r\n- name: ros-melodic-catkin\r\n  requirements:\r\n    build:\r\n    - \"{{ compiler('cxx') }}\"\r\n    - \"{{ compiler('c') }}\"\r\n    - ninja\r\n    - cmake\r\n    host:\r\n    - rospkg\r\n    - mock\r\n    - empy\r\n    - catkin_pkg\r\n    - cmake\r\n    - gmock\r\n    - gtest\r\n    - nose\r\n    run:\r\n    - mock\r\n    - empy\r\n    - catkin_pkg\r\n    - cmake\r\n    - gmock\r\n    - gtest\r\n    - nose\r\n  script: bld_.bat\r\n\r\nabout:\r\n  home: https://www.ros.org/\r\n  license: BSD-3-Clause\r\n  summary: |\r\n    Robot Operating System\r\n\r\nextra:\r\n  recipe-maintainers:\r\n  - seanyen\r\n```\r\n\r\nOutput of `conda info`\r\n```no-highlight\r\n     active environment : base\r\n    active env location : C:\\Users\\seanyen\\AppData\\Local\\Continuum\\miniconda3\\envs\\smithy\r\n            shell level : 2\r\n       user config file : C:\\Users\\seanyen\\.condarc\r\n populated config files : C:\\Users\\seanyen\\.condarc\r\n          conda version : 4.8.2\r\n    conda-build version : 3.18.11\r\n         python version : 3.6.7.final.0\r\n       virtual packages :\r\n       base environment : C:\\Users\\seanyen\\AppData\\Local\\Continuum\\miniconda3\\envs\\smithy  (writable)\r\n           channel URLs : https://conda.anaconda.org/conda-forge/win-64\r\n                          https://conda.anaconda.org/conda-forge/noarch\r\n                          https://repo.anaconda.com/pkgs/main/win-64\r\n                          https://repo.anaconda.com/pkgs/main/noarch\r\n                          https://repo.anaconda.com/pkgs/r/win-64\r\n                          https://repo.anaconda.com/pkgs/r/noarch\r\n                          https://repo.anaconda.com/pkgs/msys2/win-64\r\n                          https://repo.anaconda.com/pkgs/msys2/noarch\r\n          package cache : C:\\Users\\seanyen\\AppData\\Local\\Continuum\\miniconda3\\envs\\smithy\\pkgs\r\n                          C:\\Users\\seanyen\\.conda\\pkgs\r\n                          C:\\Users\\seanyen\\AppData\\Local\\conda\\conda\\pkgs\r\n       envs directories : C:\\Users\\seanyen\\AppData\\Local\\Continuum\\miniconda3\\envs\\smithy\\envs\r\n                          C:\\Users\\seanyen\\.conda\\envs\r\n                          C:\\Users\\seanyen\\AppData\\Local\\conda\\conda\\envs\r\n               platform : win-64\r\n             user-agent : conda/4.8.2 requests/2.22.0 CPython/3.6.7 Windows/10 Windows/10.0.18362\r\n          administrator : False\r\n             netrc file : None\r\n           offline mode : False\r\n```"
    },
    {
        "url": "https://api.github.com/repos/conda/conda-build/issues/3859",
        "repository_url": "https://api.github.com/repos/conda/conda-build",
        "labels_url": "https://api.github.com/repos/conda/conda-build/issues/3859/labels{/name}",
        "comments_url": "https://api.github.com/repos/conda/conda-build/issues/3859/comments",
        "events_url": "https://api.github.com/repos/conda/conda-build/issues/3859/events",
        "html_url": "https://github.com/conda/conda-build/issues/3859",
        "id": 556771725,
        "node_id": "MDU6SXNzdWU1NTY3NzE3MjU=",
        "number": 3859,
        "title": "Intermittent ChecksumMismatchError for locally built package",
        "user": {
            "login": "jontwo",
            "id": 5537223,
            "node_id": "MDQ6VXNlcjU1MzcyMjM=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/5537223?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jontwo",
            "html_url": "https://github.com/jontwo",
            "followers_url": "https://api.github.com/users/jontwo/followers",
            "following_url": "https://api.github.com/users/jontwo/following{/other_user}",
            "gists_url": "https://api.github.com/users/jontwo/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jontwo/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jontwo/subscriptions",
            "organizations_url": "https://api.github.com/users/jontwo/orgs",
            "repos_url": "https://api.github.com/users/jontwo/repos",
            "events_url": "https://api.github.com/users/jontwo/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jontwo/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2020-01-29T10:31:24Z",
        "updated_at": "2020-02-11T15:46:52Z",
        "closed_at": null,
        "author_association": "NONE",
        "body": "<!--\r\nThanks for opening an issue! A few things to keep in mind:\r\n\r\n- This issue tracker is for issues with or enhancements for conda-build.\r\n\r\nAnaconda Community Code of Conduct: https://www.anaconda.com/community-code-of-conduct/\r\n\r\nFor conda issues, you should open an issue at https://github.com/conda/conda/issues\r\nFor Anaconda issues, you should open an issue at https://github.com/ContinuumIO/anaconda-issues/issues\r\nFor an issue with a particular conda-forge package, you should open an issue on the \r\ncorresponding feedstock: https://github.com/conda-forge\r\n-->\r\n\r\n### Actual Behavior\r\n\r\nWe build a conda package and distribute it internally on our own conda channel. We use Jenkins CI to create a new build and update the channel for each commit. \r\n\r\nEvery so often, a user tries to `conda install` the package and it fails with a ChecksumMismatchError.\r\n\r\n```\r\nChecksumMismatchError: Conda detected a mismatch between the expected content and downloaded content\r\nfor url 'http://channelserver:85/prod/win-64/jbagdal-2.2.0-py36_vc14h830ac7b_0.tar.bz2'.\r\n  download saved to: C:\\bin\\Miniconda3\\pkgs\\jbagdal-2.2.0-py36_vc14h830ac7b_0.tar.bz2\r\n  expected sha256: 82240e245a1a3e2931f2c2a80a4a6f729d18da544d127f96591706bcdd70b182\r\n  actual sha256: 2a7a320f8e606224dfd4bba03d81c6e6b817ce3f95089d418103ca17d310fa73\r\n```\r\n\r\n### Expected Behavior\r\n\r\n`conda install` should install the package without error.\r\n\r\n### Steps to Reproduce\r\n\r\nIt's a tricky one to reproduce, because sometimes the checksums are ok and sometimes they are not. We've tried reindexing the channel, with\r\n```\r\nconda index \\\\path\\to\\conda\\channel -c\r\n```\r\nand this sometimes fixes the problem and sometimes does not. I ran it this morning and it seems that `index.html` in the `win-64` subdirectory was not updated. Maybe this is the problem?\r\n\r\n```\r\n09/12/2019  18:32    <DIR>          .\r\n09/12/2019  18:32    <DIR>          ..\r\n09/12/2019  18:32           101,235 repodata2.json\r\n13/01/2020  14:57            41,908 index.html\r\n29/01/2020  09:19            89,568 repodata.json\r\n29/01/2020  09:19            10,674 repodata.json.bz2\r\n             119 File(s)    649,870,617 bytes\r\n               3 Dir(s)  498,415,505,408 bytes free\r\n```\r\n\r\nEventually, the problem does go away, I think when Jenkins does another build and updates the channel. So, sorry I can't give a better repro case, but as far as I can tell the problem is that sometimes `conda build` and/or `conda index` do not update the expected checksums properly.\r\n\r\n##### `Output of conda info`\r\n<!-- Between the ticks below, paste the output of 'conda info' -->\r\n```\r\n     active environment : c:\\jenkins2\\env\\Farmmap_conda_windows\r\n    active env location : c:\\jenkins2\\env\\Farmmap_conda_windows\r\n            shell level : 1\r\n       user config file : C:\\Users\\jontwo\\.condarc\r\n populated config files : C:\\bin\\Miniconda3\\.condarc\r\n                          C:\\Users\\jontwo\\.condarc\r\n                          c:\\jenkins2\\env\\Farmmap_conda_windows\\.condarc\r\n          conda version : 4.7.12\r\n    conda-build version : not installed\r\n         python version : 3.7.3.final.0\r\n       virtual packages :\r\n       base environment : C:\\bin\\Miniconda3  (writable)\r\n           channel URLs : http://channelserver:85/prod/win-64\r\n                          http://channelserver:85/prod/noarch\r\n                          http://channelserver:85/dev/win-64\r\n                          http://channelserver:85/dev/noarch\r\n                          https://repo.anaconda.com/pkgs/main/win-64\r\n                          https://repo.anaconda.com/pkgs/main/noarch\r\n                          https://repo.anaconda.com/pkgs/r/win-64\r\n                          https://repo.anaconda.com/pkgs/r/noarch\r\n                          https://repo.anaconda.com/pkgs/msys2/win-64\r\n                          https://repo.anaconda.com/pkgs/msys2/noarch\r\n                          https://conda.anaconda.org/conda-forge/win-64\r\n                          https://conda.anaconda.org/conda-forge/noarch\r\n          package cache : C:\\bin\\Miniconda3\\pkgs\r\n                          C:\\Users\\jontwo\\.conda\\pkgs\r\n                          C:\\Users\\jontwo\\AppData\\Local\\conda\\conda\\pkgs\r\n       envs directories : C:\\bin\\Miniconda3\\envs\r\n                          C:\\Users\\jontwo\\.conda\\envs\r\n                          C:\\Users\\jontwo\\AppData\\Local\\conda\\conda\\envs\r\n               platform : win-64\r\n             user-agent : conda/4.7.12 requests/2.22.0 CPython/3.7.3 Windows/201\r\n2ServerR2 Windows/6.3.9600\r\n          administrator : False\r\n             netrc file : None\r\n           offline mode : False\r\n\r\n```\r\nNot sure why it says conda-build is not installed (this is info for base conda?), because `conda list` says\r\n```\r\nconda                     4.6.14                   py37_0    conda-forge\r\nconda-build               3.17.8                   py37_1    conda-forge\r\nconda-verify              3.1.1                 py37_1000    conda-forge\r\n```\r\n"
    },
    {
        "url": "https://api.github.com/repos/conda/conda-build/issues/3858",
        "repository_url": "https://api.github.com/repos/conda/conda-build",
        "labels_url": "https://api.github.com/repos/conda/conda-build/issues/3858/labels{/name}",
        "comments_url": "https://api.github.com/repos/conda/conda-build/issues/3858/comments",
        "events_url": "https://api.github.com/repos/conda/conda-build/issues/3858/events",
        "html_url": "https://github.com/conda/conda-build/issues/3858",
        "id": 555816400,
        "node_id": "MDU6SXNzdWU1NTU4MTY0MDA=",
        "number": 3858,
        "title": "pc file installed with the opusfile package seems to be wrong on linux-64",
        "user": {
            "login": "asafkahlon",
            "id": 35964924,
            "node_id": "MDQ6VXNlcjM1OTY0OTI0",
            "avatar_url": "https://avatars0.githubusercontent.com/u/35964924?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/asafkahlon",
            "html_url": "https://github.com/asafkahlon",
            "followers_url": "https://api.github.com/users/asafkahlon/followers",
            "following_url": "https://api.github.com/users/asafkahlon/following{/other_user}",
            "gists_url": "https://api.github.com/users/asafkahlon/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/asafkahlon/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/asafkahlon/subscriptions",
            "organizations_url": "https://api.github.com/users/asafkahlon/orgs",
            "repos_url": "https://api.github.com/users/asafkahlon/repos",
            "events_url": "https://api.github.com/users/asafkahlon/events{/privacy}",
            "received_events_url": "https://api.github.com/users/asafkahlon/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2020-01-27T20:33:26Z",
        "updated_at": "2020-01-27T20:33:26Z",
        "closed_at": null,
        "author_association": "NONE",
        "body": "Hello, \r\n\r\nRecently, I've submitted the `opusfile` package to `staged-recipes`. The package can be found at: https://anaconda.org/conda-forge/opusfile.\r\n<!--\r\nThanks for opening an issue! A few things to keep in mind:\r\n\r\n- This issue tracker is for issues with or enhancements for conda-build.\r\n\r\nAnaconda Community Code of Conduct: https://www.anaconda.com/community-code-of-conduct/\r\n\r\nFor conda issues, you should open an issue at https://github.com/conda/conda/issues\r\nFor Anaconda issues, you should open an issue at https://github.com/ContinuumIO/anaconda-issues/issues\r\nFor an issue with a particular conda-forge package, you should open an issue on the \r\ncorresponding feedstock: https://github.com/conda-forge\r\n-->\r\n\r\n### Actual Behavior\r\n\r\nI'm trying to work with another package (`opus-tools`) which looks for `opusfile` and the configure script fails since it can't find a package named `1.1.1a`. After digging into the installed `opusurl.pc` file from the `opusfile` package, I realized it contains the following content:\r\n```\r\n# opusurl installed pkg-config file\r\n\r\nprefix=/home/asaf/miniconda2/envs/play\r\nexec_prefix=${prefix}\r\nlibdir=${exec_prefix}/lib\r\nincludedir=${prefix}/include\r\n\r\nName: opusurl\r\nDescription: High-level Opus decoding library, URL support\r\nVersion: 0.11\r\nRequires: opusfile\r\nRequires.private: 1.1.1a\r\nConflicts:\r\nLibs: -L${libdir} -lopusurl\r\n```\r\nAs can be seen, the version of `openssl` was written under `Requires.private` instead of the name of the package (which is, of course, `openssl`).\r\n\r\n\r\n### Expected Behavior\r\n\r\nThe `opusurl.pc` file should contain `openssl` and not `1.1.1a`\r\n\r\n### Steps to Reproduce\r\n\r\n`CONFIG=linux64 .circleci/run_docker_build.sh`\r\n\r\n\r\n##### `Output of conda info (taken from docker container that reproduced the problem`\r\n<!-- Between the ticks below, paste the output of 'conda info' -->\r\n```\r\n     active environment : base\r\n    active env location : /opt/conda\r\n            shell level : 1\r\n       user config file : /home/conda/.condarc\r\n populated config files : /home/conda/.condarc\r\n          conda version : 4.8.0\r\n    conda-build version : 3.18.11\r\n         python version : 3.7.6.final.0\r\n       virtual packages : __glibc=2.12\r\n       base environment : /opt/conda  (writable)\r\n           channel URLs : https://conda.anaconda.org/conda-forge/linux-64\r\n                          https://conda.anaconda.org/conda-forge/noarch\r\n                          https://repo.anaconda.com/pkgs/main/linux-64\r\n                          https://repo.anaconda.com/pkgs/main/noarch\r\n                          https://repo.anaconda.com/pkgs/r/linux-64\r\n                          https://repo.anaconda.com/pkgs/r/noarch\r\n          package cache : /opt/conda/pkgs\r\n                          /home/conda/.conda/pkgs\r\n       envs directories : /opt/conda/envs\r\n                          /home/conda/.conda/envs\r\n               platform : linux-64\r\n             user-agent : conda/4.8.0 requests/2.22.0 CPython/3.7.6 Linux/5.3.0-26-generic centos/6.10 glibc/2.12\r\n                UID:GID : 9001:9001\r\n             netrc file : None\r\n           offline mode : False\r\n```\r\n\r\nMore points:\r\n* When I compiled the package manually, everything worked fine.\r\n* When I manually run `conda-build` with the committed recipe (from https://github.com/conda-forge/opusfile-feedstock), everything worked fine.\r\n* On `osx64` - the deployed package contains the right file.\r\n* I was able to reproduce the problem only when using the docker image and the `.circleci/run_docker_build.sh` script, but I have no clue how to proceed from here\r\n I also try to edit `meta.yaml` and install some common build utilities like `autoconf`, `automake`, `libtool` and others, but none of them helped.\r\n\r\nAny idea what could lead to this problem and/or it could be solved?\r\nThanks!"
    },
    {
        "url": "https://api.github.com/repos/conda/conda-build/issues/3855",
        "repository_url": "https://api.github.com/repos/conda/conda-build",
        "labels_url": "https://api.github.com/repos/conda/conda-build/issues/3855/labels{/name}",
        "comments_url": "https://api.github.com/repos/conda/conda-build/issues/3855/comments",
        "events_url": "https://api.github.com/repos/conda/conda-build/issues/3855/events",
        "html_url": "https://github.com/conda/conda-build/issues/3855",
        "id": 551817740,
        "node_id": "MDU6SXNzdWU1NTE4MTc3NDA=",
        "number": 3855,
        "title": "Conda verify returns an index error, but the package builds. ",
        "user": {
            "login": "sangrey",
            "id": 8812284,
            "node_id": "MDQ6VXNlcjg4MTIyODQ=",
            "avatar_url": "https://avatars0.githubusercontent.com/u/8812284?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/sangrey",
            "html_url": "https://github.com/sangrey",
            "followers_url": "https://api.github.com/users/sangrey/followers",
            "following_url": "https://api.github.com/users/sangrey/following{/other_user}",
            "gists_url": "https://api.github.com/users/sangrey/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/sangrey/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/sangrey/subscriptions",
            "organizations_url": "https://api.github.com/users/sangrey/orgs",
            "repos_url": "https://api.github.com/users/sangrey/repos",
            "events_url": "https://api.github.com/users/sangrey/events{/privacy}",
            "received_events_url": "https://api.github.com/users/sangrey/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2020-01-18T20:09:38Z",
        "updated_at": "2020-01-18T20:09:38Z",
        "closed_at": null,
        "author_association": "NONE",
        "body": "\r\n\r\n### Actual Behavior\r\nI have  a package, that I can build using conda-build. It's provides wrappers to call transfer numpy ndarrays into C++ Armadillo matrices.  The package build fine and tests pass.  However, when I run conda verify, I get the following cryptic error message. \r\n\r\n```\r\nVerifying info/meta.yaml...\r\nSetting build platform. This is only useful when pretending to be on another platform, such as for rendering necessary dependencies on a non-native platform. I trust that you know what you're doing.\r\nSetting build arch. This is only useful when pretending to be on another arch, such as for rendering necessary dependencies on a non-native arch. I trust that you know what you're doing.\r\nCloning into bare repository '/home/sangrey/anaconda3/envs/default/conda-bld/git_cache/home/sangrey/Repositories/Arma_Wrapper'...\r\ndone.\r\nCloning into '/home/sangrey/anaconda3/envs/default/conda-bld/arma_wrapper_1579377515989/work'...\r\ndone.\r\ncheckout: 'HEAD'\r\nYour branch is up to date with 'origin/pybind11_serialization'.\r\n==> git log -n1 <==\r\n\r\ncommit 05617a0bd65b42b55acf679e9b2b97aa464421d9\r\nAuthor: sangrey <paul.sangrey@gmail.com>\r\nDate:   Sat Jan 18 11:56:40 2020 -0800\r\n\r\n    Stopped trying to buid against pyon 3.8\r\n\r\n==> git describe --tags --dirty <==\r\n\r\n0.12.01-6-g05617a0\r\n\r\n==> git status <==\r\n\r\nOn branch pybind11_serialization\r\nYour branch is up to date with 'origin/pybind11_serialization'.\r\n\r\nnothing to commit, working tree clean\r\n\r\nAdding in variants from internal_defaults\r\nAdding in variants from /home/sangrey/Repositories/Arma_Wrapper/info/conda_build_config.yaml\r\nAdding in variants from config.variant\r\nNo numpy version specified in conda_build_config.yaml.  Falling back to default numpy value of 1.11\r\nCollecting package metadata (repodata.json): ...working... done\r\nSolving environment: ...working... done\r\ninfo: C2122 Found invalid license family \"Apache 2.0\"\r\ninfo: C2124 Found file \"tests/test_arma_wrapper.py\" in meta.yaml that doesn't exist\r\nFrom /home/sangrey/Repositories/Arma_Wrapper\r\n * [new ref]                    -> _conda_cache_origin_head\r\nCloning into '/home/sangrey/anaconda3/envs/default/conda-bld/arma_wrapper_1579377542564/work'...\r\ndone.\r\ncheckout: 'HEAD'\r\nYour branch is up to date with 'origin/_conda_cache_origin_head'.\r\n==> git log -n1 <==\r\n\r\ncommit 05617a0bd65b42b55acf679e9b2b97aa464421d9\r\nAuthor: sangrey <paul.sangrey@gmail.com>\r\nDate:   Sat Jan 18 11:56:40 2020 -0800\r\n\r\n    Stopped trying to buid against pyon 3.8\r\n\r\n==> git describe --tags --dirty <==\r\n\r\n0.12.01-6-g05617a0\r\n\r\n==> git status <==\r\n\r\nOn branch _conda_cache_origin_head\r\nYour branch is up to date with 'origin/_conda_cache_origin_head'.\r\n\r\nnothing to commit, working tree clean\r\n\r\nTraceback (most recent call last):\r\n  File \"/home/sangrey/anaconda3/envs/default/bin/conda-verify\", line 11, in <module>\r\n    sys.exit(cli())\r\n  File \"/home/sangrey/anaconda3/envs/default/lib/python3.7/site-packages/click/core.py\", line 764, in __call__\r\n    return self.main(*args, **kwargs)\r\n  File \"/home/sangrey/anaconda3/envs/default/lib/python3.7/site-packages/click/core.py\", line 717, in main\r\n    rv = self.invoke(ctx)\r\n  File \"/home/sangrey/anaconda3/envs/default/lib/python3.7/site-packages/click/core.py\", line 956, in invoke\r\n    return ctx.invoke(self.callback, **ctx.params)\r\n  File \"/home/sangrey/anaconda3/envs/default/lib/python3.7/site-packages/click/core.py\", line 555, in invoke\r\n    return callback(*args, **kwargs)\r\n  File \"/home/sangrey/anaconda3/envs/default/lib/python3.7/site-packages/conda_verify/cli.py\", line 32, in cli\r\n    meta = render_metadata(path, cfg)\r\n  File \"/home/sangrey/anaconda3/envs/default/lib/python3.7/site-packages/conda_verify/utilities.py\", line 99, in render_metadata\r\n    **(cfg if cfg else {}))[0][0]\r\nIndexError: list index out of range\r\n```\r\nThe assocated conda_build_config.yaml file is \r\n\r\n```yaml\r\nnumpy:\r\n    - 1.16\r\n\r\npython:\r\n    - 3.7\r\n\r\narmadillo:\r\n    - 9\r\n\r\narma_wrapper:\r\n    - 0.10\r\n```\r\n\r\nThe meta.yaml file \r\n\r\n```yaml\r\npackage:\r\n  name: arma_wrapper\r\n  version: {{environ.get('GIT_DESCRIBE_TAG', ' ') }}\r\n\r\n\r\nbuild:\r\n  number: {{environ.get('GIT_DESCRIBE_NUMBER', 0)}}\r\n  skip : True # [not linux64]\r\n    \r\n\r\nsource:\r\n   git_url: ../\r\n\r\n\r\nrequirements:\r\n  build:\r\n    - cmake >=3.8 \r\n    - {{compiler('cxx')}}\r\n  host:\r\n    - python {{python}}\r\n    - numpy {{numpy}} \r\n    - armadillo {{armadillo}}\r\n    - pybind11 2.2\r\n  run:\r\n    - {{pin_compatible('armadillo')}}\r\n    - {{pin_compatible('numpy')}}\r\n\r\ntest:\r\n  source_files: \r\n   - tests/test_arma_wrapper.py \r\n  requires:\r\n   - python {{python}}\r\n   - pytest \r\n   - scipy\r\n   - hypothesis  \r\n  commands: \r\n   - python -m pytest tests/test_arma_wrapper.py\r\n\r\n\r\nabout:\r\n  home: https://gitlab.com/sangrey/Arma_Wrapper\r\n  license: Apache 2.0\r\n  license_file: LICENSE\r\n  summary: Provides code to efficiently convert armadillo matrices into numpy arrays.\r\n```\r\n\r\n                      \r\n\r\n\r\n\r\n\r\n\r\n\r\n### Expected Behaviour\r\n\r\nEither the package can build against both Python 3.6 and Python 3.7. The other strange thing is both conda-verify and conda-build complain about no numpy version specified in conda_build_config.yaml, but there is a version specified. \r\n\r\n### Steps to Reproduce\r\nRunning conda verify on the folder containing the yaml files. \r\n\r\n\r\n##### `Output of conda info`\r\n<!-- Between the ticks below, paste the output of 'conda info' -->\r\n```\r\n  active environment : default\r\n    active env location : /home/sangrey/anaconda3/envs/default\r\n            shell level : 1\r\n       user config file : /home/sangrey/.condarc\r\n populated config files : /home/sangrey/anaconda3/.condarc\r\n                          /home/sangrey/.condarc\r\n          conda version : 4.8.0\r\n    conda-build version : 3.18.11\r\n         python version : 3.7.3.final.0\r\n       virtual packages : __cuda=9.1\r\n                          __glibc=2.27\r\n       base environment : /home/sangrey/anaconda3  (writable)\r\n           channel URLs : https://conda.anaconda.org/sangrey/linux-64\r\n                          https://conda.anaconda.org/sangrey/noarch\r\n                          https://conda.anaconda.org/conda-forge/linux-64\r\n                          https://conda.anaconda.org/conda-forge/noarch\r\n          package cache : /home/sangrey/anaconda3/pkgs\r\n                          /home/sangrey/.conda/pkgs\r\n       envs directories : /home/sangrey/anaconda3/envs\r\n                          /home/sangrey/.conda/envs\r\n               platform : linux-64\r\n             user-agent : conda/4.8.0 requests/2.22.0 CPython/3.7.3 Linux/4.15.0-74-generic ubuntu/18.04.3 glibc/2.27\r\n                UID:GID : 1000:1000\r\n             netrc file : None\r\n           offline mode : False\r\n\r\n```\r\n\r\n"
    },
    {
        "url": "https://api.github.com/repos/conda/conda-build/issues/3852",
        "repository_url": "https://api.github.com/repos/conda/conda-build",
        "labels_url": "https://api.github.com/repos/conda/conda-build/issues/3852/labels{/name}",
        "comments_url": "https://api.github.com/repos/conda/conda-build/issues/3852/comments",
        "events_url": "https://api.github.com/repos/conda/conda-build/issues/3852/events",
        "html_url": "https://github.com/conda/conda-build/issues/3852",
        "id": 549285044,
        "node_id": "MDU6SXNzdWU1NDkyODUwNDQ=",
        "number": 3852,
        "title": "Excluding pycache methods don't work",
        "user": {
            "login": "scottwsides",
            "id": 13578795,
            "node_id": "MDQ6VXNlcjEzNTc4Nzk1",
            "avatar_url": "https://avatars0.githubusercontent.com/u/13578795?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/scottwsides",
            "html_url": "https://github.com/scottwsides",
            "followers_url": "https://api.github.com/users/scottwsides/followers",
            "following_url": "https://api.github.com/users/scottwsides/following{/other_user}",
            "gists_url": "https://api.github.com/users/scottwsides/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/scottwsides/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/scottwsides/subscriptions",
            "organizations_url": "https://api.github.com/users/scottwsides/orgs",
            "repos_url": "https://api.github.com/users/scottwsides/repos",
            "events_url": "https://api.github.com/users/scottwsides/events{/privacy}",
            "received_events_url": "https://api.github.com/users/scottwsides/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2020-01-14T01:57:59Z",
        "updated_at": "2020-01-14T01:57:59Z",
        "closed_at": null,
        "author_association": "NONE",
        "body": "I've seen all of the options on previous tickets for skipping pyc compliation, but the new meta.yaml settings don't work. I've tried putting sys.dont_write_pycache and the 'don't byte compile' environment variable but NONE of these work with conda-build. Does anyone have a way of getting conda-build packages to pass tests and not include pycache directories?"
    },
    {
        "url": "https://api.github.com/repos/conda/conda-build/issues/3851",
        "repository_url": "https://api.github.com/repos/conda/conda-build",
        "labels_url": "https://api.github.com/repos/conda/conda-build/issues/3851/labels{/name}",
        "comments_url": "https://api.github.com/repos/conda/conda-build/issues/3851/comments",
        "events_url": "https://api.github.com/repos/conda/conda-build/issues/3851/events",
        "html_url": "https://github.com/conda/conda-build/issues/3851",
        "id": 548122608,
        "node_id": "MDU6SXNzdWU1NDgxMjI2MDg=",
        "number": 3851,
        "title": "Limit subspace selection to zip_keys",
        "user": {
            "login": "mcs07",
            "id": 732185,
            "node_id": "MDQ6VXNlcjczMjE4NQ==",
            "avatar_url": "https://avatars3.githubusercontent.com/u/732185?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mcs07",
            "html_url": "https://github.com/mcs07",
            "followers_url": "https://api.github.com/users/mcs07/followers",
            "following_url": "https://api.github.com/users/mcs07/following{/other_user}",
            "gists_url": "https://api.github.com/users/mcs07/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mcs07/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mcs07/subscriptions",
            "organizations_url": "https://api.github.com/users/mcs07/orgs",
            "repos_url": "https://api.github.com/users/mcs07/repos",
            "events_url": "https://api.github.com/users/mcs07/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mcs07/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2020-01-10T14:52:40Z",
        "updated_at": "2020-01-10T14:52:40Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "body": "### Actual Behavior\r\n\r\nI am trying to add Python 3.8 to my build matrix by adding a new variant config file with:\r\n\r\n```yaml\r\npython:\r\n  - 2.7\r\n  - 3.7\r\n  - 3.8\r\n```\r\n\r\nThis is applied over the top of an exclusive config file which contains:\r\n\r\n```yaml\r\npython:\r\n  - 2.7\r\n  - 3.6\r\n  - 3.7\r\n```\r\n\r\n(This is useful if you want to use a global config for all recipes (e.g. from conda-forge-pinning), but just override specific keys on a per-recipe or per-build basis.)\r\n\r\nI expected my variant python versions to entirely clobber those from the exclusive config. However, the result is only versions that are common to both configs are rendered - in this case 2.7 and 3.7.\r\n\r\nIt seems this is caused by the subspace selection in `variants.py` here:\r\n\r\nhttps://github.com/conda/conda-build/blob/b87c70abc60573c0e45cd2f262badfa1f6cb7549/conda_build/variants.py#L544-L549\r\n\r\nAs the comment notes, if there are no versions in common between the two configs, it aborts the filtering. So a variant config file with just 3.8 works as I'd expect - rendering a python 3.8 recipe (and not filtering down to zero outputs).\r\n\r\nI don't fully understand the intention of this filtering code. Could it be removed?\r\n\r\nIt seems to be aimed at making `zip_keys` more flexible, but currently it applies to all keys except `extend_keys`. So if it must stay, how about changing this so it instead only applies to `zip_keys`?\r\n\r\n### Expected Behavior\r\n\r\nAll python versions specified in the highest priority variant config should be rendered.\r\n\r\n### Steps to Reproduce\r\n\r\n**global_config.yaml**\r\n\r\n```yaml\r\npython:\r\n  - 2.7\r\n  - 3.6\r\n  - 3.7\r\n```\r\n\r\n\r\n**override_config.yaml**\r\n\r\n```yaml\r\npython:\r\n  - 2.7\r\n  - 3.7\r\n  - 3.8\r\n```\r\n\r\n**recipe/meta.yaml**\r\n\r\n```yaml\r\npackage:\r\n  name: tmp\r\n\r\nrequirements:\r\n  host:\r\n    - python\r\n  run:\r\n    - python\r\n```\r\n\r\nRun:\r\n\r\n```bash\r\nconda render recipe -e global_config.yaml -m override_config.yaml\r\n```\r\n\r\n##### `Output of conda info`\r\n<!-- Between the ticks below, paste the output of 'conda info' -->\r\n```\r\n     active environment : base\r\n    active env location : /opt/conda\r\n            shell level : 1\r\n       user config file : /home/conda/.condarc\r\n populated config files : /home/conda/.condarc\r\n          conda version : 4.8.0\r\n    conda-build version : 3.18.11\r\n         python version : 3.8.1.final.0\r\n       virtual packages : __glibc=2.12\r\n       base environment : /opt/conda  (writable)\r\n           channel URLs :  https://conda.anaconda.org/conda-forge/linux-64\r\n                          https://conda.anaconda.org/conda-forge/noarch\r\n                          https://repo.anaconda.com/pkgs/main/linux-64\r\n                          https://repo.anaconda.com/pkgs/main/noarch\r\n                          https://repo.anaconda.com/pkgs/r/linux-64\r\n                          https://repo.anaconda.com/pkgs/r/noarch\r\n          package cache : /opt/conda/pkgs\r\n                          /home/conda/.conda/pkgs\r\n       envs directories : /opt/conda/envs\r\n                          /home/conda/.conda/envs\r\n               platform : linux-64\r\n             user-agent : conda/4.8.0 requests/2.22.0 CPython/3.8.1 Linux/4.9.184-linuxkit centos/6.10 glibc/2.12\r\n                UID:GID : 9001:9001\r\n             netrc file : None\r\n           offline mode : False\r\n```\r\n\r\n"
    },
    {
        "url": "https://api.github.com/repos/conda/conda-build/issues/3850",
        "repository_url": "https://api.github.com/repos/conda/conda-build",
        "labels_url": "https://api.github.com/repos/conda/conda-build/issues/3850/labels{/name}",
        "comments_url": "https://api.github.com/repos/conda/conda-build/issues/3850/comments",
        "events_url": "https://api.github.com/repos/conda/conda-build/issues/3850/events",
        "html_url": "https://github.com/conda/conda-build/issues/3850",
        "id": 548018231,
        "node_id": "MDU6SXNzdWU1NDgwMTgyMzE=",
        "number": 3850,
        "title": "Error regarding setuptools despite all requirements being listed in `meta.yaml`",
        "user": {
            "login": "FHTMitchell",
            "id": 24977101,
            "node_id": "MDQ6VXNlcjI0OTc3MTAx",
            "avatar_url": "https://avatars3.githubusercontent.com/u/24977101?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/FHTMitchell",
            "html_url": "https://github.com/FHTMitchell",
            "followers_url": "https://api.github.com/users/FHTMitchell/followers",
            "following_url": "https://api.github.com/users/FHTMitchell/following{/other_user}",
            "gists_url": "https://api.github.com/users/FHTMitchell/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/FHTMitchell/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/FHTMitchell/subscriptions",
            "organizations_url": "https://api.github.com/users/FHTMitchell/orgs",
            "repos_url": "https://api.github.com/users/FHTMitchell/repos",
            "events_url": "https://api.github.com/users/FHTMitchell/events{/privacy}",
            "received_events_url": "https://api.github.com/users/FHTMitchell/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2020-01-10T11:09:48Z",
        "updated_at": "2020-01-10T11:13:13Z",
        "closed_at": null,
        "author_association": "NONE",
        "body": "If `conda.recipe/build.sh` has the line `python setup.py install` then we regularly encounter errors of the form \r\n\r\n    RuntimeError: Setuptools downloading is disabled in conda build. \r\n    Be sure to add all dependencies in the meta.yaml\r\n\r\nAll dependencies are equivalent `setup.py` and `meta.yaml`, so the error message doesn't help (even though that's the advice of #278). Now, using conda/conda#508, I've found that changing it to\r\n\r\n    python setup.py install --single-version-externally-managed --record=record.txt\r\n\r\n works, but I have no idea why and whether this will affect my build. **Is it safe/correct to use this?** That thread didn't really elaborate as to why this works or what it's doing. It was also (unhelpfully) closed despite this still being an issue with `conda build`. \r\n\r\n`conda info` below. Note that some of the channels are proxies to the main anaconda/conda-forge channels.\r\n\r\n```\r\n(building) $ conda info\r\n     active environment : building\r\n    active env location : /home/fmitchel/.conda/envs/building\r\n            shell level : 2\r\n       user config file : /home/fmitchel/.condarc\r\n populated config files : /home/fmitchel/.condarc\r\n          conda version : 4.6.14\r\n    conda-build version : 3.4.1\r\n         python version : 3.6.4.final.0\r\n       base environment : /home/fmitchel/.conda/envs/building  (writable)\r\n           channel URLs : https://artifactory/api/conda/conda-anaconda-remote/linux-64\r\n                          https://artifactory/api/conda/conda-anaconda-remote/noarch\r\n                          https://artifactory/api/conda/conda-condaforge-remote/linux-64\r\n                          https://artifactory/api/conda/conda-condaforge-remote/noarch\r\n                          https://artifactory/api/conda/conda-mosek-remote/linux-64\r\n                          https://artifactory/api/conda/conda-mosek-remote/noarch\r\n                          https://artifactory/api/conda/conda-corelib-local/linux-64\r\n                          https://artifactory/api/conda/conda-corelib-local/noarch\r\n                          https://artifactory/api/conda/conda-marketdata-local/linux-64\r\n                          https://artifactory/api/conda/conda-marketdata-local/noarch\r\n          package cache : /home/fmitchel/.conda/envs/building/pkgs\r\n                          /home/fmitchel/.conda/pkgs\r\n       envs directories : /home/fmitchel/.conda/envs/building/envs\r\n                          /home/fmitchel/.conda/envs\r\n               platform : linux-64\r\n             user-agent : conda/4.6.14 requests/2.22.0 CPython/3.6.4 Linux/3.10.0-1062.1.1.el7.x86_64 rhel/7.7 glibc/2.17\r\n                UID:GID : 5220:5220\r\n             netrc file : None\r\n           offline mode : False\r\n```\r\n\r\n\r\n\r\n\r\n"
    },
    {
        "url": "https://api.github.com/repos/conda/conda-build/issues/3848",
        "repository_url": "https://api.github.com/repos/conda/conda-build",
        "labels_url": "https://api.github.com/repos/conda/conda-build/issues/3848/labels{/name}",
        "comments_url": "https://api.github.com/repos/conda/conda-build/issues/3848/comments",
        "events_url": "https://api.github.com/repos/conda/conda-build/issues/3848/events",
        "html_url": "https://github.com/conda/conda-build/issues/3848",
        "id": 547725379,
        "node_id": "MDU6SXNzdWU1NDc3MjUzNzk=",
        "number": 3848,
        "title": "Conda-build generates package with no functions",
        "user": {
            "login": "merahk",
            "id": 53305169,
            "node_id": "MDQ6VXNlcjUzMzA1MTY5",
            "avatar_url": "https://avatars2.githubusercontent.com/u/53305169?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/merahk",
            "html_url": "https://github.com/merahk",
            "followers_url": "https://api.github.com/users/merahk/followers",
            "following_url": "https://api.github.com/users/merahk/following{/other_user}",
            "gists_url": "https://api.github.com/users/merahk/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/merahk/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/merahk/subscriptions",
            "organizations_url": "https://api.github.com/users/merahk/orgs",
            "repos_url": "https://api.github.com/users/merahk/repos",
            "events_url": "https://api.github.com/users/merahk/events{/privacy}",
            "received_events_url": "https://api.github.com/users/merahk/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2020-01-09T21:11:02Z",
        "updated_at": "2020-02-13T04:19:36Z",
        "closed_at": null,
        "author_association": "NONE",
        "body": "### Actual Behavior\r\n\r\nHi guys,\r\n\r\nI've been trying to build a very simple conda package from the file TestFunctions.py.\r\n```\r\n| Temp/\r\n\t| - src/\r\n        \t| - TestFunctions.py\r\n\t| - meta.yaml\r\n\t| - bld.bat\r\n\t| - setup.py\r\n```\r\n\r\nHowever, conda-build generates a testpackage-0.0.1-0.tar.bz2 but with no functions.\r\n(the tarball does not have the lib folder, just the info folder)\r\n\r\nI've also tried some changes such as:\r\n- using build.script and pip rather than setuptools\r\n- using (1) build, host and run, (2) build and run and (3) host and run\r\n- remove and recreate the conda env\r\n- reinstall conda\r\n\r\nBut had no luck. \r\n\r\nFrom the docs and examples I've seen, it should have worked but it seems it's not creating the \"temporary\" conda environments (_build_env?) as expected.\r\n\r\n### Expected Behavior\r\n\r\nConda-build should have generated a testpackage-0.0.1-py37-0.tar.bz2 with two functions: TestA and TestB.\r\n\r\n### Steps to Reproduce\r\n\r\nconda create --name Temp-dev-env --no-default-package python=3.7 conda-build m2-patch\r\nconda activate Temp-dev-env\r\n\r\nconda build .\r\n\r\n##### Output of conda info\r\n\r\n```\r\nactive environment : Temp-dev-env\r\nactive env location : C:\\Users\\T731870\\AppData\\Local\\Continuum\\Anaconda3\\envs\\Temp-dev-env\r\nshell level : 1\r\nuser config file : C:\\Users\\T731870\\.condarc\r\npopulated config files : C:\\Users\\T731870\\.condarc\r\nconda version : 4.8.1\r\nconda-build version : 3.18.9\r\npython version : 3.7.4.final.0\r\nvirtual packages :\r\nbase environment : C:\\Users\\T731870\\AppData\\Local\\Continuum\\Anaconda3  (writable)\r\nchannel URLs :\thttps://repo.anaconda.com/pkgs/main/win-64\r\n\t\thttps://repo.anaconda.com/pkgs/main/noarch\r\n\t\thttps://repo.anaconda.com/pkgs/r/win-64\r\n\t\thttps://repo.anaconda.com/pkgs/r/noarch\t\t\t\r\n\t\thttps://repo.anaconda.com/pkgs/msys2/win-64\r\n\t\thttps://repo.anaconda.com/pkgs/msys2/noarch\r\npackage cache : C:\\Users\\T731870\\AppData\\Local\\Continuum\\Anaconda3\\pkgs\r\n                          C:\\Users\\T731870\\.conda\\pkgs\r\n                          C:\\Users\\T731870\\AppData\\Local\\conda\\conda\\pkgs\r\nenvs directories :\tC:\\Users\\T731870\\AppData\\Local\\Continuum\\Anaconda3\\envs\r\n\t\t\tC:\\Users\\T731870\\.conda\\envs\t\t\t\r\n\t\t\tC:\\Users\\T731870\\AppData\\Local\\conda\\conda\\envsplatform : win-64\r\nuser-agent : conda/4.8.1 requests/2.22.0 CPython/3.7.4 Windows/10 Windows/10.0.16299\r\nadministrator : False\r\nnetrc file : None\r\noffline mode : False\r\n```\r\n\r\n##### src/TestFunctions.py\r\n\r\n```\r\ndef TestA(x, y):\r\n   return x + y\r\n\r\ndef TestB(x ,y):\r\n   return x * y\r\n```\r\n\r\n##### meta.yaml\r\n\r\n```\r\npackage: \r\n    name: \"testpackage\"\r\n    version: \"0.0.1\"\r\n\r\nsource:\r\n    path: .\r\n\r\nbuild:\r\n    # script: \"python -m pip install . --no-deps --ignore-installed -vv\"\r\n\r\nrequeriments:\r\n    build:\r\n        # - pip\r\n        - setuptools\r\n    host:\r\n        - python\r\n    run:\r\n        - python\r\n```\r\n  \r\n##### setup.py\r\n\r\nfrom setuptools import setup, find_packages\r\n\r\n```\r\nsetup(\r\n    name=\"testpackage\",\r\n    version=\"0.0.1\",\r\n    packages=find_packages(include=[\"src\", \"src.*\"]),\r\n)\r\n```\r\n\r\n##### bld.bat\r\n\r\n```\r\npython setup.py install\r\nif errorlevel 1 exit 1\r\n```\r\n\r\n##### Output of conda-build .\r\n\r\n```\r\nNo numpy version specified in conda_build_config.yaml.  Falling back to default numpy value of 1.11\r\nWARNING:conda_build.metadata:No numpy version specified in conda_build_config.yaml.  Falling back to default numpy value of 1.11\r\nAdding in variants from internal_defaults\r\nINFO:conda_build.variants:Adding in variants from internal_defaults\r\nAttempting to finalize metadata for testpackage\r\nINFO:conda_build.metadata:Attempting to finalize metadata for testpackage\r\nBUILD START: ['testpackage-0.0.1-0.tar.bz2']\r\nCopying C:\\Users\\T731870\\Documents\\Sistematicos\\Python\\Development\\Temp to C:\\Users\\T731870\\AppData\\Local\\Continuum\\Anaconda3\\conda-bld\\testpackage_1578601409813\\work\\\r\nsource tree in: C:\\Users\\T731870\\AppData\\Local\\Continuum\\Anaconda3\\conda-bld\\testpackage_1578601409813\\work\r\nUsing legacy MSVC compiler setup.  This will be removed in conda-build 4.0. If this recipe does not use a compiler, this message is safe to ignore.  Otherwise, use {{compiler('<language>')}} jinja2 in requirements/build.\r\nWARNING:conda_build.windows:Using legacy MSVC compiler setup.  This will be removed in conda-build 4.0. If this recipe does not use a compiler, this message is safe to ignore.  Otherwise, use {{compiler('<language>')}} jinja2 in requirements/build.\r\nWARNING conda_build.windows:msvc_env_cmd(91): Using legacy MSVC compiler setup.  This will be removed in conda-build 4.0. If this recipe does not use a compiler, this message is safe to ignore.  Otherwise, use {{compiler('<language>')}} jinja2 in requirements/build.\r\nRewriting env in output: {'BUILD_PREFIX': 'C:\\\\Users\\\\T731870\\\\AppData\\\\Local\\\\Continuum\\\\Anaconda3\\\\conda-bld\\\\testpackage_1578601409813\\\\_h_env',\r\n 'PREFIX': 'C:\\\\Users\\\\T731870\\\\AppData\\\\Local\\\\Continuum\\\\Anaconda3\\\\conda-bld\\\\testpackage_1578601409813\\\\_h_env',\r\n 'SRC_DIR': 'C:\\\\Users\\\\T731870\\\\AppData\\\\Local\\\\Continuum\\\\Anaconda3\\\\conda-bld\\\\testpackage_1578601409813\\\\work'}\r\n\r\n(base) %SRC_DIR%>IF \"\" == \"\" (call %SRC_DIR%\\build_env_setup.bat )\r\n\r\n(base) %SRC_DIR%>set \"CONDA_BUILD=1\"\r\n\r\n(base) %SRC_DIR%>set \"PYTHONNOUSERSITE=1\"\r\n\r\n(base) %SRC_DIR%>set \"CONDA_DEFAULT_ENV=%BUILD_PREFIX%\"\r\n\r\n(base) %SRC_DIR%>set \"ARCH=64\"\r\n\r\n(base) %SRC_DIR%>set \"PREFIX=%BUILD_PREFIX%\"\r\n\r\n(base) %SRC_DIR%>set \"BUILD_PREFIX=%BUILD_PREFIX%\"\r\n\r\n(base) %SRC_DIR%>set \"SYS_PREFIX=C:\\Users\\T731870\\AppData\\Local\\Continuum\\Anaconda3\"\r\n\r\n(base) %SRC_DIR%>set \"SYS_PYTHON=C:\\Users\\T731870\\AppData\\Local\\Continuum\\Anaconda3\\python.exe\"\r\n\r\n(base) %SRC_DIR%>set \"SUBDIR=win-64\"\r\n\r\n(base) %SRC_DIR%>set \"SRC_DIR=%SRC_DIR%\"\r\n\r\n(base) %SRC_DIR%>set \"ROOT=C:\\Users\\T731870\\AppData\\Local\\Continuum\\Anaconda3\"\r\n\r\n(base) %SRC_DIR%>set \"CONDA_PY=37\"\r\n\r\n(base) %SRC_DIR%>set \"PY3K=1\"\r\n\r\n(base) %SRC_DIR%>set \"PY_VER=3.7\"\r\n\r\n(base) %SRC_DIR%>set \"STDLIB_DIR=%BUILD_PREFIX%\\Lib\"\r\n\r\n(base) %SRC_DIR%>set \"SP_DIR=%BUILD_PREFIX%\\Lib\\site-packages\"\r\n\r\n(base) %SRC_DIR%>set \"NPY_VER=1.11\"\r\n\r\n(base) %SRC_DIR%>set \"CONDA_NPY=1.11\"\r\n\r\n(base) %SRC_DIR%>set \"NPY_DISTUTILS_APPEND_FLAGS=1\"\r\n\r\n(base) %SRC_DIR%>set \"PERL_VER=5.26\"\r\n\r\n(base) %SRC_DIR%>set \"CONDA_PERL=5.26.0\"\r\n\r\n(base) %SRC_DIR%>set \"LUA_VER=5\"\r\n\r\n(base) %SRC_DIR%>set \"CONDA_LUA=5\"\r\n\r\n(base) %SRC_DIR%>set \"R_VER=3.4\"\r\n\r\n(base) %SRC_DIR%>set \"CONDA_R=3.4\"\r\n\r\n(base) %SRC_DIR%>set \"PKG_NAME=testpackage\"\r\n\r\n(base) %SRC_DIR%>set \"PKG_VERSION=0.0.1\"\r\n\r\n(base) %SRC_DIR%>set \"PKG_BUILDNUM=0\"\r\n\r\n(base) %SRC_DIR%>set \"PKG_BUILD_STRING=placeholder\"\r\n\r\n(base) %SRC_DIR%>set \"PKG_HASH=1234567\"\r\n\r\n(base) %SRC_DIR%>set \"RECIPE_DIR=C:\\Users\\T731870\\Documents\\Sistematicos\\Python\\Development\\Temp\"\r\n\r\n(base) %SRC_DIR%>set \"CPU_COUNT=4\"\r\n\r\n(base) %SRC_DIR%>set \"LANG=en_US.UTF-8\"\r\n\r\n(base) %SRC_DIR%>set \"SHLIB_EXT=.dll\"\r\n\r\n(base) %SRC_DIR%>set \"PATH=%BUILD_PREFIX%;%BUILD_PREFIX%\\Library\\mingw-w64\\bin;%BUILD_PREFIX%\\Library\\usr\\bin;;%BUILD_PREFIX%\\Library\\bin;%BUILD_PREFIX%\\Scripts;%BUILD_PREFIX%\\Scripts;%BUILD_PREFIX%;%BUILD_PREFIX%\\Library\\mingw-w64\\bin;%BUILD_PREFIX%\\Library\\usr\\bin;;%BUILD_PREFIX%\\Library\\bin;%BUILD_PREFIX%\\Scripts;%BUILD_PREFIX%\\Scripts;C:\\Users\\T731870\\AppData\\Local\\Continuum\\Anaconda3;C:\\Users\\T731870\\AppData\\Local\\Continuum\\Anaconda3\\Library\\mingw-w64\\bin;C:\\Users\\T731870\\AppData\\Local\\Continuum\\Anaconda3\\Library\\usr\\bin;C:\\Users\\T731870\\AppData\\Local\\Continuum\\Anaconda3\\Library\\bin;C:\\Users\\T731870\\AppData\\Local\\Continuum\\Anaconda3\\Scripts;C:\\Users\\T731870\\AppData\\Local\\Continuum\\Anaconda3\\bin;C:\\Users\\T731870\\AppData\\Local\\Continuum\\Anaconda3\\envs\\Temp-dev-env;C:\\Users\\T731870\\AppData\\Local\\Continuum\\Anaconda3\\envs\\Temp-dev-env\\Library\\mingw-w64\\bin;C:\\Users\\T731870\\AppData\\Local\\Continuum\\Anaconda3\\envs\\Temp-dev-env\\Library\\usr\\bin;C:\\Users\\T731870\\AppData\\Local\\Continuum\\Anaconda3\\envs\\Temp-dev-env\\Library\\bin;C:\\Users\\T731870\\AppData\\Local\\Continuum\\Anaconda3\\envs\\Temp-dev-env\\Scripts;C:\\Users\\T731870\\AppData\\Local\\Continuum\\Anaconda3\\envs\\Temp-dev-env\\bin;C:\\Users\\T731870\\AppData\\Local\\Continuum\\Anaconda3\\condabin;C:\\Oracle\\ORA11G\\bin;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0;C:\\Program Files (x86)\\Enterprise Vault\\EVClient;C:\\Program Files (x86)\\Microsoft SQL Server\\150\\DTS\\Binn;C:\\Program Files (x86)\\Microsoft SQL Server\\140\\Tools\\Binn;C:\\Program Files\\Microsoft SQL Server\\140\\Tools\\Binn;C:\\Program Files (x86)\\Microsoft SQL Server\\140\\DTS\\Binn;C:\\Program Files\\Microsoft SQL Server\\140\\DTS\\Binn;C:\\Program Files\\Microsoft SQL Server\\Client SDK\\ODBC\\130\\Tools\\Binn;C:\\Users\\T731870\\AppData\\Local\\Microsoft\\WindowsApps;C:\\blp\\DAPI;C:\\blp\\DAPI\\DDE;C:\\Users\\T731870\\AppData\\Local\\JetBrains\\PyCharm Community Edition with Anaconda plugin 2019.2.5\\bin;.;C:\\Users\\T731870\\AppData\\Local\\Programs\\Microsoft VS Code\\bin\"\r\n\r\n(base) %SRC_DIR%>set \"SCRIPTS=%BUILD_PREFIX%\\Scripts\"\r\n\r\n(base) %SRC_DIR%>set \"LIBRARY_PREFIX=%BUILD_PREFIX%\\Library\"\r\n\r\n(base) %SRC_DIR%>set \"LIBRARY_BIN=%BUILD_PREFIX%\\Library\\bin\"\r\n\r\n(base) %SRC_DIR%>set \"LIBRARY_INC=%BUILD_PREFIX%\\Library\\include\"\r\n\r\n(base) %SRC_DIR%>set \"LIBRARY_LIB=%BUILD_PREFIX%\\Library\\lib\"\r\n\r\n(base) %SRC_DIR%>set \"CYGWIN_PREFIX=/cygdrive/c/Users/T731870/AppData/Local/Continuum/Anaconda3/conda-bld/testpackage_1578601409813/_h_env\"\r\n\r\n(base) %SRC_DIR%>set \"ALLUSERSPROFILE=C:\\ProgramData\"\r\n\r\n(base) %SRC_DIR%>set \"APPDATA=C:\\Users\\T731870\\AppData\\Roaming\"\r\n\r\n(base) %SRC_DIR%>set \"CommonProgramFiles=C:\\Program Files\\Common Files\"\r\n\r\n(base) %SRC_DIR%>set \"CommonProgramFiles(x86)=C:\\Program Files (x86)\\Common Files\"\r\n\r\n(base) %SRC_DIR%>set \"CommonProgramW6432=C:\\Program Files\\Common Files\"\r\n\r\n(base) %SRC_DIR%>set \"COMPUTERNAME=MA0000084\"\r\n\r\n(base) %SRC_DIR%>set \"ComSpec=C:\\Windows\\system32\\cmd.exe\"\r\n\r\n(base) %SRC_DIR%>set \"HOMEDRIVE=C:\"\r\n\r\n(base) %SRC_DIR%>set \"HOMEPATH=\\Users\\T731870\"\r\n\r\n(base) %SRC_DIR%>set \"LOCALAPPDATA=C:\\Users\\T731870\\AppData\\Local\"\r\n\r\n(base) %SRC_DIR%>set \"LOGONSERVER=\\\\DCBS28\"\r\n\r\n(base) %SRC_DIR%>set \"NUMBER_OF_PROCESSORS=4\"\r\n\r\n(base) %SRC_DIR%>set \"PATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.CPL\"\r\n\r\n(base) %SRC_DIR%>set \"ProgramData=C:\\ProgramData\"\r\n\r\n(base) %SRC_DIR%>set \"ProgramFiles=C:\\Program Files\"\r\n\r\n(base) %SRC_DIR%>set \"ProgramFiles(x86)=C:\\Program Files (x86)\"\r\n\r\n(base) %SRC_DIR%>set \"ProgramW6432=C:\\Program Files\"\r\n\r\n(base) %SRC_DIR%>set \"PROMPT=(base) $P$G\"\r\n\r\n(base) %SRC_DIR%>set \"PSModulePath=C:\\Users\\T731870\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\Windows\\system32\\WindowsPowerShell\\v1.0\\Modules;C:\\Program Files (x86)\\Microsoft SQL Server\\140\\Tools\\PowerShell\\Modules\\\"\r\n\r\n(base) %SRC_DIR%>set \"PUBLIC=C:\\Users\\Public\"\r\n\r\n(base) %SRC_DIR%>set \"SystemDrive=C:\"\r\n\r\n(base) %SRC_DIR%>set \"SystemRoot=C:\\Windows\"\r\n\r\n(base) %SRC_DIR%>set \"TEMP=C:\\Users\\T731870\\AppData\\Local\\Temp\"\r\n\r\n(base) %SRC_DIR%>set \"TMP=C:\\Users\\T731870\\AppData\\Local\\Temp\"\r\n\r\n(base) %SRC_DIR%>set \"USERDOMAIN=BSBR\"\r\n\r\n(base) %SRC_DIR%>set \"USERNAME=T731870\"\r\n\r\n(base) %SRC_DIR%>set \"USERPROFILE=C:\\Users\\T731870\"\r\n\r\n(base) %SRC_DIR%>set \"windir=C:\\Windows\"\r\n\r\n(base) %SRC_DIR%>set \"PROCESSOR_ARCHITECTURE=AMD64\"\r\n\r\n(base) %SRC_DIR%>set \"PROCESSOR_IDENTIFIER=Intel64 Family 6 Model 60 Stepping 3, GenuineIntel\"\r\n\r\n(base) %SRC_DIR%>set \"BUILD=amd64-pc-windows-19.0.0\"\r\n\r\n(base) %SRC_DIR%>set \"r_base=3.4\"\r\n\r\n(base) %SRC_DIR%>set \"cpu_optimization_target=nocona\"\r\n\r\n(base) %SRC_DIR%>set \"cran_mirror=https://cran.r-project.org\"\r\n\r\n(base) %SRC_DIR%>set \"target_platform=win-64\"\r\n\r\n(base) %SRC_DIR%>set \"c_compiler=vs2017\"\r\n\r\n(base) %SRC_DIR%>set \"cxx_compiler=vs2017\"\r\n\r\n(base) %SRC_DIR%>set \"fortran_compiler=gfortran\"\r\n\r\n(base) %SRC_DIR%>set \"vc=14\"\r\n\r\n(base) %SRC_DIR%>set \"ignore_build_only_deps={'python', 'numpy'}\"\r\n\r\n(base) %SRC_DIR%>set \"extend_keys={'pin_run_as_build', 'ignore_version', 'extend_keys', 'ignore_build_only_deps'}\"\r\n\r\n(base) %SRC_DIR%>set \"pin_run_as_build=OrderedDict([('python', {'min_pin': 'x.x', 'max_pin': 'x.x'}), ('r-base', {'min_pin': 'x.x', 'max_pin': 'x.x'})])\"\r\n\r\n(base) %SRC_DIR%>set \"CONDA_BUILD_STATE=BUILD\"\r\n\r\n(base) %SRC_DIR%>set \"PIP_NO_BUILD_ISOLATION=False\"\r\n\r\n(base) %SRC_DIR%>set \"PIP_NO_DEPENDENCIES=True\"\r\n\r\n(base) %SRC_DIR%>set \"PIP_IGNORE_INSTALLED=True\"\r\n\r\n(base) %SRC_DIR%>set \"PIP_CACHE_DIR=C:\\Users\\T731870\\AppData\\Local\\Continuum\\Anaconda3\\conda-bld\\testpackage_1578601409813\\pip_cache\"\r\n\r\n(base) %SRC_DIR%>set \"PIP_NO_INDEX=True\"\r\n\r\n(base) %SRC_DIR%>set DISTUTILS_USE_SDK=1\r\n\r\n(base) %SRC_DIR%>set MSSdk=1\r\n\r\n(base) %SRC_DIR%>set PY_VCRUNTIME_REDIST=%BUILD_PREFIX%\\Library\\bin\\vcruntime140.dll\r\n\r\n(base) %SRC_DIR%>set \"VS_VERSION=14.0\"\r\n\r\n(base) %SRC_DIR%>set \"VS_MAJOR=14\"\r\n\r\n(base) %SRC_DIR%>set \"VS_YEAR=2015\"\r\n\r\n(base) %SRC_DIR%>set \"CMAKE_GENERATOR=Visual Studio 14 2015 Win64\"\r\n\r\n(base) %SRC_DIR%>set \"MSYS2_ARG_CONV_EXCL=/AI;/AL;/OUT;/out\"\r\n\r\n(base) %SRC_DIR%>set \"MSYS2_ENV_CONV_EXCL=CL\"\r\n\r\n(base) %SRC_DIR%>call \"C:\\Program Files (x86)\\Microsoft Visual Studio 14.0\\VC\\vcvarsall.bat\" amd64\r\nThe system cannot find the path specified.\r\n\r\n(base) %SRC_DIR%>set \"INCLUDE=%BUILD_PREFIX%\\Library\\include;\"\r\n\r\n(base) %SRC_DIR%>set \"LIB=%BUILD_PREFIX%\\Library\\lib;\"\r\n\r\n(base) %SRC_DIR%>call \"C:\\Users\\T731870\\AppData\\Local\\Continuum\\Anaconda3\\Scripts\\..\\condabin\\conda_hook.bat\"\r\n\r\n(base) %SRC_DIR%>call \"C:\\Users\\T731870\\AppData\\Local\\Continuum\\Anaconda3\\Scripts\\..\\condabin\\conda.bat\" activate --stack \"%BUILD_PREFIX%\"\r\nNot a conda environment: C:\\Users\\T731870\\AppData\\Local\\Continuum\\Anaconda3\\conda-bld\\testpackage_1578601409813\\_h_env\r\n\r\n(base) %SRC_DIR%>REM ===== end generated header =====\r\n\r\n(base) %SRC_DIR%>python setup.py install\r\nrunning install\r\nrunning bdist_egg\r\nrunning egg_info\r\ncreating testpackage.egg-info\r\nwriting testpackage.egg-info\\PKG-INFO\r\nwriting dependency_links to testpackage.egg-info\\dependency_links.txt\r\nwriting top-level names to testpackage.egg-info\\top_level.txt\r\nwriting manifest file 'testpackage.egg-info\\SOURCES.txt'\r\nreading manifest file 'testpackage.egg-info\\SOURCES.txt'\r\nwriting manifest file 'testpackage.egg-info\\SOURCES.txt'\r\ninstalling library code to build\\bdist.win-amd64\\egg\r\nrunning install_lib\r\nwarning: install_lib: 'build\\lib' does not exist -- no Python modules to install\r\n\r\ncreating build\r\ncreating build\\bdist.win-amd64\r\ncreating build\\bdist.win-amd64\\egg\r\ncreating build\\bdist.win-amd64\\egg\\EGG-INFO\r\ncopying testpackage.egg-info\\PKG-INFO -> build\\bdist.win-amd64\\egg\\EGG-INFO\r\ncopying testpackage.egg-info\\SOURCES.txt -> build\\bdist.win-amd64\\egg\\EGG-INFO\r\ncopying testpackage.egg-info\\dependency_links.txt -> build\\bdist.win-amd64\\egg\\EGG-INFO\r\ncopying testpackage.egg-info\\top_level.txt -> build\\bdist.win-amd64\\egg\\EGG-INFO\r\nzip_safe flag not set; analyzing archive contents...\r\ncreating dist\r\ncreating 'dist\\testpackage-0.0.1-py3.7.egg' and adding 'build\\bdist.win-amd64\\egg' to it\r\nremoving 'build\\bdist.win-amd64\\egg' (and everything under it)\r\nProcessing testpackage-0.0.1-py3.7.egg\r\nCopying testpackage-0.0.1-py3.7.egg to c:\\users\\t731870\\appdata\\local\\continuum\\anaconda3\\lib\\site-packages\r\nAdding testpackage 0.0.1 to easy-install.pth file\r\n\r\nInstalled c:\\users\\t731870\\appdata\\local\\continuum\\anaconda3\\lib\\site-packages\\testpackage-0.0.1-py3.7.egg\r\nProcessing dependencies for testpackage==0.0.1\r\nFinished processing dependencies for testpackage==0.0.1\r\n\r\n(base) %SRC_DIR%>if errorlevel 1 exit 1\r\n\r\nResource usage statistics from building testpackage:\r\n   Process count: 2\r\n   CPU time: Sys=0:00:02.6, User=0:00:00.7\r\n   Memory: 52.1M\r\n   Disk usage: 12.7K\r\n   Time elapsed: 0:00:08.9\r\n\r\nPackaging testpackage\r\nINFO:conda_build.build:Packaging testpackage\r\nINFO conda_build.build:build(1570): Packaging testpackage\r\nPackaging testpackage-0.0.1-0\r\nINFO:conda_build.build:Packaging testpackage-0.0.1-0\r\nINFO conda_build.build:bundle_conda(891): Packaging testpackage-0.0.1-0\r\nNo files or script found for output testpackage\r\nWARNING:conda_build.build:No files or script found for output testpackage\r\nWARNING conda_build.build:bundle_conda(971): No files or script found for output testpackage\r\nnumber of files: 0\r\nFixing permissions\r\nWARNING: Detecting which files contain PREFIX is slow, installing ripgrep makes it faster. 'conda install ripgrep'\r\nTEST START: C:\\Users\\T731870\\AppData\\Local\\Continuum\\Anaconda3\\conda-bld\\win-64\\testpackage-0.0.1-0.tar.bz2\r\nAdding in variants from C:\\Users\\T731870\\AppData\\Local\\Temp\\tmpb7veku1c\\info\\recipe\\conda_build_config.yaml\r\nINFO:conda_build.variants:Adding in variants from C:\\Users\\T731870\\AppData\\Local\\Temp\\tmpb7veku1c\\info\\recipe\\conda_build_config.yaml\r\nINFO conda_build.variants:_combine_spec_dictionaries(188): Adding in variants from C:\\Users\\T731870\\AppData\\Local\\Temp\\tmpb7veku1c\\info\\recipe\\conda_build_config.yaml\r\nNothing to test for: C:\\Users\\T731870\\AppData\\Local\\Continuum\\Anaconda3\\conda-bld\\win-64\\testpackage-0.0.1-0.tar.bz2\r\nRenaming work directory,  C:\\Users\\T731870\\AppData\\Local\\Continuum\\Anaconda3\\conda-bld\\testpackage_1578601409813\\work  to  C:\\Users\\T731870\\AppData\\Local\\Continuum\\Anaconda3\\conda-bld\\testpackage_1578601409813\\work_moved_testpackage-0.0.1-0_win-64_main_build_loop\r\n# Automatic uploading is disabled\r\n# If you want to upload package(s) to anaconda.org later, type:\r\n\r\nanaconda upload C:\\Users\\T731870\\AppData\\Local\\Continuum\\Anaconda3\\conda-bld\\win-64\\testpackage-0.0.1-0.tar.bz2\r\n\r\n# To have conda build upload to anaconda.org automatically, use\r\n# $ conda config --set anaconda_upload yes\r\n\r\nanaconda_upload is not set.  Not uploading wheels: []\r\n####################################################################################\r\nResource usage summary:\r\n\r\nTotal time: 0:00:29.2\r\nCPU usage: sys=0:00:02.6, user=0:00:00.7\r\nMaximum memory usage observed: 52.1M\r\nTotal disk usage observed (not including envs): 12.7K\r\n\r\n\r\n####################################################################################\r\nSource and build intermediates have been left in C:\\Users\\T731870\\AppData\\Local\\Continuum\\Anaconda3\\conda-bld.\r\nThere are currently 1 accumulated.\r\nTo remove them, you can run the ```conda build purge``` command\r\n```"
    },
    {
        "url": "https://api.github.com/repos/conda/conda-build/issues/3847",
        "repository_url": "https://api.github.com/repos/conda/conda-build",
        "labels_url": "https://api.github.com/repos/conda/conda-build/issues/3847/labels{/name}",
        "comments_url": "https://api.github.com/repos/conda/conda-build/issues/3847/comments",
        "events_url": "https://api.github.com/repos/conda/conda-build/issues/3847/events",
        "html_url": "https://github.com/conda/conda-build/pull/3847",
        "id": 547333326,
        "node_id": "MDExOlB1bGxSZXF1ZXN0MzYwODM5OTMy",
        "number": 3847,
        "title": "Try to ensure python stdlib directory is for the correct version",
        "user": {
            "login": "chrisburr",
            "id": 5220533,
            "node_id": "MDQ6VXNlcjUyMjA1MzM=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/5220533?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/chrisburr",
            "html_url": "https://github.com/chrisburr",
            "followers_url": "https://api.github.com/users/chrisburr/followers",
            "following_url": "https://api.github.com/users/chrisburr/following{/other_user}",
            "gists_url": "https://api.github.com/users/chrisburr/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/chrisburr/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/chrisburr/subscriptions",
            "organizations_url": "https://api.github.com/users/chrisburr/orgs",
            "repos_url": "https://api.github.com/users/chrisburr/repos",
            "events_url": "https://api.github.com/users/chrisburr/events{/privacy}",
            "received_events_url": "https://api.github.com/users/chrisburr/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 1545628549,
                "node_id": "MDU6TGFiZWwxNTQ1NjI4NTQ5",
                "url": "https://api.github.com/repos/conda/conda-build/labels/cla-signed",
                "name": "cla-signed",
                "color": "ededed",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2020-01-09T08:48:06Z",
        "updated_at": "2020-01-09T16:55:04Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "pull_request": {
            "url": "https://api.github.com/repos/conda/conda-build/pulls/3847",
            "html_url": "https://github.com/conda/conda-build/pull/3847",
            "diff_url": "https://github.com/conda/conda-build/pull/3847.diff",
            "patch_url": "https://github.com/conda/conda-build/pull/3847.patch"
        },
        "body": "Currently if the environment contains multiple `lib/pythonX.Y/site-packages` directories the `SP_DIR` environment variable can be set incorrectly. This PR tries to make conda-build more reliable and shows a warning to make it clearer when something is wrong.\r\n\r\nMore details in: https://github.com/conda-forge/gdk-pixbuf-feedstock/issues/13\r\nPR in conda-forge where this happens: https://github.com/conda-forge/root-feedstock/pull/74#issuecomment-572449839"
    },
    {
        "url": "https://api.github.com/repos/conda/conda-build/issues/3846",
        "repository_url": "https://api.github.com/repos/conda/conda-build",
        "labels_url": "https://api.github.com/repos/conda/conda-build/issues/3846/labels{/name}",
        "comments_url": "https://api.github.com/repos/conda/conda-build/issues/3846/comments",
        "events_url": "https://api.github.com/repos/conda/conda-build/issues/3846/events",
        "html_url": "https://github.com/conda/conda-build/pull/3846",
        "id": 546293824,
        "node_id": "MDExOlB1bGxSZXF1ZXN0MzU5OTk4MTU1",
        "number": 3846,
        "title": "Added arm64 job for travis-CI",
        "user": {
            "login": "ossdev07",
            "id": 39188636,
            "node_id": "MDQ6VXNlcjM5MTg4NjM2",
            "avatar_url": "https://avatars2.githubusercontent.com/u/39188636?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/ossdev07",
            "html_url": "https://github.com/ossdev07",
            "followers_url": "https://api.github.com/users/ossdev07/followers",
            "following_url": "https://api.github.com/users/ossdev07/following{/other_user}",
            "gists_url": "https://api.github.com/users/ossdev07/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/ossdev07/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/ossdev07/subscriptions",
            "organizations_url": "https://api.github.com/users/ossdev07/orgs",
            "repos_url": "https://api.github.com/users/ossdev07/repos",
            "events_url": "https://api.github.com/users/ossdev07/events{/privacy}",
            "received_events_url": "https://api.github.com/users/ossdev07/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 5,
        "created_at": "2020-01-07T13:49:04Z",
        "updated_at": "2020-01-31T06:56:23Z",
        "closed_at": null,
        "author_association": "NONE",
        "pull_request": {
            "url": "https://api.github.com/repos/conda/conda-build/pulls/3846",
            "html_url": "https://github.com/conda/conda-build/pull/3846",
            "diff_url": "https://github.com/conda/conda-build/pull/3846.diff",
            "patch_url": "https://github.com/conda/conda-build/pull/3846.patch"
        },
        "body": "Travis-CI has added support for ARM64. Added ARM64 jobs in Travis-CI. Since miniconda is not available for aarch64 hence added archiconda for aarch64 platform.\r\n"
    },
    {
        "url": "https://api.github.com/repos/conda/conda-build/issues/3845",
        "repository_url": "https://api.github.com/repos/conda/conda-build",
        "labels_url": "https://api.github.com/repos/conda/conda-build/issues/3845/labels{/name}",
        "comments_url": "https://api.github.com/repos/conda/conda-build/issues/3845/comments",
        "events_url": "https://api.github.com/repos/conda/conda-build/issues/3845/events",
        "html_url": "https://github.com/conda/conda-build/issues/3845",
        "id": 546067511,
        "node_id": "MDU6SXNzdWU1NDYwNjc1MTE=",
        "number": 3845,
        "title": "Pip dependencies on meta.yaml",
        "user": {
            "login": "tonyng1707",
            "id": 41986079,
            "node_id": "MDQ6VXNlcjQxOTg2MDc5",
            "avatar_url": "https://avatars3.githubusercontent.com/u/41986079?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/tonyng1707",
            "html_url": "https://github.com/tonyng1707",
            "followers_url": "https://api.github.com/users/tonyng1707/followers",
            "following_url": "https://api.github.com/users/tonyng1707/following{/other_user}",
            "gists_url": "https://api.github.com/users/tonyng1707/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/tonyng1707/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/tonyng1707/subscriptions",
            "organizations_url": "https://api.github.com/users/tonyng1707/orgs",
            "repos_url": "https://api.github.com/users/tonyng1707/repos",
            "events_url": "https://api.github.com/users/tonyng1707/events{/privacy}",
            "received_events_url": "https://api.github.com/users/tonyng1707/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2020-01-07T04:08:20Z",
        "updated_at": "2020-01-29T22:33:46Z",
        "closed_at": null,
        "author_association": "NONE",
        "body": "Is it possible to set pip dependencies on the meta.yaml file? If not, how can we declare dependency on pip packages when creating a new conda package? Thanks"
    },
    {
        "url": "https://api.github.com/repos/conda/conda-build/issues/3842",
        "repository_url": "https://api.github.com/repos/conda/conda-build",
        "labels_url": "https://api.github.com/repos/conda/conda-build/issues/3842/labels{/name}",
        "comments_url": "https://api.github.com/repos/conda/conda-build/issues/3842/comments",
        "events_url": "https://api.github.com/repos/conda/conda-build/issues/3842/events",
        "html_url": "https://github.com/conda/conda-build/pull/3842",
        "id": 545035360,
        "node_id": "MDExOlB1bGxSZXF1ZXN0MzU5MDIzMjU2",
        "number": 3842,
        "title": "[CRAN Skeleton] fix when directory indexes are not allowed (e.g., bioconductor)",
        "user": {
            "login": "mcg1969",
            "id": 2797735,
            "node_id": "MDQ6VXNlcjI3OTc3MzU=",
            "avatar_url": "https://avatars1.githubusercontent.com/u/2797735?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mcg1969",
            "html_url": "https://github.com/mcg1969",
            "followers_url": "https://api.github.com/users/mcg1969/followers",
            "following_url": "https://api.github.com/users/mcg1969/following{/other_user}",
            "gists_url": "https://api.github.com/users/mcg1969/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mcg1969/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mcg1969/subscriptions",
            "organizations_url": "https://api.github.com/users/mcg1969/orgs",
            "repos_url": "https://api.github.com/users/mcg1969/repos",
            "events_url": "https://api.github.com/users/mcg1969/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mcg1969/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 1545628549,
                "node_id": "MDU6TGFiZWwxNTQ1NjI4NTQ5",
                "url": "https://api.github.com/repos/conda/conda-build/labels/cla-signed",
                "name": "cla-signed",
                "color": "ededed",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2020-01-03T15:20:25Z",
        "updated_at": "2020-01-03T19:26:35Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "pull_request": {
            "url": "https://api.github.com/repos/conda/conda-build/pulls/3842",
            "html_url": "https://github.com/conda/conda-build/pull/3842",
            "diff_url": "https://github.com/conda/conda-build/pull/3842.diff",
            "patch_url": "https://github.com/conda/conda-build/pull/3842.patch"
        },
        "body": "<!---\r\nThanks for opening a PR on conda-build!\r\n\r\nPlease include a news entry with your PR to help keep our changelog up to date!\r\nThere are instructions available at: https://regro.github.io/rever-docs/news.html\r\n\r\nIf there is specific issue / feature request that this PR is addressing,\r\nplease link to the corresponding issue by using the `#issuenumber` syntax.\r\n\r\nThanks again!\r\n-->\r\n\r\nThis modifies the `get_cran_index` function to parse the `src/contrib/PACAKGES.gz` file instead of relying on the web server's directory index of `src/contrib/` itself. This is necessary to retrieve packages from Bioconductor. To test, try this:\r\n```\r\nconda skeleton cran --cran-url https://www.bioconductor.org/packages/release/bioc biocgenerics\r\n```\r\nOf course we should confirm that direct CRAN packages still work:\r\n```\r\nconda skeleton cran tergm\r\n```\r\nThere is more work to make Bioconductor packages skeletonize perfectly\u2014e.g., right now, the default home page for the package defaults to an invalid CRAN url. But this gets a buildable artifact."
    },
    {
        "url": "https://api.github.com/repos/conda/conda-build/issues/3841",
        "repository_url": "https://api.github.com/repos/conda/conda-build",
        "labels_url": "https://api.github.com/repos/conda/conda-build/issues/3841/labels{/name}",
        "comments_url": "https://api.github.com/repos/conda/conda-build/issues/3841/comments",
        "events_url": "https://api.github.com/repos/conda/conda-build/issues/3841/events",
        "html_url": "https://github.com/conda/conda-build/pull/3841",
        "id": 544586253,
        "node_id": "MDExOlB1bGxSZXF1ZXN0MzU4NjY0OTE5",
        "number": 3841,
        "title": "Enable Python 3.8 on Azure Pipelines",
        "user": {
            "login": "marcelotrevisani",
            "id": 7882269,
            "node_id": "MDQ6VXNlcjc4ODIyNjk=",
            "avatar_url": "https://avatars0.githubusercontent.com/u/7882269?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/marcelotrevisani",
            "html_url": "https://github.com/marcelotrevisani",
            "followers_url": "https://api.github.com/users/marcelotrevisani/followers",
            "following_url": "https://api.github.com/users/marcelotrevisani/following{/other_user}",
            "gists_url": "https://api.github.com/users/marcelotrevisani/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/marcelotrevisani/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/marcelotrevisani/subscriptions",
            "organizations_url": "https://api.github.com/users/marcelotrevisani/orgs",
            "repos_url": "https://api.github.com/users/marcelotrevisani/repos",
            "events_url": "https://api.github.com/users/marcelotrevisani/events{/privacy}",
            "received_events_url": "https://api.github.com/users/marcelotrevisani/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 1545628549,
                "node_id": "MDU6TGFiZWwxNTQ1NjI4NTQ5",
                "url": "https://api.github.com/repos/conda/conda-build/labels/cla-signed",
                "name": "cla-signed",
                "color": "ededed",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2020-01-02T13:50:09Z",
        "updated_at": "2020-01-02T18:12:56Z",
        "closed_at": null,
        "author_association": "MEMBER",
        "pull_request": {
            "url": "https://api.github.com/repos/conda/conda-build/pulls/3841",
            "html_url": "https://github.com/conda/conda-build/pull/3841",
            "diff_url": "https://github.com/conda/conda-build/pull/3841.diff",
            "patch_url": "https://github.com/conda/conda-build/pull/3841.patch"
        },
        "body": "Related to #3835"
    },
    {
        "url": "https://api.github.com/repos/conda/conda-build/issues/3838",
        "repository_url": "https://api.github.com/repos/conda/conda-build",
        "labels_url": "https://api.github.com/repos/conda/conda-build/issues/3838/labels{/name}",
        "comments_url": "https://api.github.com/repos/conda/conda-build/issues/3838/comments",
        "events_url": "https://api.github.com/repos/conda/conda-build/issues/3838/events",
        "html_url": "https://github.com/conda/conda-build/pull/3838",
        "id": 541396065,
        "node_id": "MDExOlB1bGxSZXF1ZXN0MzU2MDQ3MjEz",
        "number": 3838,
        "title": "Optionally add full unit tests to cran recipes",
        "user": {
            "login": "mcg1969",
            "id": 2797735,
            "node_id": "MDQ6VXNlcjI3OTc3MzU=",
            "avatar_url": "https://avatars1.githubusercontent.com/u/2797735?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mcg1969",
            "html_url": "https://github.com/mcg1969",
            "followers_url": "https://api.github.com/users/mcg1969/followers",
            "following_url": "https://api.github.com/users/mcg1969/following{/other_user}",
            "gists_url": "https://api.github.com/users/mcg1969/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mcg1969/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mcg1969/subscriptions",
            "organizations_url": "https://api.github.com/users/mcg1969/orgs",
            "repos_url": "https://api.github.com/users/mcg1969/repos",
            "events_url": "https://api.github.com/users/mcg1969/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mcg1969/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 1545628549,
                "node_id": "MDU6TGFiZWwxNTQ1NjI4NTQ5",
                "url": "https://api.github.com/repos/conda/conda-build/labels/cla-signed",
                "name": "cla-signed",
                "color": "ededed",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2019-12-22T01:54:13Z",
        "updated_at": "2019-12-23T21:40:18Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "pull_request": {
            "url": "https://api.github.com/repos/conda/conda-build/pulls/3838",
            "html_url": "https://github.com/conda/conda-build/pull/3838",
            "diff_url": "https://github.com/conda/conda-build/pull/3838.diff",
            "patch_url": "https://github.com/conda/conda-build/pull/3838.patch"
        },
        "body": "This implements an `--include-tests` option for `conda skeleton cran`, which adds the full unit tests to CRAN package builds. This is done by\r\n- copying the contents of the source package's `tests/` directory into the R path\r\n- adding the `Suggests:` dependencies to the test phase\r\n- calling `tools::testInstalledPackage` instead of just importing the package\r\n\r\nWindows isn't finished yet, hence the WIP"
    },
    {
        "url": "https://api.github.com/repos/conda/conda-build/issues/3837",
        "repository_url": "https://api.github.com/repos/conda/conda-build",
        "labels_url": "https://api.github.com/repos/conda/conda-build/issues/3837/labels{/name}",
        "comments_url": "https://api.github.com/repos/conda/conda-build/issues/3837/comments",
        "events_url": "https://api.github.com/repos/conda/conda-build/issues/3837/events",
        "html_url": "https://github.com/conda/conda-build/pull/3837",
        "id": 541361327,
        "node_id": "MDExOlB1bGxSZXF1ZXN0MzU2MDI0ODIz",
        "number": 3837,
        "title": "downstreams source_files test for copying ",
        "user": {
            "login": "AndrewAnnex",
            "id": 2126916,
            "node_id": "MDQ6VXNlcjIxMjY5MTY=",
            "avatar_url": "https://avatars3.githubusercontent.com/u/2126916?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/AndrewAnnex",
            "html_url": "https://github.com/AndrewAnnex",
            "followers_url": "https://api.github.com/users/AndrewAnnex/followers",
            "following_url": "https://api.github.com/users/AndrewAnnex/following{/other_user}",
            "gists_url": "https://api.github.com/users/AndrewAnnex/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/AndrewAnnex/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/AndrewAnnex/subscriptions",
            "organizations_url": "https://api.github.com/users/AndrewAnnex/orgs",
            "repos_url": "https://api.github.com/users/AndrewAnnex/repos",
            "events_url": "https://api.github.com/users/AndrewAnnex/events{/privacy}",
            "received_events_url": "https://api.github.com/users/AndrewAnnex/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [
            {
                "id": 1545628549,
                "node_id": "MDU6TGFiZWwxNTQ1NjI4NTQ5",
                "url": "https://api.github.com/repos/conda/conda-build/labels/cla-signed",
                "name": "cla-signed",
                "color": "ededed",
                "default": false,
                "description": null
            }
        ],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 4,
        "created_at": "2019-12-21T19:24:46Z",
        "updated_at": "2020-01-12T20:14:55Z",
        "closed_at": null,
        "author_association": "CONTRIBUTOR",
        "pull_request": {
            "url": "https://api.github.com/repos/conda/conda-build/pulls/3837",
            "html_url": "https://github.com/conda/conda-build/pull/3837",
            "diff_url": "https://github.com/conda/conda-build/pull/3837.diff",
            "patch_url": "https://github.com/conda/conda-build/pull/3837.patch"
        },
        "body": "adding new unit test to ensure downstream source files are copied correctly to fix issues https://github.com/conda-forge/cspice-feedstock/pull/14 and https://github.com/conda/conda-build/issues/3795 \r\n\r\nI may need to duplicate logic from test_copy_test_source_files \r\n\r\nThis is currently a work in progress (WIP) branch, not intended to be merged in as is. I hope to make the test replicate the issues I am running into, and for this PR to include the fix eventually. \r\n\r\nHopefully more experienced conda-build maintainers and contributors can help narrow down the issue, as the functions involved are not documented well enough for me to fully understand what is going on.\r\n"
    },
    {
        "url": "https://api.github.com/repos/conda/conda-build/issues/3835",
        "repository_url": "https://api.github.com/repos/conda/conda-build",
        "labels_url": "https://api.github.com/repos/conda/conda-build/issues/3835/labels{/name}",
        "comments_url": "https://api.github.com/repos/conda/conda-build/issues/3835/comments",
        "events_url": "https://api.github.com/repos/conda/conda-build/issues/3835/events",
        "html_url": "https://github.com/conda/conda-build/issues/3835",
        "id": 540442327,
        "node_id": "MDU6SXNzdWU1NDA0NDIzMjc=",
        "number": 3835,
        "title": "Publish py38 build of conda-build?",
        "user": {
            "login": "aldanor",
            "id": 2418513,
            "node_id": "MDQ6VXNlcjI0MTg1MTM=",
            "avatar_url": "https://avatars0.githubusercontent.com/u/2418513?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/aldanor",
            "html_url": "https://github.com/aldanor",
            "followers_url": "https://api.github.com/users/aldanor/followers",
            "following_url": "https://api.github.com/users/aldanor/following{/other_user}",
            "gists_url": "https://api.github.com/users/aldanor/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/aldanor/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/aldanor/subscriptions",
            "organizations_url": "https://api.github.com/users/aldanor/orgs",
            "repos_url": "https://api.github.com/users/aldanor/repos",
            "events_url": "https://api.github.com/users/aldanor/events{/privacy}",
            "received_events_url": "https://api.github.com/users/aldanor/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2019-12-19T17:07:44Z",
        "updated_at": "2020-01-02T13:44:44Z",
        "closed_at": null,
        "author_association": "NONE",
        "body": "Now that conda 4.8.0 is available for py38, could conda-build be possibly released as py38 as well (so e.g. it could be installed into py38 root environments).\r\n\r\n(Skimming over the list of dependencies, it looks like the only package that will need updating is lief / py-lief)"
    },
    {
        "url": "https://api.github.com/repos/conda/conda-build/issues/3830",
        "repository_url": "https://api.github.com/repos/conda/conda-build",
        "labels_url": "https://api.github.com/repos/conda/conda-build/issues/3830/labels{/name}",
        "comments_url": "https://api.github.com/repos/conda/conda-build/issues/3830/comments",
        "events_url": "https://api.github.com/repos/conda/conda-build/issues/3830/events",
        "html_url": "https://github.com/conda/conda-build/issues/3830",
        "id": 536656013,
        "node_id": "MDU6SXNzdWU1MzY2NTYwMTM=",
        "number": 3830,
        "title": "load_setup_py_data not parsing ext_modules consistently",
        "user": {
            "login": "Dellaviola",
            "id": 41549231,
            "node_id": "MDQ6VXNlcjQxNTQ5MjMx",
            "avatar_url": "https://avatars3.githubusercontent.com/u/41549231?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/Dellaviola",
            "html_url": "https://github.com/Dellaviola",
            "followers_url": "https://api.github.com/users/Dellaviola/followers",
            "following_url": "https://api.github.com/users/Dellaviola/following{/other_user}",
            "gists_url": "https://api.github.com/users/Dellaviola/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/Dellaviola/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/Dellaviola/subscriptions",
            "organizations_url": "https://api.github.com/users/Dellaviola/orgs",
            "repos_url": "https://api.github.com/users/Dellaviola/repos",
            "events_url": "https://api.github.com/users/Dellaviola/events{/privacy}",
            "received_events_url": "https://api.github.com/users/Dellaviola/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2019-12-11T22:45:32Z",
        "updated_at": "2019-12-11T22:45:32Z",
        "closed_at": null,
        "author_association": "NONE",
        "body": "### Actual Behavior\r\n\r\nsetuptools ext_modules parameter jinja template inconsistently handled by conda build/render\r\n\r\nin meta.yaml\r\n```\r\ntest:\r\n  imports:\r\n  {% if data['ext_modules'] is defined %}\r\n  {% for ext_module in data['ext_modules'] %}\r\n    - {{ ext_module.name }}\r\n  {% endfor %}\r\n  {% endif %}\r\n```\r\n\r\nrender\r\n\r\n```\r\ntest:\r\n    imports:\r\n        - myModule\r\n```\r\n\r\nbuild output\r\n\r\n> Packaging helloworld\r\n> INFO:conda_build.build:Packaging helloworld\r\n> INFO conda_build.build:build(1571): Packaging helloworld\r\n> Packaging helloworld-1.0-py38_0\r\n> INFO:conda_build.build:Packaging helloworld-1.0-py38_0\r\n> INFO conda_build.build:bundle_conda(891): Packaging helloworld-1.0-py38_0\r\n> Error: Failed to render jinja template in C:\\Users\\mdellaviola\\Desktop\\PROJECTS\\_conda_issue\\recipe\\meta.yaml:\r\n> 'None' has no attribute 'name'\r\n\r\n\r\n### Expected Behavior\r\n\r\nmeta.yaml renders the same in build as when it is building the environment / the same as the explicit render command\r\n\r\n### Steps to Reproduce\r\n\r\nconda build on a package with C extensions and meta.yaml that uses attributes of ext_modules\r\n\r\nsample:\r\nhttps://github.com/Dellaviola/conda_jinja_parse_issue\r\n\r\n`conda build recipe`\r\n\r\n### Workaround\r\n\r\nNarrowed this down to load_setup_py_data in jinja_context.py\r\n\r\nthe function uses _load_setup_py_data.load_setup_py_data when building the environment which gives the expected behaviour\r\n\r\nHowever, when actually building the package, the function switches to reading a json created by some subprocess, this destroys the object that used to exist in ext_modules.\r\n\r\nreplacing the json with the first function results in a successful build\r\n\r\nNot sure if this causes problems elsewhere/if there is significance in loading the json rather than just re-parsing setup.py... \r\n\r\nrelevant code from jinja_context.py:\r\n\r\nhttps://github.com/conda/conda-build/blob/f12b838b827b2581925ca65f9a856e82dc467e0d/conda_build/jinja_context.py#L103-L145\r\n##### `Output of conda info`\r\n<!-- Between the ticks below, paste the output of 'conda info' -->\r\n```\r\n     active environment : None\r\n            shell level : 0\r\n       user config file : C:\\cygwin\\home\\.condarc\r\n populated config files : C:\\cygwin\\home\\.condarc\r\n          conda version : 4.7.12\r\n    conda-build version : 3.18.11\r\n         python version : 3.7.3.final.0\r\n       virtual packages :\r\n       base environment : C:\\Users\\mdellaviola\\AppData\\Local\\Continuum\\anaconda3  (writable)\r\n           channel URLs : \r\n                          https://conda.anaconda.org/conda-forge/win-64\r\n                          https://conda.anaconda.org/conda-forge/noarch\r\n                          https://repo.anaconda.com/pkgs/main/win-64\r\n                          https://repo.anaconda.com/pkgs/main/noarch\r\n                          https://repo.anaconda.com/pkgs/r/win-64\r\n                          https://repo.anaconda.com/pkgs/r/noarch\r\n                          https://repo.anaconda.com/pkgs/msys2/win-64\r\n                          https://repo.anaconda.com/pkgs/msys2/noarch\r\n          package cache : C:\\Users\\mdellaviola\\AppData\\Local\\Continuum\\anaconda3\\pkgs\r\n                          C:\\cygwin\\home\\.conda\\pkgs\r\n                          C:\\Users\\mdellaviola\\AppData\\Local\\conda\\conda\\pkgs\r\n       envs directories : C:\\Users\\mdellaviola\\AppData\\Local\\Continuum\\anaconda3\\envs\r\n                          C:\\cygwin\\home\\.conda\\envs\r\n                          C:\\Users\\mdellaviola\\AppData\\Local\\conda\\conda\\envs\r\n               platform : win-64\r\n             user-agent : conda/4.7.12 requests/2.22.0 CPython/3.7.3 Windows/10 Windows/10.0.17134\r\n          administrator : True\r\n             netrc file : None\r\n           offline mode : False\r\n```\r\n\r\nThanks,\r\n\r\n"
    }
]
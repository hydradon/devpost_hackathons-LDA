[
    {
        "url": "https://api.github.com/repos/MariusVanDerWijden/gpusnarks/issues/15",
        "repository_url": "https://api.github.com/repos/MariusVanDerWijden/gpusnarks",
        "labels_url": "https://api.github.com/repos/MariusVanDerWijden/gpusnarks/issues/15/labels{/name}",
        "comments_url": "https://api.github.com/repos/MariusVanDerWijden/gpusnarks/issues/15/comments",
        "events_url": "https://api.github.com/repos/MariusVanDerWijden/gpusnarks/issues/15/events",
        "html_url": "https://github.com/MariusVanDerWijden/gpusnarks/issues/15",
        "id": 552144329,
        "node_id": "MDU6SXNzdWU1NTIxNDQzMjk=",
        "number": 15,
        "title": "Questions about the test",
        "user": {
            "login": "SilverPoker",
            "id": 25503414,
            "node_id": "MDQ6VXNlcjI1NTAzNDE0",
            "avatar_url": "https://avatars0.githubusercontent.com/u/25503414?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/SilverPoker",
            "html_url": "https://github.com/SilverPoker",
            "followers_url": "https://api.github.com/users/SilverPoker/followers",
            "following_url": "https://api.github.com/users/SilverPoker/following{/other_user}",
            "gists_url": "https://api.github.com/users/SilverPoker/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/SilverPoker/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/SilverPoker/subscriptions",
            "organizations_url": "https://api.github.com/users/SilverPoker/orgs",
            "repos_url": "https://api.github.com/users/SilverPoker/repos",
            "events_url": "https://api.github.com/users/SilverPoker/events{/privacy}",
            "received_events_url": "https://api.github.com/users/SilverPoker/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 3,
        "created_at": "2020-01-20T08:27:28Z",
        "updated_at": "2020-01-21T14:50:05Z",
        "closed_at": null,
        "author_association": "NONE",
        "body": "Hi Marius, I have some questions about your code in `main.cpp` under the `test` folder\r\nThe function `test_multiexp()` has `_size` variable for setting different sizes, it works well using your initial code. However, when I changed the `_size` from 1<<18 to 1<<10. (Since 1<<10 needs shorter time), then the result doesn't match. I didn't find the reason why it mismatches, could you help me check why? The only change I made is changing \"1<<18\" to \"1<<10\" \r\nI found that, it's also wrong if `_size` is less than `1<<14` (like `1<<13, 1<<12, 1<<10`, and etc)\r\nThe error is below.\r\n```\r\nTEST MULTI_EXP\r\nField size: 96, Field count: 1024\r\nDevice FFT took 365\r\nHost FFT took 4\r\nMissmatch:\r\n3832513521, 4114774966, 396713337, 473830846, 2659081024, 1847764696, 4867011, 2310256010, 2653309445, 1284315027, 4070234458, 3507217355, 518278877, 1714081604, 1468053814, 3791946234, 981627699, 3593337843, 358896652, 3408152632, 1224301292, 1561265861, 1175238034, 39629,\r\n1218468944, 581656546, 1276554598, 4217098761, 339338039, 2296720683, 3362761856, 4177621453, 3482569788, 3598741332, 1672683522, 2895558447, 3948325594, 104581546, 909519637, 2054422881, 1545362927, 2025652791, 4237826918, 2431456373, 4175224577, 72776181, 119637567, 90433,\r\nfft_test: /home/silverpoker/github/gpusnarks/test/../cuda/device_field.h:212: static void fields::Scalar::testEquality(fields::Scalar, fields::Scalar): Assertion `!\"missmatch\"' failed.\r\nAborted (core dumped)\r\n```\r\n\r\n"
    },
    {
        "url": "https://api.github.com/repos/MariusVanDerWijden/gpusnarks/issues/10",
        "repository_url": "https://api.github.com/repos/MariusVanDerWijden/gpusnarks",
        "labels_url": "https://api.github.com/repos/MariusVanDerWijden/gpusnarks/issues/10/labels{/name}",
        "comments_url": "https://api.github.com/repos/MariusVanDerWijden/gpusnarks/issues/10/comments",
        "events_url": "https://api.github.com/repos/MariusVanDerWijden/gpusnarks/issues/10/events",
        "html_url": "https://github.com/MariusVanDerWijden/gpusnarks/issues/10",
        "id": 459640687,
        "node_id": "MDU6SXNzdWU0NTk2NDA2ODc=",
        "number": 10,
        "title": "Some Prior Art That May Be Of Interest",
        "user": {
            "login": "jkrauska",
            "id": 613548,
            "node_id": "MDQ6VXNlcjYxMzU0OA==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/613548?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jkrauska",
            "html_url": "https://github.com/jkrauska",
            "followers_url": "https://api.github.com/users/jkrauska/followers",
            "following_url": "https://api.github.com/users/jkrauska/following{/other_user}",
            "gists_url": "https://api.github.com/users/jkrauska/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jkrauska/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jkrauska/subscriptions",
            "organizations_url": "https://api.github.com/users/jkrauska/orgs",
            "repos_url": "https://api.github.com/users/jkrauska/repos",
            "events_url": "https://api.github.com/users/jkrauska/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jkrauska/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2019-06-24T01:08:24Z",
        "updated_at": "2019-06-24T09:04:11Z",
        "closed_at": null,
        "author_association": "NONE",
        "body": "Cool project -- wanted to point you to some tools you may or may not be aware of.\r\n\r\nNVLabs/CGBN\r\nCUDA Accelerated Multiple Precision Arithmetic (Big Num) using Cooperative Groups\r\nhttps://github.com/NVlabs/CGBN\r\n\r\ndata61/cuda-fixnum\r\nExtended-precision modular arithmetic library that targets CUDA.\r\nhttps://github.com/data61/cuda-fixnum\r\n\r\nmatter-labs/bella_cuda\r\nImplementation of various primitives for bellman using CUDA (WIP)\r\nhttps://github.com/matter-labs/belle_cuda\r\n\r\nIn addition, check out the challenge for GPU acceleration of zksnarks.\r\nhttps://codaprotocol.com/blog/snark-challenge.html\r\n"
    },
    {
        "url": "https://api.github.com/repos/MariusVanDerWijden/gpusnarks/issues/8",
        "repository_url": "https://api.github.com/repos/MariusVanDerWijden/gpusnarks",
        "labels_url": "https://api.github.com/repos/MariusVanDerWijden/gpusnarks/issues/8/labels{/name}",
        "comments_url": "https://api.github.com/repos/MariusVanDerWijden/gpusnarks/issues/8/comments",
        "events_url": "https://api.github.com/repos/MariusVanDerWijden/gpusnarks/issues/8/events",
        "html_url": "https://github.com/MariusVanDerWijden/gpusnarks/issues/8",
        "id": 444143400,
        "node_id": "MDU6SXNzdWU0NDQxNDM0MDA=",
        "number": 8,
        "title": "CUDA error: too many resources requested for launch",
        "user": {
            "login": "jkrauska",
            "id": 613548,
            "node_id": "MDQ6VXNlcjYxMzU0OA==",
            "avatar_url": "https://avatars0.githubusercontent.com/u/613548?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/jkrauska",
            "html_url": "https://github.com/jkrauska",
            "followers_url": "https://api.github.com/users/jkrauska/followers",
            "following_url": "https://api.github.com/users/jkrauska/following{/other_user}",
            "gists_url": "https://api.github.com/users/jkrauska/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/jkrauska/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/jkrauska/subscriptions",
            "organizations_url": "https://api.github.com/users/jkrauska/orgs",
            "repos_url": "https://api.github.com/users/jkrauska/repos",
            "events_url": "https://api.github.com/users/jkrauska/events{/privacy}",
            "received_events_url": "https://api.github.com/users/jkrauska/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 1,
        "created_at": "2019-05-14T21:57:23Z",
        "updated_at": "2019-05-15T09:27:05Z",
        "closed_at": null,
        "author_association": "NONE",
        "body": "Tried running on my hardware (2080), getting a cuda error.\r\n\r\n```\r\n~/src/gpusnarks/build/test$ ./fft_test\r\nField size: 32, Field count: 262144\r\nA address: 0x7f2ae4d54010 Last element: 0\r\nCUDA Devices: 1, Field size: 32, Field count: 262144\r\nthreads 65536, blocks 65, threads 1024\r\nCUDA error: too many resources requested for launch\r\n```\r\n\r\nsmi info\r\n```\r\n$ nvidia-smi\r\nTue May 14 21:55:38 2019\r\n+-----------------------------------------------------------------------------+\r\n| NVIDIA-SMI 418.67       Driver Version: 418.67       CUDA Version: 10.1     |\r\n|-------------------------------+----------------------+----------------------+\r\n| GPU  Name        Persistence-M| Bus-Id        Disp.A | Volatile Uncorr. ECC |\r\n| Fan  Temp  Perf  Pwr:Usage/Cap|         Memory-Usage | GPU-Util  Compute M. |\r\n|===============================+======================+======================|\r\n|   0  GeForce RTX 208...  Off  | 00000000:01:00.0 Off |                  N/A |\r\n| 17%   45C    P0     1W / 260W |      0MiB / 10989MiB |      0%      Default |\r\n+-------------------------------+----------------------+----------------------+\r\n\r\n+-----------------------------------------------------------------------------+\r\n| Processes:                                                       GPU Memory |\r\n|  GPU       PID   Type   Process name                             Usage      |\r\n|=============================================================================|\r\n|  No running processes found                                                 |\r\n+-----------------------------------------------------------------------------+\r\n```"
    },
    {
        "url": "https://api.github.com/repos/MariusVanDerWijden/gpusnarks/issues/5",
        "repository_url": "https://api.github.com/repos/MariusVanDerWijden/gpusnarks",
        "labels_url": "https://api.github.com/repos/MariusVanDerWijden/gpusnarks/issues/5/labels{/name}",
        "comments_url": "https://api.github.com/repos/MariusVanDerWijden/gpusnarks/issues/5/comments",
        "events_url": "https://api.github.com/repos/MariusVanDerWijden/gpusnarks/issues/5/events",
        "html_url": "https://github.com/MariusVanDerWijden/gpusnarks/issues/5",
        "id": 422389964,
        "node_id": "MDU6SXNzdWU0MjIzODk5NjQ=",
        "number": 5,
        "title": "Mixed radix FFT",
        "user": {
            "login": "imeckler",
            "id": 1253566,
            "node_id": "MDQ6VXNlcjEyNTM1NjY=",
            "avatar_url": "https://avatars0.githubusercontent.com/u/1253566?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/imeckler",
            "html_url": "https://github.com/imeckler",
            "followers_url": "https://api.github.com/users/imeckler/followers",
            "following_url": "https://api.github.com/users/imeckler/following{/other_user}",
            "gists_url": "https://api.github.com/users/imeckler/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/imeckler/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/imeckler/subscriptions",
            "organizations_url": "https://api.github.com/users/imeckler/orgs",
            "repos_url": "https://api.github.com/users/imeckler/repos",
            "events_url": "https://api.github.com/users/imeckler/events{/privacy}",
            "received_events_url": "https://api.github.com/users/imeckler/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2019-03-18T19:15:50Z",
        "updated_at": "2019-03-18T19:15:50Z",
        "closed_at": null,
        "author_association": "NONE",
        "body": "First of all, incredible work. This is an enormous contribution in the path toward making zk-SNARKs super practical. Now on to the issue :)\r\n\r\nFor one curves in [Coda](https://github.com/CodaProtocol/coda), we actually perform a \"mixed-radix\" FFT as opposed to a binary FFT. The idea is that for the field Fr, we have r - 1 = 2^n * 5^m * R, and so you can do larger FFTs (i.e., handle larger constraint systems) by decomposing into 5 sub-problems up to `m` times before decomposing into 2 sub-problems as in the binary FFT.\r\n\r\nWe have [code for this here](https://github.com/o1-labs/snarky/blob/master/src/camlsnark_c/libsnark-caml/depends/libfqfft/libfqfft/evaluation_domain/domains/basic_radix2_domain_aux.tcc#L45). Do you think it would be possible to support this in the CUDA implementation? Happy to help by contributing code etc.\r\n\r\nBy the way -- I sent you a message on LinkedIn, have a few things I'd love to talk about. If interested, feel free to mail me at izaak@o1labs.org\r\n"
    },
    {
        "url": "https://api.github.com/repos/MariusVanDerWijden/gpusnarks/issues/3",
        "repository_url": "https://api.github.com/repos/MariusVanDerWijden/gpusnarks",
        "labels_url": "https://api.github.com/repos/MariusVanDerWijden/gpusnarks/issues/3/labels{/name}",
        "comments_url": "https://api.github.com/repos/MariusVanDerWijden/gpusnarks/issues/3/comments",
        "events_url": "https://api.github.com/repos/MariusVanDerWijden/gpusnarks/issues/3/events",
        "html_url": "https://github.com/MariusVanDerWijden/gpusnarks/issues/3",
        "id": 419229681,
        "node_id": "MDU6SXNzdWU0MTkyMjk2ODE=",
        "number": 3,
        "title": "Non-determinism",
        "user": {
            "login": "MariusVanDerWijden",
            "id": 16664698,
            "node_id": "MDQ6VXNlcjE2NjY0Njk4",
            "avatar_url": "https://avatars0.githubusercontent.com/u/16664698?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MariusVanDerWijden",
            "html_url": "https://github.com/MariusVanDerWijden",
            "followers_url": "https://api.github.com/users/MariusVanDerWijden/followers",
            "following_url": "https://api.github.com/users/MariusVanDerWijden/following{/other_user}",
            "gists_url": "https://api.github.com/users/MariusVanDerWijden/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/MariusVanDerWijden/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/MariusVanDerWijden/subscriptions",
            "organizations_url": "https://api.github.com/users/MariusVanDerWijden/orgs",
            "repos_url": "https://api.github.com/users/MariusVanDerWijden/repos",
            "events_url": "https://api.github.com/users/MariusVanDerWijden/events{/privacy}",
            "received_events_url": "https://api.github.com/users/MariusVanDerWijden/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2019-03-10T20:40:19Z",
        "updated_at": "2019-03-10T20:51:07Z",
        "closed_at": null,
        "author_association": "OWNER",
        "body": "I've found out that the current libfqfft calculates different fft's depending on the amount of threads it is run in. E.g. the following produces two different outputs.\r\n```\r\nomp_set_num_threads( 4 );\r\n_basic_parallel_radix2_FFT_inner<int> (v1, 5678, 2, 1);\r\nomp_set_num_threads( 8 );\r\n_basic_parallel_radix2_FFT_inner<int> (v2, 5678, 3, 1);\r\nassert(v1 == v2);\r\n```\r\n\r\nThe GPU implementation suffers from the same problem.\r\nI think it has something to do with the padding that is applied here https://github.com/MariusVanDerWijden/gpusnark/blob/4bf8292ea79e05b9404f2742e83a587a32a0982e/fft_host.h#L71\r\n"
    }
]
[
    {
        "url": "https://api.github.com/repos/taifur20/intelligent-door-lock/issues/2",
        "repository_url": "https://api.github.com/repos/taifur20/intelligent-door-lock",
        "labels_url": "https://api.github.com/repos/taifur20/intelligent-door-lock/issues/2/labels{/name}",
        "comments_url": "https://api.github.com/repos/taifur20/intelligent-door-lock/issues/2/comments",
        "events_url": "https://api.github.com/repos/taifur20/intelligent-door-lock/issues/2/events",
        "html_url": "https://github.com/taifur20/intelligent-door-lock/issues/2",
        "id": 408522891,
        "node_id": "MDU6SXNzdWU0MDg1MjI4OTE=",
        "number": 2,
        "title": "Error in add_guest function in Lamda:",
        "user": {
            "login": "vijayrraut",
            "id": 38343941,
            "node_id": "MDQ6VXNlcjM4MzQzOTQx",
            "avatar_url": "https://avatars0.githubusercontent.com/u/38343941?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/vijayrraut",
            "html_url": "https://github.com/vijayrraut",
            "followers_url": "https://api.github.com/users/vijayrraut/followers",
            "following_url": "https://api.github.com/users/vijayrraut/following{/other_user}",
            "gists_url": "https://api.github.com/users/vijayrraut/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/vijayrraut/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/vijayrraut/subscriptions",
            "organizations_url": "https://api.github.com/users/vijayrraut/orgs",
            "repos_url": "https://api.github.com/users/vijayrraut/repos",
            "events_url": "https://api.github.com/users/vijayrraut/events{/privacy}",
            "received_events_url": "https://api.github.com/users/vijayrraut/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2019-02-10T10:49:07Z",
        "updated_at": "2019-02-10T10:49:07Z",
        "closed_at": null,
        "author_association": "NONE",
        "body": "I am getting below error on adding add_guest function in Lambda:\r\n\r\n'fullname': KeyError\r\nTraceback (most recent call last):\r\nFile \"/var/task/lambda_function.py\", line 92, in lambda_handler\r\nreturn on_intent(event['request'], event['session'])\r\nFile \"/var/task/lambda_function.py\", line 136, in on_intent\r\nreturn add_guest(intent, session)\r\nFile \"/var/task/lambda_function.py\", line 195, in add_guest\r\nfor record in index_faces(BUCKET, KEY, COLLECTION, IMAGE_ID):\r\nFile \"/var/task/lambda_function.py\", line 58, in index_faces\r\npersonFullName = ret['Metadata']['fullname']\r\nKeyError: 'fullname'\r\n\r\n\r\nLambda functions:\r\n\r\ndef update_index(tableName,faceId, fullName):\r\n\tresponse = dynamodb.put_item(\r\n\tTableName=tableName,\r\n\tItem={\r\n\t\t'RekognitionId': {'S': faceId},\r\n\t\t'FullName': {'S': fullName}\r\n\t\t}\r\n\t)\r\n\t#print(response)\r\n\r\n\r\ndef index_faces(bucket, key, collection_id, image_id=None, attributes=(), region=\"us-east-1\"):\r\n\trekognition = boto3.client(\"rekognition\", region)\r\n\tresponse = rekognition.index_faces(\r\n\t\tImage={\r\n\t\t\t\"S3Object\": {\r\n\t\t\t\t\"Bucket\": bucket,\r\n\t\t\t\t\"Name\": key,\r\n\t\t\t}\r\n\t\t},\r\n\t\tCollectionId=collection_id,\r\n\t\tExternalImageId=\"vijay\",\r\n\t    DetectionAttributes=attributes,\r\n\t)\r\n\tif response['ResponseMetadata']['HTTPStatusCode'] == 200:\r\n\t\tfaceId = response['FaceRecords'][0]['Face']['FaceId']\r\n\t\tprint(faceId)\r\n\t\tret = s3.head_object(Bucket=bucket,Key=key)\r\n\t\tpersonFullName = ret['Metadata']['fullname']\r\n\t\t#print(ret)\r\n\t\tprint(personFullName)\r\n\t\tupdate_index('vijay_visitor_collection',faceId,personFullName)\r\n\r\n\r\ndef add_guest(intent, session):\r\n    \"\"\" If we wanted to initialize the session to have some attributes we could\r\n    add those here\r\n    \"\"\"\r\n    for record in index_faces(BUCKET, KEY, COLLECTION, IMAGE_ID):\r\n\t    face = record['Face']\r\n    #face = record['Face']\r\n    session_attributes = {}\r\n    card_title = \"Adding Guest\"\r\n    speech_output = \"The guest's details is stored for next time.\"\r\n    \r\n    # If the user either does not reply to the welcome message or says something\r\n    # that is not understood, they will be prompted again with this text.\r\n    reprompt_text = \"\"\r\n    should_end_session = True\r\n    return build_response(session_attributes, build_speechlet_response(\r\n        card_title, speech_output, reprompt_text, should_end_session))\r\n"
    },
    {
        "url": "https://api.github.com/repos/taifur20/intelligent-door-lock/issues/1",
        "repository_url": "https://api.github.com/repos/taifur20/intelligent-door-lock",
        "labels_url": "https://api.github.com/repos/taifur20/intelligent-door-lock/issues/1/labels{/name}",
        "comments_url": "https://api.github.com/repos/taifur20/intelligent-door-lock/issues/1/comments",
        "events_url": "https://api.github.com/repos/taifur20/intelligent-door-lock/issues/1/events",
        "html_url": "https://github.com/taifur20/intelligent-door-lock/issues/1",
        "id": 379242344,
        "node_id": "MDU6SXNzdWUzNzkyNDIzNDQ=",
        "number": 1,
        "title": "Could not connect to the endpoint URL: \"http://rekognition.ap-southeast-1.amazonaws.com/\"",
        "user": {
            "login": "trungdiep0104",
            "id": 40496572,
            "node_id": "MDQ6VXNlcjQwNDk2NTcy",
            "avatar_url": "https://avatars2.githubusercontent.com/u/40496572?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/trungdiep0104",
            "html_url": "https://github.com/trungdiep0104",
            "followers_url": "https://api.github.com/users/trungdiep0104/followers",
            "following_url": "https://api.github.com/users/trungdiep0104/following{/other_user}",
            "gists_url": "https://api.github.com/users/trungdiep0104/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/trungdiep0104/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/trungdiep0104/subscriptions",
            "organizations_url": "https://api.github.com/users/trungdiep0104/orgs",
            "repos_url": "https://api.github.com/users/trungdiep0104/repos",
            "events_url": "https://api.github.com/users/trungdiep0104/events{/privacy}",
            "received_events_url": "https://api.github.com/users/trungdiep0104/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 0,
        "created_at": "2018-11-09T16:57:57Z",
        "updated_at": "2018-11-09T16:57:57Z",
        "closed_at": null,
        "author_association": "NONE",
        "body": "Hello taifur, you project is very great. I really wanna make this one for my home. But, in the process, I find out some difficult and I don't know how to fix it. When I come to the step \"aws rekognition create-collection --collection-id guest_collection --region ap-southeast-1\"   They said that Could not connect to the endpoint URL: \"http://rekognition.ap-southeast-1.amazonaws.com/\". Please help me. If you have free time, please make the tutorial video and uploading it to youtube, your project is amazing and I think a lots of people will need it. Thank you.\r\n![2018-11-09-114147_1024x768_scrot](https://user-images.githubusercontent.com/40496572/48276694-3b315800-e47b-11e8-9f02-3c15c959e8f1.png)\r\n"
    }
]
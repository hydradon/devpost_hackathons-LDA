[
    {
        "url": "https://api.github.com/repos/davidwkaiser/walkoff/issues/12",
        "repository_url": "https://api.github.com/repos/davidwkaiser/walkoff",
        "labels_url": "https://api.github.com/repos/davidwkaiser/walkoff/issues/12/labels{/name}",
        "comments_url": "https://api.github.com/repos/davidwkaiser/walkoff/issues/12/comments",
        "events_url": "https://api.github.com/repos/davidwkaiser/walkoff/issues/12/events",
        "html_url": "https://github.com/davidwkaiser/walkoff/issues/12",
        "id": 224470002,
        "node_id": "MDU6SXNzdWUyMjQ0NzAwMDI=",
        "number": 12,
        "title": "Baserunners aren't calculated correctly",
        "user": {
            "login": "chagan",
            "id": 1192715,
            "node_id": "MDQ6VXNlcjExOTI3MTU=",
            "avatar_url": "https://avatars0.githubusercontent.com/u/1192715?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/chagan",
            "html_url": "https://github.com/chagan",
            "followers_url": "https://api.github.com/users/chagan/followers",
            "following_url": "https://api.github.com/users/chagan/following{/other_user}",
            "gists_url": "https://api.github.com/users/chagan/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/chagan/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/chagan/subscriptions",
            "organizations_url": "https://api.github.com/users/chagan/orgs",
            "repos_url": "https://api.github.com/users/chagan/repos",
            "events_url": "https://api.github.com/users/chagan/events{/privacy}",
            "received_events_url": "https://api.github.com/users/chagan/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 2,
        "created_at": "2017-04-26T13:34:14Z",
        "updated_at": "2017-05-04T00:04:49Z",
        "closed_at": null,
        "author_association": "COLLABORATOR",
        "body": "Noticed a game last night where there isn't a walkoff tweet when a team triggers the state by adding baserunners. The [Cardinals were down 1, bottom 9](https://www.mlb.com/gameday/blue-jays-vs-cardinals/2017/04/25/490403#game_state=final,game_tab=play-by-play,game=490403), got a runner on and there wasn't a tweet. But when the run came around to score, a [tweet was sent](https://twitter.com/walkoffbot/status/857071382332682240).\r\n\r\nHaven't dug into this at all, not sure if it's an issue with how the state is calculated or an issue with the mlbgameday gem. If it's not supplying baserunners correctly, that would throw it off."
    },
    {
        "url": "https://api.github.com/repos/davidwkaiser/walkoff/issues/11",
        "repository_url": "https://api.github.com/repos/davidwkaiser/walkoff",
        "labels_url": "https://api.github.com/repos/davidwkaiser/walkoff/issues/11/labels{/name}",
        "comments_url": "https://api.github.com/repos/davidwkaiser/walkoff/issues/11/comments",
        "events_url": "https://api.github.com/repos/davidwkaiser/walkoff/issues/11/events",
        "html_url": "https://github.com/davidwkaiser/walkoff/issues/11",
        "id": 217434957,
        "node_id": "MDU6SXNzdWUyMTc0MzQ5NTc=",
        "number": 11,
        "title": "Can't run migration on fresh install",
        "user": {
            "login": "chagan",
            "id": 1192715,
            "node_id": "MDQ6VXNlcjExOTI3MTU=",
            "avatar_url": "https://avatars0.githubusercontent.com/u/1192715?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/chagan",
            "html_url": "https://github.com/chagan",
            "followers_url": "https://api.github.com/users/chagan/followers",
            "following_url": "https://api.github.com/users/chagan/following{/other_user}",
            "gists_url": "https://api.github.com/users/chagan/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/chagan/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/chagan/subscriptions",
            "organizations_url": "https://api.github.com/users/chagan/orgs",
            "repos_url": "https://api.github.com/users/chagan/repos",
            "events_url": "https://api.github.com/users/chagan/events{/privacy}",
            "received_events_url": "https://api.github.com/users/chagan/received_events",
            "type": "User",
            "site_admin": false
        },
        "labels": [],
        "state": "open",
        "locked": false,
        "assignee": null,
        "assignees": [],
        "milestone": null,
        "comments": 13,
        "created_at": "2017-03-28T03:05:13Z",
        "updated_at": "2017-04-01T19:35:55Z",
        "closed_at": null,
        "author_association": "COLLABORATOR",
        "body": "Ok, so I ran into the same problem @davidwkaiser did while trying to run the app locally. After playing around a bit, looks like the issue is [line 7 in scheduler.rb](https://github.com/davidwkaiser/walkoff/blob/master/config/initializers/scheduler.rb#L7). \r\n\r\n`games = Game.where.not(state: \"POSTGAME\")`\r\n\r\nI commented that out and ran into a different error, but the games reference problem went away. I think maybe the scheduler is running before the migrations are complete or something? Really don't know enough about how rails works to say. But that's where the problem is. Any thoughts, @H12 ?"
    }
]
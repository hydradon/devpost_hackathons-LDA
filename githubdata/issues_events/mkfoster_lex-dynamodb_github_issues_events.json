[
    {
        "id": 2754265426,
        "node_id": "MDEyOkxhYmVsZWRFdmVudDI3NTQyNjU0MjY=",
        "url": "https://api.github.com/repos/MkFoster/lex-dynamodb/issues/events/2754265426",
        "actor": {
            "login": "dependabot[bot]",
            "id": 49699333,
            "node_id": "MDM6Qm90NDk2OTkzMzM=",
            "avatar_url": "https://avatars0.githubusercontent.com/in/29110?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/dependabot%5Bbot%5D",
            "html_url": "https://github.com/apps/dependabot",
            "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers",
            "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}",
            "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions",
            "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs",
            "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos",
            "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}",
            "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events",
            "type": "Bot",
            "site_admin": false
        },
        "event": "labeled",
        "commit_id": null,
        "commit_url": null,
        "created_at": "2019-10-30T00:40:57Z",
        "label": {
            "name": "dependencies",
            "color": "0366d6"
        },
        "issue": {
            "url": "https://api.github.com/repos/MkFoster/lex-dynamodb/issues/2",
            "repository_url": "https://api.github.com/repos/MkFoster/lex-dynamodb",
            "labels_url": "https://api.github.com/repos/MkFoster/lex-dynamodb/issues/2/labels{/name}",
            "comments_url": "https://api.github.com/repos/MkFoster/lex-dynamodb/issues/2/comments",
            "events_url": "https://api.github.com/repos/MkFoster/lex-dynamodb/issues/2/events",
            "html_url": "https://github.com/MkFoster/lex-dynamodb/pull/2",
            "id": 514319587,
            "node_id": "MDExOlB1bGxSZXF1ZXN0MzMzOTU4MTkx",
            "number": 2,
            "title": "Bump axios from 0.18.0 to 0.18.1 in /log-intent",
            "user": {
                "login": "dependabot[bot]",
                "id": 49699333,
                "node_id": "MDM6Qm90NDk2OTkzMzM=",
                "avatar_url": "https://avatars0.githubusercontent.com/in/29110?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/dependabot%5Bbot%5D",
                "html_url": "https://github.com/apps/dependabot",
                "followers_url": "https://api.github.com/users/dependabot%5Bbot%5D/followers",
                "following_url": "https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}",
                "gists_url": "https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/dependabot%5Bbot%5D/subscriptions",
                "organizations_url": "https://api.github.com/users/dependabot%5Bbot%5D/orgs",
                "repos_url": "https://api.github.com/users/dependabot%5Bbot%5D/repos",
                "events_url": "https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}",
                "received_events_url": "https://api.github.com/users/dependabot%5Bbot%5D/received_events",
                "type": "Bot",
                "site_admin": false
            },
            "labels": [
                {
                    "id": 1646211200,
                    "node_id": "MDU6TGFiZWwxNjQ2MjExMjAw",
                    "url": "https://api.github.com/repos/MkFoster/lex-dynamodb/labels/dependencies",
                    "name": "dependencies",
                    "color": "0366d6",
                    "default": false,
                    "description": "Pull requests that update a dependency file"
                }
            ],
            "state": "open",
            "locked": false,
            "assignee": null,
            "assignees": [],
            "milestone": null,
            "comments": 0,
            "created_at": "2019-10-30T00:40:56Z",
            "updated_at": "2019-10-30T00:40:57Z",
            "closed_at": null,
            "author_association": "NONE",
            "pull_request": {
                "url": "https://api.github.com/repos/MkFoster/lex-dynamodb/pulls/2",
                "html_url": "https://github.com/MkFoster/lex-dynamodb/pull/2",
                "diff_url": "https://github.com/MkFoster/lex-dynamodb/pull/2.diff",
                "patch_url": "https://github.com/MkFoster/lex-dynamodb/pull/2.patch"
            },
            "body": "Bumps [axios](https://github.com/axios/axios) from 0.18.0 to 0.18.1.\n<details>\n<summary>Release notes</summary>\n\n*Sourced from [axios's releases](https://github.com/axios/axios/releases).*\n\n> ## v0.18.1\n> Security Fix:\r\n> \r\n> - Destroy stream on exceeding maxContentLength (fixes [#1098](https://github-redirect.dependabot.com/axios/axios/issues/1098)) ([#1485](https://github-redirect.dependabot.com/axios/axios/issues/1485)) - Gadzhi Gadzhiev\r\n</details>\n<details>\n<summary>Changelog</summary>\n\n*Sourced from [axios's changelog](https://github.com/axios/axios/blob/v0.18.1/CHANGELOG.md).*\n\n> ### 0.18.1 (May 31, 2019)\n> \n> Security Fix:\n> \n> - Destroy stream on exceeding maxContentLength (fixes [#1098](https://github-redirect.dependabot.com/axios/axios/issues/1098)) ([#1485](https://github-redirect.dependabot.com/axios/axios/pull/1485)) - Gadzhi Gadzhiev\n</details>\n<details>\n<summary>Commits</summary>\n\n- [`face016`](https://github.com/axios/axios/commit/face0165de613696d10b1fd2a0e2f7b3852fa018) Releasing 0.18.1\n- [`0628763`](https://github.com/axios/axios/commit/062876378b2e46aa12cb084dce56dddde1f8172c) Update Changelog for release (0.18.1)\n- [`dc9b29c`](https://github.com/axios/axios/commit/dc9b29c3411f160009570d369013585693deb154) adjust README to match IE support\n- [`16326d5`](https://github.com/axios/axios/commit/16326d5fe93bb2bf9d793fe04786e3198f298429) Remove usages of isOldIE in tests\n- [`5a4228b`](https://github.com/axios/axios/commit/5a4228b9f82ef9dfb695e10c95d237f4b7afdc14) Remove IE10 launcher from karma config\n- [`695b5f7`](https://github.com/axios/axios/commit/695b5f7241d7a3b339a768e3d04cfa5d1efd758e) Remove isOldIE check in tests\n- [`e314ab0`](https://github.com/axios/axios/commit/e314ab00b48be01283f4c48fc2ecaef73fac7c85) Remove HTTP 1223 handling\n- [`7efa822`](https://github.com/axios/axios/commit/7efa822b2e8ac47c54f3eafc7fb0c6b52ffaa0c6) Remove btoa polyfill tests\n- [`f3cdcc7`](https://github.com/axios/axios/commit/f3cdcc7f0125a069998bb3c74337fea99dd98f7b) Delete btoa polyfill\n- [`efc0b58`](https://github.com/axios/axios/commit/efc0b581c828fe0e5e6d39a40d65d1c73181e05c) Remove ie8/9 special CORS treatment and btoa polyfill\n- Additional commits viewable in [compare view](https://github.com/axios/axios/compare/v0.18.0...v0.18.1)\n</details>\n<br />\n\n[![Dependabot compatibility score](https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=axios&package-manager=npm_and_yarn&previous-version=0.18.0&new-version=0.18.1)](https://help.github.com/articles/configuring-automated-security-fixes)\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting `@dependabot rebase`.\n\n[//]: # (dependabot-automerge-start)\n[//]: # (dependabot-automerge-end)\n\n---\n\n<details>\n<summary>Dependabot commands and options</summary>\n<br />\n\nYou can trigger Dependabot actions by commenting on this PR:\n- `@dependabot rebase` will rebase this PR\n- `@dependabot recreate` will recreate this PR, overwriting any edits that have been made to it\n- `@dependabot merge` will merge this PR after your CI passes on it\n- `@dependabot squash and merge` will squash and merge this PR after your CI passes on it\n- `@dependabot cancel merge` will cancel a previously requested merge and block automerging\n- `@dependabot reopen` will reopen this PR if it is closed\n- `@dependabot ignore this [patch|minor|major] version` will close this PR and stop Dependabot creating any more for this minor/major version (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot ignore this dependency` will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n- `@dependabot use these labels` will set the current labels as the default for future PRs for this repo and language\n- `@dependabot use these reviewers` will set the current reviewers as the default for future PRs for this repo and language\n- `@dependabot use these assignees` will set the current assignees as the default for future PRs for this repo and language\n- `@dependabot use this milestone` will set the current milestone as the default for future PRs for this repo and language\n\nYou can disable automated security fix PRs for this repo from the [Security Alerts page](https://github.com/MkFoster/lex-dynamodb/network/alerts).\n\n</details>"
        }
    },
    {
        "id": 2562285293,
        "node_id": "MDExOkNsb3NlZEV2ZW50MjU2MjI4NTI5Mw==",
        "url": "https://api.github.com/repos/MkFoster/lex-dynamodb/issues/events/2562285293",
        "actor": {
            "login": "MkFoster",
            "id": 6801366,
            "node_id": "MDQ6VXNlcjY4MDEzNjY=",
            "avatar_url": "https://avatars2.githubusercontent.com/u/6801366?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/MkFoster",
            "html_url": "https://github.com/MkFoster",
            "followers_url": "https://api.github.com/users/MkFoster/followers",
            "following_url": "https://api.github.com/users/MkFoster/following{/other_user}",
            "gists_url": "https://api.github.com/users/MkFoster/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/MkFoster/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/MkFoster/subscriptions",
            "organizations_url": "https://api.github.com/users/MkFoster/orgs",
            "repos_url": "https://api.github.com/users/MkFoster/repos",
            "events_url": "https://api.github.com/users/MkFoster/events{/privacy}",
            "received_events_url": "https://api.github.com/users/MkFoster/received_events",
            "type": "User",
            "site_admin": false
        },
        "event": "closed",
        "commit_id": null,
        "commit_url": null,
        "created_at": "2019-08-16T13:21:03Z",
        "issue": {
            "url": "https://api.github.com/repos/MkFoster/lex-dynamodb/issues/1",
            "repository_url": "https://api.github.com/repos/MkFoster/lex-dynamodb",
            "labels_url": "https://api.github.com/repos/MkFoster/lex-dynamodb/issues/1/labels{/name}",
            "comments_url": "https://api.github.com/repos/MkFoster/lex-dynamodb/issues/1/comments",
            "events_url": "https://api.github.com/repos/MkFoster/lex-dynamodb/issues/1/events",
            "html_url": "https://github.com/MkFoster/lex-dynamodb/issues/1",
            "id": 479391741,
            "node_id": "MDU6SXNzdWU0NzkzOTE3NDE=",
            "number": 1,
            "title": "Help with readme, index.js and Lambda Response error.",
            "user": {
                "login": "CosmicDevs",
                "id": 34301307,
                "node_id": "MDQ6VXNlcjM0MzAxMzA3",
                "avatar_url": "https://avatars2.githubusercontent.com/u/34301307?v=4",
                "gravatar_id": "",
                "url": "https://api.github.com/users/CosmicDevs",
                "html_url": "https://github.com/CosmicDevs",
                "followers_url": "https://api.github.com/users/CosmicDevs/followers",
                "following_url": "https://api.github.com/users/CosmicDevs/following{/other_user}",
                "gists_url": "https://api.github.com/users/CosmicDevs/gists{/gist_id}",
                "starred_url": "https://api.github.com/users/CosmicDevs/starred{/owner}{/repo}",
                "subscriptions_url": "https://api.github.com/users/CosmicDevs/subscriptions",
                "organizations_url": "https://api.github.com/users/CosmicDevs/orgs",
                "repos_url": "https://api.github.com/users/CosmicDevs/repos",
                "events_url": "https://api.github.com/users/CosmicDevs/events{/privacy}",
                "received_events_url": "https://api.github.com/users/CosmicDevs/received_events",
                "type": "User",
                "site_admin": false
            },
            "labels": [],
            "state": "closed",
            "locked": false,
            "assignee": null,
            "assignees": [],
            "milestone": null,
            "comments": 1,
            "created_at": "2019-08-11T17:25:42Z",
            "updated_at": "2019-08-16T13:21:03Z",
            "closed_at": "2019-08-16T13:21:03Z",
            "author_association": "NONE",
            "body": "Hi Mark,\r\n\r\nThis looks really useful for my project but I'm struggling to get it working as I'm not clear from the readme what lines in the index.js need updating and in what format. \r\n\r\nI've updated lines 6, 8 and 31 with my info but when I invoke the Lambda from my bot I get:\r\n\"An error has occurred: Invalid Lambda Response: Received error response from Lambda: Handled\"\r\n\r\nUpdated Lambda index.js below if that helps.\r\n\r\nAny help would be appreciated.\r\n\r\n\r\n```\r\n'use strict';\r\nconst aws = require('aws-sdk');\r\nconst uuidv4 = require('uuid/v4');\r\nconst dynamodb = new aws.DynamoDB();\r\n// Update the Table name below\r\nconst tableName = process.env.LexLog;\r\n//const tableName = 'LexLog';\r\nconst primaryKey = process.env.LexLogId;\r\n//const primaryKey = 'LexLogId';\r\n\r\n/**\r\n * This function expects Lex events and logs intents and\r\n * session variables to DynamoDB.\r\n * \r\n * Incoming events are routed based on intent.\r\n */\r\nexports.handler = (event, context, callback) => {\r\n    try {\r\n        // By default, treat the user request as coming from the America/New_York time zone.\r\n        process.env.TZ = 'America/New_York';\r\n        console.log(`event.bot.name=${event.bot.name}`);\r\n        \r\n        // Output the event in a JSON format we can easily copy and paste\r\n        // from the Cloudwatch logs to facilitate debugging.\r\n        console.log(JSON.stringify(event, null, 4));\r\n\r\n        /**\r\n         * Uncomment this if statement and populate with your Lex bot name, alias and / or version as\r\n         * a sanity check to prevent invoking this Lambda function from an undesired source.\r\n         */\r\n        if (event.bot.name !== 'DearDiary') {\r\n            callback('Invalid Bot Name');\r\n        }\r\n\r\n        // Get the intent name.  Intent names should match\r\n        // what you see in the AWS Lex Console\r\n        const intentName = event.currentIntent.name;\r\n\r\n        // Dispatch to the correct intent handler\r\n        if (intentName === 'Ping') {\r\n            return ping(event, callback);\r\n        } else if (intentName === 'LogIntent') {\r\n            return logIntent(event, callback);\r\n        }\r\n        // Handle unknown intents\r\n        throw new Error(`Intent with name ${intentName} not supported`);\r\n    } catch (err) {\r\n        callback(err);\r\n    }\r\n};\r\n\r\n/**\r\n * This provides a quick way to check connectivity\r\n * between Lex and this function.\r\n */\r\nfunction ping(event, callback) {\r\n    let callbackObj = {\r\n        dialogAction: {\r\n            type: 'Close',\r\n            fulfillmentState: \"Fulfilled\",\r\n            message: {\r\n                contentType: \"PlainText\",\r\n                content: \"Pong!\"\r\n            }\r\n        }\r\n    };\r\n    callback(null, callbackObj);\r\n}\r\n\r\n/**\r\n * This is to hanlde the \"LogIntent\" intent.\r\n * Any intent phrases from LogIntent that Lex matches will be\r\n * logged here.\r\n * \r\n * @param {} event \r\n * @param {*} callback \r\n */\r\nfunction logIntent(event, callback) {\r\n    try {\r\n        let docClient = new aws.DynamoDB.DocumentClient({region: process.env.AWS_REGION});\r\n        \r\n        // Load the data we need to save from the input event into an object\r\n        let item = {\r\n            \"currentIntent\": event.currentIntent,\r\n            \"inputTranscript\": event.inputTranscript,\r\n            \"requestAttributes\": event.requestAttributes,\r\n            \"sessionAttributes\": event.sessionAttributes\r\n        };\r\n        item[primaryKey] = uuidv4();\r\n        let params = {\r\n            TableName: tableName,\r\n            Item: item\r\n        };\r\n        \r\n        // Note the data object we are sending to DynamoDB\r\n        console.log(JSON.stringify(params, null, 4));\r\n\r\n        console.log('Putting to DynamoDB');\r\n        docClient.put(params, function(err, data) {\r\n            if(err) {\r\n                console.log('Error occurred on DynamoDB put.');\r\n                console.log(err);\r\n                callback(err);\r\n            } else {\r\n                let callbackObj = {\r\n                    dialogAction: {\r\n                        type: 'Close',\r\n                        fulfillmentState: \"Fulfilled\",\r\n                        message: {\r\n                            contentType: \"PlainText\",\r\n                            content: \"Logged!\"\r\n                        }\r\n                    }\r\n                };\r\n                // Save the response we are sending back to Lex in\r\n                // the Cloudwatch logs.\r\n                console.log('Logged!');\r\n                console.log(JSON.stringify(callbackObj, null, 4));\r\n                callback(null, callbackObj);\r\n            }\r\n        });\r\n    } catch (err) {\r\n        callback(err);\r\n    }\r\n}\r\n```"
        }
    }
]
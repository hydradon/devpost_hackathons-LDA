[
    {
        "url": "https://api.github.com/repos/alexwgraves/ascriber/pulls/comments/137928559",
        "pull_request_review_id": 61664692,
        "id": 137928559,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNzkyODU1OQ==",
        "diff_hunk": "@@ -7,4 +10,13 @@ class ApplicationController < Sinatra::Base\n   get '/' do\n     erb :'index.html'\n   end\n+\n+  post '/' do",
        "path": "app/controllers/application_controller.rb",
        "position": 13,
        "original_position": 13,
        "commit_id": "420582fe12a992a2e8a2c5825a50bf9fdde2e3a7",
        "original_commit_id": "420582fe12a992a2e8a2c5825a50bf9fdde2e3a7",
        "user": {
            "login": "afischer",
            "id": 5422397,
            "node_id": "MDQ6VXNlcjU0MjIzOTc=",
            "avatar_url": "https://avatars1.githubusercontent.com/u/5422397?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/afischer",
            "html_url": "https://github.com/afischer",
            "followers_url": "https://api.github.com/users/afischer/followers",
            "following_url": "https://api.github.com/users/afischer/following{/other_user}",
            "gists_url": "https://api.github.com/users/afischer/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/afischer/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/afischer/subscriptions",
            "organizations_url": "https://api.github.com/users/afischer/orgs",
            "repos_url": "https://api.github.com/users/afischer/repos",
            "events_url": "https://api.github.com/users/afischer/events{/privacy}",
            "received_events_url": "https://api.github.com/users/afischer/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "\u00af\\\\\\_(\u30c4)\\_/\u00af we should probably, like, pick some endpoints for a reasonable API design, but this is fine for now.\r\n\r\nI did the same thing on my branch lol",
        "created_at": "2017-09-09T15:14:18Z",
        "updated_at": "2017-09-09T15:17:49Z",
        "html_url": "https://github.com/alexwgraves/ascriber/pull/1#discussion_r137928559",
        "pull_request_url": "https://api.github.com/repos/alexwgraves/ascriber/pulls/1",
        "author_association": "COLLABORATOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/alexwgraves/ascriber/pulls/comments/137928559"
            },
            "html": {
                "href": "https://github.com/alexwgraves/ascriber/pull/1#discussion_r137928559"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/alexwgraves/ascriber/pulls/1"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/alexwgraves/ascriber/pulls/comments/137928600",
        "pull_request_review_id": 61664692,
        "id": 137928600,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNzkyODYwMA==",
        "diff_hunk": "@@ -0,0 +1,53 @@\n+require 'nokogiri'\n+require 'open-uri'\n+require 'uri'\n+\n+# creates a scraper object to scrape all images within the given website\n+class Scraper",
        "path": "scripts/scraper.rb",
        "position": 6,
        "original_position": 6,
        "commit_id": "420582fe12a992a2e8a2c5825a50bf9fdde2e3a7",
        "original_commit_id": "420582fe12a992a2e8a2c5825a50bf9fdde2e3a7",
        "user": {
            "login": "afischer",
            "id": 5422397,
            "node_id": "MDQ6VXNlcjU0MjIzOTc=",
            "avatar_url": "https://avatars1.githubusercontent.com/u/5422397?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/afischer",
            "html_url": "https://github.com/afischer",
            "followers_url": "https://api.github.com/users/afischer/followers",
            "following_url": "https://api.github.com/users/afischer/following{/other_user}",
            "gists_url": "https://api.github.com/users/afischer/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/afischer/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/afischer/subscriptions",
            "organizations_url": "https://api.github.com/users/afischer/orgs",
            "repos_url": "https://api.github.com/users/afischer/repos",
            "events_url": "https://api.github.com/users/afischer/events{/privacy}",
            "received_events_url": "https://api.github.com/users/afischer/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "This is some \ud83d\udcaf Ruby.\r\n\r\n![good job](https://media.giphy.com/media/P0RWkdsRpK7ss/giphy.gif)",
        "created_at": "2017-09-09T15:16:32Z",
        "updated_at": "2017-09-09T15:17:49Z",
        "html_url": "https://github.com/alexwgraves/ascriber/pull/1#discussion_r137928600",
        "pull_request_url": "https://api.github.com/repos/alexwgraves/ascriber/pulls/1",
        "author_association": "COLLABORATOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/alexwgraves/ascriber/pulls/comments/137928600"
            },
            "html": {
                "href": "https://github.com/alexwgraves/ascriber/pull/1#discussion_r137928600"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/alexwgraves/ascriber/pulls/1"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/alexwgraves/ascriber/pulls/comments/137937894",
        "pull_request_review_id": 61673584,
        "id": 137937894,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNzkzNzg5NA==",
        "diff_hunk": "@@ -33,7 +33,7 @@ def date_list\n     body = res.body\n     json = JSON.parse(body)\n     json.shift # pop off header row\n-    timestamps = json.map { |archive| Date.parse(archive[1]) }\n+    timestamps = json.map { |archive| archive[1] == nil ? Date.now : Date.parse(archive[1]) }",
        "path": "scripts/dater.rb",
        "position": null,
        "original_position": 5,
        "commit_id": "98ee4fe8f78989eb69e628b6f5109a5f272cc206",
        "original_commit_id": "c3051e543811c359b8c978bd9c2bf2377e4fe8e3",
        "user": {
            "login": "alexwgraves",
            "id": 16271232,
            "node_id": "MDQ6VXNlcjE2MjcxMjMy",
            "avatar_url": "https://avatars1.githubusercontent.com/u/16271232?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/alexwgraves",
            "html_url": "https://github.com/alexwgraves",
            "followers_url": "https://api.github.com/users/alexwgraves/followers",
            "following_url": "https://api.github.com/users/alexwgraves/following{/other_user}",
            "gists_url": "https://api.github.com/users/alexwgraves/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/alexwgraves/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/alexwgraves/subscriptions",
            "organizations_url": "https://api.github.com/users/alexwgraves/orgs",
            "repos_url": "https://api.github.com/users/alexwgraves/repos",
            "events_url": "https://api.github.com/users/alexwgraves/events{/privacy}",
            "received_events_url": "https://api.github.com/users/alexwgraves/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Use `.nil?` instead? Unless you don't want to because of your ~ ternary operator ~",
        "created_at": "2017-09-10T00:22:06Z",
        "updated_at": "2017-09-10T00:24:31Z",
        "html_url": "https://github.com/alexwgraves/ascriber/pull/11#discussion_r137937894",
        "pull_request_url": "https://api.github.com/repos/alexwgraves/ascriber/pulls/11",
        "author_association": "OWNER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/alexwgraves/ascriber/pulls/comments/137937894"
            },
            "html": {
                "href": "https://github.com/alexwgraves/ascriber/pull/11#discussion_r137937894"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/alexwgraves/ascriber/pulls/11"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/alexwgraves/ascriber/pulls/comments/137937903",
        "pull_request_review_id": 61673593,
        "id": 137937903,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNzkzNzkwMw==",
        "diff_hunk": "@@ -38,4 +48,21 @@ def similar_images\n     json = JSON.parse(body)\n     json\n   end\n+\n+  def authors\n+    language = init_language\n+    entities = language.document(@credit).entities\n+    authors = []\n+    entities.each do |entity|\n+      authors << entity.name if entity.type == :PERSON\n+    end\n+    authors\n+  end\n+\n+  def init_language\n+    project_id = 'ascriber-179402'\n+    scopes = ['https://www.googleapis.com/auth/cloud-platform', 'https://www.googleapis.com/auth/cloud-vision']",
        "path": "app/models/image.rb",
        "position": null,
        "original_position": 42,
        "commit_id": "a1763a90af1a21e84c8c7b666c8d00f0401d9b80",
        "original_commit_id": "0cd241f7da50100deaf96a151febfab656f284c5",
        "user": {
            "login": "afischer",
            "id": 5422397,
            "node_id": "MDQ6VXNlcjU0MjIzOTc=",
            "avatar_url": "https://avatars1.githubusercontent.com/u/5422397?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/afischer",
            "html_url": "https://github.com/afischer",
            "followers_url": "https://api.github.com/users/afischer/followers",
            "following_url": "https://api.github.com/users/afischer/following{/other_user}",
            "gists_url": "https://api.github.com/users/afischer/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/afischer/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/afischer/subscriptions",
            "organizations_url": "https://api.github.com/users/afischer/orgs",
            "repos_url": "https://api.github.com/users/afischer/repos",
            "events_url": "https://api.github.com/users/afischer/events{/privacy}",
            "received_events_url": "https://api.github.com/users/afischer/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "do you actually need this scope here?",
        "created_at": "2017-09-10T00:23:07Z",
        "updated_at": "2017-09-10T00:26:34Z",
        "html_url": "https://github.com/alexwgraves/ascriber/pull/10#discussion_r137937903",
        "pull_request_url": "https://api.github.com/repos/alexwgraves/ascriber/pulls/10",
        "author_association": "COLLABORATOR",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/alexwgraves/ascriber/pulls/comments/137937903"
            },
            "html": {
                "href": "https://github.com/alexwgraves/ascriber/pull/10#discussion_r137937903"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/alexwgraves/ascriber/pulls/10"
            }
        }
    },
    {
        "url": "https://api.github.com/repos/alexwgraves/ascriber/pulls/comments/137941324",
        "pull_request_review_id": 61676699,
        "id": 137941324,
        "node_id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDEzNzk0MTMyNA==",
        "diff_hunk": "@@ -33,5 +79,45 @@\n         Built by Andrew Fischer, Cyrena Gonzalez, &amp; Alex Graves.\n       </small>\n     </footer>\n+\n+    <script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js\"></script>\n+    <script type=\"text/javascript\">\n+      var similars = document.getElementsByClassName(\"find-similar\");\n+\n+      for (var i = 0; i < similars.length; i++) {\n+        similars[i].addEventListener('click', function(e) {\n+          e.target.innerHTML = '<div class=\"spinner\"><div class=\"bounce1\"></div><div class=\"bounce2\"></div><div class=\"bounce3\"></div></div>'\n+          var row = $(e.target).closest('tr');\n+          var url = this.getAttribute(\"data-img-url\");\n+          var date = (new Date).getTime();\n+          $(row).after('<tr><td id=\"related-images-' + date + '\" colspan=\"4\"></td></tr>');\n+\n+          $.post( \"/similar\", { search_url: url } ).done(function( data ) {\n+            var data = JSON.parse(data)\n+            data = data['items']\n+            for (var i = 0; i < data.length; i++) {\n+              img = data[i]['image'];\n+              var thumb = data[i]['image']['thumbnailLink']\n+              var full = data[i]['link']\n+              $('#related-images-' + date).append('<a href=\"' + full + '\"><img src=\"' + thumb + '\"></a>')\n+              e.target.innerHTML = 'Done!'",
        "path": "app/views/layout.erb",
        "position": null,
        "original_position": 78,
        "commit_id": "0db2b17e4a2f94c2cf7410c36159323d15d1db49",
        "original_commit_id": "349a241ede6dcc8892ec98ba21a5e1dbac9171e3",
        "user": {
            "login": "alexwgraves",
            "id": 16271232,
            "node_id": "MDQ6VXNlcjE2MjcxMjMy",
            "avatar_url": "https://avatars1.githubusercontent.com/u/16271232?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/alexwgraves",
            "html_url": "https://github.com/alexwgraves",
            "followers_url": "https://api.github.com/users/alexwgraves/followers",
            "following_url": "https://api.github.com/users/alexwgraves/following{/other_user}",
            "gists_url": "https://api.github.com/users/alexwgraves/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/alexwgraves/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/alexwgraves/subscriptions",
            "organizations_url": "https://api.github.com/users/alexwgraves/orgs",
            "repos_url": "https://api.github.com/users/alexwgraves/repos",
            "events_url": "https://api.github.com/users/alexwgraves/events{/privacy}",
            "received_events_url": "https://api.github.com/users/alexwgraves/received_events",
            "type": "User",
            "site_admin": false
        },
        "body": "Remove the link from this when it's done.",
        "created_at": "2017-09-10T05:21:01Z",
        "updated_at": "2017-09-10T05:27:17Z",
        "html_url": "https://github.com/alexwgraves/ascriber/pull/13#discussion_r137941324",
        "pull_request_url": "https://api.github.com/repos/alexwgraves/ascriber/pulls/13",
        "author_association": "OWNER",
        "_links": {
            "self": {
                "href": "https://api.github.com/repos/alexwgraves/ascriber/pulls/comments/137941324"
            },
            "html": {
                "href": "https://github.com/alexwgraves/ascriber/pull/13#discussion_r137941324"
            },
            "pull_request": {
                "href": "https://api.github.com/repos/alexwgraves/ascriber/pulls/13"
            }
        }
    }
]